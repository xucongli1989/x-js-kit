"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toHourStringFromMins = toHourStringFromMins;
exports.format = format;

var _data = require("../common/data");

/**
 * 将分钟数转为带小时的字符串，如：10小时20分钟
 */
function toHourStringFromMins(mins) {
  if (mins < 0) {
    return "";
  }

  if (mins == 0) {
    return "0分钟";
  }

  var h = parseInt((mins / 60).toString());
  var m = parseInt((mins % 60).toString());
  var s = [];

  if (h > 0) {
    s.push("".concat(h, "\u5C0F\u65F6"));
  }

  if (m > 0) {
    s.push("".concat(m, "\u5206\u949F"));
  }

  return s.join("");
}
/**
 * 将Date对象转换为指定的格式字符串
 * 注：月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
 * @param dateValue 日期对象
 * @param fmt 格式（默认值为yyyy-MM-dd），如：yyyy-MM-dd
 * @returns 格式化后的字符串
 */


function format(dateValue) {
  var fmt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "yyyy-MM-dd";
  var dt = dateValue;

  if ((0, _data.isNumber)(dateValue)) {
    dt = new Date(dateValue);
  }

  if (!(0, _data.isDate)(dt)) {
    return "";
  }

  var o = {
    "M+": dt.getMonth() + 1,
    //月份 
    "d+": dt.getDate(),
    //日 
    "h+": dt.getHours(),
    //小时 
    "m+": dt.getMinutes(),
    //分 
    "s+": dt.getSeconds(),
    //秒 
    "q+": Math.floor((dt.getMonth() + 3) / 3),
    //季度 
    "S": dt.getMilliseconds() //毫秒 

  };

  if (/(y+)/.test(fmt)) {
    fmt = fmt.replace(RegExp.$1, (dt.getFullYear() + "").substr(4 - RegExp.$1.length));
  }

  for (var k in o) {
    if (new RegExp("(" + k + ")").test(fmt)) {
      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
    }
  }

  return fmt;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlL2Zvcm1hdC50cyJdLCJuYW1lcyI6WyJ0b0hvdXJTdHJpbmdGcm9tTWlucyIsIm1pbnMiLCJoIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsIm0iLCJzIiwicHVzaCIsImpvaW4iLCJmb3JtYXQiLCJkYXRlVmFsdWUiLCJmbXQiLCJkdCIsIkRhdGUiLCJvIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImdldE1pbGxpc2Vjb25kcyIsInRlc3QiLCJyZXBsYWNlIiwiUmVnRXhwIiwiJDEiLCJnZXRGdWxsWWVhciIsInN1YnN0ciIsImxlbmd0aCIsImsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBRUE7OztBQUdPLFNBQVNBLG9CQUFULENBQThCQyxJQUE5QixFQUFvRDtBQUN2RCxNQUFJQSxJQUFJLEdBQUcsQ0FBWCxFQUFjO0FBQ1YsV0FBTyxFQUFQO0FBQ0g7O0FBQ0QsTUFBSUEsSUFBSSxJQUFJLENBQVosRUFBZTtBQUNYLFdBQU8sS0FBUDtBQUNIOztBQUNELE1BQUlDLENBQUMsR0FBR0MsUUFBUSxDQUFDLENBQUNGLElBQUksR0FBRyxFQUFSLEVBQVlHLFFBQVosRUFBRCxDQUFoQjtBQUNBLE1BQUlDLENBQUMsR0FBR0YsUUFBUSxDQUFDLENBQUNGLElBQUksR0FBRyxFQUFSLEVBQVlHLFFBQVosRUFBRCxDQUFoQjtBQUNBLE1BQUlFLENBQUMsR0FBRyxFQUFSOztBQUNBLE1BQUlKLENBQUMsR0FBRyxDQUFSLEVBQVc7QUFDUEksSUFBQUEsQ0FBQyxDQUFDQyxJQUFGLFdBQVVMLENBQVY7QUFDSDs7QUFDRCxNQUFJRyxDQUFDLEdBQUcsQ0FBUixFQUFXO0FBQ1BDLElBQUFBLENBQUMsQ0FBQ0MsSUFBRixXQUFVRixDQUFWO0FBQ0g7O0FBQ0QsU0FBT0MsQ0FBQyxDQUFDRSxJQUFGLENBQU8sRUFBUCxDQUFQO0FBQ0g7QUFFRDs7Ozs7Ozs7O0FBT08sU0FBU0MsTUFBVCxDQUFnQkMsU0FBaEIsRUFBc0U7QUFBQSxNQUE1QkMsR0FBNEIsdUVBQWQsWUFBYztBQUN6RSxNQUFJQyxFQUFRLEdBQUdGLFNBQWY7O0FBQ0EsTUFBSSxvQkFBU0EsU0FBVCxDQUFKLEVBQWdDO0FBQzVCRSxJQUFBQSxFQUFFLEdBQUcsSUFBSUMsSUFBSixDQUFTSCxTQUFULENBQUw7QUFDSDs7QUFDRCxNQUFJLENBQUMsa0JBQU9FLEVBQVAsQ0FBTCxFQUFpQjtBQUNiLFdBQU8sRUFBUDtBQUNIOztBQUNELE1BQU1FLENBQU0sR0FBRztBQUNYLFVBQU1GLEVBQUUsQ0FBQ0csUUFBSCxLQUFnQixDQURYO0FBQ2M7QUFDekIsVUFBTUgsRUFBRSxDQUFDSSxPQUFILEVBRks7QUFFUztBQUNwQixVQUFNSixFQUFFLENBQUNLLFFBQUgsRUFISztBQUdVO0FBQ3JCLFVBQU1MLEVBQUUsQ0FBQ00sVUFBSCxFQUpLO0FBSVk7QUFDdkIsVUFBTU4sRUFBRSxDQUFDTyxVQUFILEVBTEs7QUFLWTtBQUN2QixVQUFNQyxJQUFJLENBQUNDLEtBQUwsQ0FBVyxDQUFDVCxFQUFFLENBQUNHLFFBQUgsS0FBZ0IsQ0FBakIsSUFBc0IsQ0FBakMsQ0FOSztBQU1nQztBQUMzQyxTQUFLSCxFQUFFLENBQUNVLGVBQUgsRUFQTSxDQU9lOztBQVBmLEdBQWY7O0FBU0EsTUFBSSxPQUFPQyxJQUFQLENBQVlaLEdBQVosQ0FBSixFQUFzQjtBQUNsQkEsSUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNhLE9BQUosQ0FBWUMsTUFBTSxDQUFDQyxFQUFuQixFQUF1QixDQUFDZCxFQUFFLENBQUNlLFdBQUgsS0FBbUIsRUFBcEIsRUFBd0JDLE1BQXhCLENBQStCLElBQUlILE1BQU0sQ0FBQ0MsRUFBUCxDQUFVRyxNQUE3QyxDQUF2QixDQUFOO0FBQ0g7O0FBQ0QsT0FBSyxJQUFJQyxDQUFULElBQWNoQixDQUFkLEVBQWlCO0FBQ2IsUUFBSSxJQUFJVyxNQUFKLENBQVcsTUFBTUssQ0FBTixHQUFVLEdBQXJCLEVBQTBCUCxJQUExQixDQUErQlosR0FBL0IsQ0FBSixFQUF5QztBQUNyQ0EsTUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNhLE9BQUosQ0FBWUMsTUFBTSxDQUFDQyxFQUFuQixFQUF3QkQsTUFBTSxDQUFDQyxFQUFQLENBQVVHLE1BQVYsSUFBb0IsQ0FBckIsR0FBMkJmLENBQUMsQ0FBQ2dCLENBQUQsQ0FBNUIsR0FBb0MsQ0FBQyxPQUFPaEIsQ0FBQyxDQUFDZ0IsQ0FBRCxDQUFULEVBQWNGLE1BQWQsQ0FBcUIsQ0FBQyxLQUFLZCxDQUFDLENBQUNnQixDQUFELENBQVAsRUFBWUQsTUFBakMsQ0FBM0QsQ0FBTjtBQUNIO0FBQ0o7O0FBQ0QsU0FBT2xCLEdBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyLCBpc0RhdGUgfSBmcm9tIFwiLi4vY29tbW9uL2RhdGFcIlxyXG5cclxuLyoqXHJcbiAqIOWwhuWIhumSn+aVsOi9rOS4uuW4puWwj+aXtueahOWtl+espuS4su+8jOWmgu+8mjEw5bCP5pe2MjDliIbpkp9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0hvdXJTdHJpbmdGcm9tTWlucyhtaW5zOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgaWYgKG1pbnMgPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGlmIChtaW5zID09IDApIHtcclxuICAgICAgICByZXR1cm4gXCIw5YiG6ZKfXCJcclxuICAgIH1cclxuICAgIGxldCBoID0gcGFyc2VJbnQoKG1pbnMgLyA2MCkudG9TdHJpbmcoKSk7XHJcbiAgICBsZXQgbSA9IHBhcnNlSW50KChtaW5zICUgNjApLnRvU3RyaW5nKCkpO1xyXG4gICAgbGV0IHMgPSBbXTtcclxuICAgIGlmIChoID4gMCkge1xyXG4gICAgICAgIHMucHVzaChgJHtofeWwj+aXtmApO1xyXG4gICAgfVxyXG4gICAgaWYgKG0gPiAwKSB7XHJcbiAgICAgICAgcy5wdXNoKGAke2195YiG6ZKfYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xyXG59XHJcblxyXG4vKipcclxuICog5bCGRGF0ZeWvueixoei9rOaNouS4uuaMh+WumueahOagvOW8j+Wtl+espuS4slxyXG4gKiDms6jvvJrmnIgoTSnjgIHml6UoZCnjgIHlsI/ml7YoaCnjgIHliIYobSnjgIHnp5IocynjgIHlraPluqYocSkg5Y+v5Lul55SoIDEtMiDkuKrljaDkvY3nrKbvvIzlubQoeSnlj6/ku6XnlKggMS00IOS4quWNoOS9jeespu+8jOavq+enkihTKeWPquiDveeUqCAxIOS4quWNoOS9jeespijmmK8gMS0zIOS9jeeahOaVsOWtlylcclxuICogQHBhcmFtIGRhdGVWYWx1ZSDml6XmnJ/lr7nosaFcclxuICogQHBhcmFtIGZtdCDmoLzlvI/vvIjpu5jorqTlgLzkuLp5eXl5LU1NLWRk77yJ77yM5aaC77yaeXl5eS1NTS1kZFxyXG4gKiBAcmV0dXJucyDmoLzlvI/ljJblkI7nmoTlrZfnrKbkuLJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoZGF0ZVZhbHVlOiBEYXRlIHwgbnVtYmVyLCBmbXQ6IHN0cmluZyA9IFwieXl5eS1NTS1kZFwiKSB7XHJcbiAgICBsZXQgZHQ6IERhdGUgPSBkYXRlVmFsdWUgYXMgRGF0ZVxyXG4gICAgaWYgKGlzTnVtYmVyKGRhdGVWYWx1ZSBhcyBhbnkpKSB7XHJcbiAgICAgICAgZHQgPSBuZXcgRGF0ZShkYXRlVmFsdWUpXHJcbiAgICB9XHJcbiAgICBpZiAoIWlzRGF0ZShkdCkpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgY29uc3QgbzogYW55ID0ge1xyXG4gICAgICAgIFwiTStcIjogZHQuZ2V0TW9udGgoKSArIDEsIC8v5pyI5Lu9IFxyXG4gICAgICAgIFwiZCtcIjogZHQuZ2V0RGF0ZSgpLCAvL+aXpSBcclxuICAgICAgICBcImgrXCI6IGR0LmdldEhvdXJzKCksIC8v5bCP5pe2IFxyXG4gICAgICAgIFwibStcIjogZHQuZ2V0TWludXRlcygpLCAvL+WIhiBcclxuICAgICAgICBcInMrXCI6IGR0LmdldFNlY29uZHMoKSwgLy/np5IgXHJcbiAgICAgICAgXCJxK1wiOiBNYXRoLmZsb29yKChkdC5nZXRNb250aCgpICsgMykgLyAzKSwgLy/lraPluqYgXHJcbiAgICAgICAgXCJTXCI6IGR0LmdldE1pbGxpc2Vjb25kcygpIC8v5q+r56eSIFxyXG4gICAgfTtcclxuICAgIGlmICgvKHkrKS8udGVzdChmbXQpKSB7XHJcbiAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoZHQuZ2V0RnVsbFllYXIoKSArIFwiXCIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBrIGluIG8pIHtcclxuICAgICAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmbXQpKSB7XHJcbiAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmbXRcclxufSAgIl19