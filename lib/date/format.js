"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toHourStringFromMins = toHourStringFromMins;
exports.format = format;

var _data = require("../common/data");

/**
 * 将分钟数转为带小时的字符串，如：10小时20分钟
 */
function toHourStringFromMins(mins) {
  if (mins < 0) {
    return "";
  }

  if (mins == 0) {
    return "0分钟";
  }

  var h = parseInt((mins / 60).toString());
  var m = parseInt((mins % 60).toString());
  var s = [];

  if (h > 0) {
    s.push("".concat(h, "\u5C0F\u65F6"));
  }

  if (m > 0) {
    s.push("".concat(m, "\u5206\u949F"));
  }

  return s.join("");
}
/**
 * 将Date对象转换为指定的格式字符串
 * 注：月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
 * @param dateValue 日期对象
 * @param fmtStr 格式（默认值为yyyy-MM-dd），如：yyyy-MM-dd
 * @returns 格式化后的字符串
 */


function format(dateValue) {
  var fmtStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "yyyy-MM-dd";
  var fmt = fmtStr;
  var dt = dateValue;

  if ((0, _data.isNumber)(dateValue)) {
    dt = new Date(dateValue);
  }

  if (!(0, _data.isDate)(dt)) {
    return "";
  }

  var o = {
    "M+": dt.getMonth() + 1,
    //月份
    "d+": dt.getDate(),
    //日
    "h+": dt.getHours(),
    //小时
    "m+": dt.getMinutes(),
    //分
    "s+": dt.getSeconds(),
    //秒
    "q+": Math.floor((dt.getMonth() + 3) / 3),
    //季度
    S: dt.getMilliseconds() //毫秒

  };

  if (/(y+)/.test(fmt)) {
    fmt = fmt.replace(RegExp.$1, (dt.getFullYear() + "").substr(4 - RegExp.$1.length));
  }

  for (var k in o) {
    if (new RegExp("(" + k + ")").test(fmt)) {
      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
    }
  }

  return fmt;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlL2Zvcm1hdC50cyJdLCJuYW1lcyI6WyJ0b0hvdXJTdHJpbmdGcm9tTWlucyIsIm1pbnMiLCJoIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsIm0iLCJzIiwicHVzaCIsImpvaW4iLCJmb3JtYXQiLCJkYXRlVmFsdWUiLCJmbXRTdHIiLCJmbXQiLCJkdCIsIkRhdGUiLCJvIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsIlMiLCJnZXRNaWxsaXNlY29uZHMiLCJ0ZXN0IiwicmVwbGFjZSIsIlJlZ0V4cCIsIiQxIiwiZ2V0RnVsbFllYXIiLCJzdWJzdHIiLCJsZW5ndGgiLCJrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLG9CQUFULENBQThCQyxJQUE5QixFQUFvRDtBQUN2RCxNQUFJQSxJQUFJLEdBQUcsQ0FBWCxFQUFjO0FBQ1YsV0FBTyxFQUFQO0FBQ0g7O0FBQ0QsTUFBSUEsSUFBSSxJQUFJLENBQVosRUFBZTtBQUNYLFdBQU8sS0FBUDtBQUNIOztBQUNELE1BQU1DLENBQUMsR0FBR0MsUUFBUSxDQUFDLENBQUNGLElBQUksR0FBRyxFQUFSLEVBQVlHLFFBQVosRUFBRCxDQUFsQjtBQUNBLE1BQU1DLENBQUMsR0FBR0YsUUFBUSxDQUFDLENBQUNGLElBQUksR0FBRyxFQUFSLEVBQVlHLFFBQVosRUFBRCxDQUFsQjtBQUNBLE1BQU1FLENBQUMsR0FBRyxFQUFWOztBQUNBLE1BQUlKLENBQUMsR0FBRyxDQUFSLEVBQVc7QUFDUEksSUFBQUEsQ0FBQyxDQUFDQyxJQUFGLFdBQVVMLENBQVY7QUFDSDs7QUFDRCxNQUFJRyxDQUFDLEdBQUcsQ0FBUixFQUFXO0FBQ1BDLElBQUFBLENBQUMsQ0FBQ0MsSUFBRixXQUFVRixDQUFWO0FBQ0g7O0FBQ0QsU0FBT0MsQ0FBQyxDQUFDRSxJQUFGLENBQU8sRUFBUCxDQUFQO0FBQ0g7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ08sU0FBU0MsTUFBVCxDQUFnQkMsU0FBaEIsRUFBeUU7QUFBQSxNQUEvQkMsTUFBK0IsdUVBQWQsWUFBYztBQUM1RSxNQUFJQyxHQUFHLEdBQUdELE1BQVY7QUFDQSxNQUFJRSxFQUFRLEdBQUdILFNBQWY7O0FBQ0EsTUFBSSxvQkFBU0EsU0FBVCxDQUFKLEVBQWdDO0FBQzVCRyxJQUFBQSxFQUFFLEdBQUcsSUFBSUMsSUFBSixDQUFTSixTQUFULENBQUw7QUFDSDs7QUFDRCxNQUFJLENBQUMsa0JBQU9HLEVBQVAsQ0FBTCxFQUFpQjtBQUNiLFdBQU8sRUFBUDtBQUNIOztBQUNELE1BQU1FLENBQU0sR0FBRztBQUNYLFVBQU1GLEVBQUUsQ0FBQ0csUUFBSCxLQUFnQixDQURYO0FBQ2M7QUFDekIsVUFBTUgsRUFBRSxDQUFDSSxPQUFILEVBRks7QUFFUztBQUNwQixVQUFNSixFQUFFLENBQUNLLFFBQUgsRUFISztBQUdVO0FBQ3JCLFVBQU1MLEVBQUUsQ0FBQ00sVUFBSCxFQUpLO0FBSVk7QUFDdkIsVUFBTU4sRUFBRSxDQUFDTyxVQUFILEVBTEs7QUFLWTtBQUN2QixVQUFNQyxJQUFJLENBQUNDLEtBQUwsQ0FBVyxDQUFDVCxFQUFFLENBQUNHLFFBQUgsS0FBZ0IsQ0FBakIsSUFBc0IsQ0FBakMsQ0FOSztBQU1nQztBQUMzQ08sSUFBQUEsQ0FBQyxFQUFFVixFQUFFLENBQUNXLGVBQUgsRUFQUSxDQU9hOztBQVBiLEdBQWY7O0FBU0EsTUFBSSxPQUFPQyxJQUFQLENBQVliLEdBQVosQ0FBSixFQUFzQjtBQUNsQkEsSUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNjLE9BQUosQ0FBWUMsTUFBTSxDQUFDQyxFQUFuQixFQUF1QixDQUFDZixFQUFFLENBQUNnQixXQUFILEtBQW1CLEVBQXBCLEVBQXdCQyxNQUF4QixDQUErQixJQUFJSCxNQUFNLENBQUNDLEVBQVAsQ0FBVUcsTUFBN0MsQ0FBdkIsQ0FBTjtBQUNIOztBQUNELE9BQUssSUFBTUMsQ0FBWCxJQUFnQmpCLENBQWhCLEVBQW1CO0FBQ2YsUUFBSSxJQUFJWSxNQUFKLENBQVcsTUFBTUssQ0FBTixHQUFVLEdBQXJCLEVBQTBCUCxJQUExQixDQUErQmIsR0FBL0IsQ0FBSixFQUF5QztBQUNyQ0EsTUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNjLE9BQUosQ0FBWUMsTUFBTSxDQUFDQyxFQUFuQixFQUF1QkQsTUFBTSxDQUFDQyxFQUFQLENBQVVHLE1BQVYsSUFBb0IsQ0FBcEIsR0FBd0JoQixDQUFDLENBQUNpQixDQUFELENBQXpCLEdBQStCLENBQUMsT0FBT2pCLENBQUMsQ0FBQ2lCLENBQUQsQ0FBVCxFQUFjRixNQUFkLENBQXFCLENBQUMsS0FBS2YsQ0FBQyxDQUFDaUIsQ0FBRCxDQUFQLEVBQVlELE1BQWpDLENBQXRELENBQU47QUFDSDtBQUNKOztBQUNELFNBQU9uQixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciwgaXNEYXRlIH0gZnJvbSBcIi4uL2NvbW1vbi9kYXRhXCJcclxuXHJcbi8qKlxyXG4gKiDlsIbliIbpkp/mlbDovazkuLrluKblsI/ml7bnmoTlrZfnrKbkuLLvvIzlpoLvvJoxMOWwj+aXtjIw5YiG6ZKfXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9Ib3VyU3RyaW5nRnJvbU1pbnMobWluczogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGlmIChtaW5zIDwgMCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiXHJcbiAgICB9XHJcbiAgICBpZiAobWlucyA9PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiMOWIhumSn1wiXHJcbiAgICB9XHJcbiAgICBjb25zdCBoID0gcGFyc2VJbnQoKG1pbnMgLyA2MCkudG9TdHJpbmcoKSlcclxuICAgIGNvbnN0IG0gPSBwYXJzZUludCgobWlucyAlIDYwKS50b1N0cmluZygpKVxyXG4gICAgY29uc3QgcyA9IFtdXHJcbiAgICBpZiAoaCA+IDApIHtcclxuICAgICAgICBzLnB1c2goYCR7aH3lsI/ml7ZgKVxyXG4gICAgfVxyXG4gICAgaWYgKG0gPiAwKSB7XHJcbiAgICAgICAgcy5wdXNoKGAke2195YiG6ZKfYClcclxuICAgIH1cclxuICAgIHJldHVybiBzLmpvaW4oXCJcIilcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwhkRhdGXlr7nosaHovazmjaLkuLrmjIflrprnmoTmoLzlvI/lrZfnrKbkuLJcclxuICog5rOo77ya5pyIKE0p44CB5pelKGQp44CB5bCP5pe2KGgp44CB5YiGKG0p44CB56eSKHMp44CB5a2j5bqmKHEpIOWPr+S7peeUqCAxLTIg5Liq5Y2g5L2N56ym77yM5bm0KHkp5Y+v5Lul55SoIDEtNCDkuKrljaDkvY3nrKbvvIzmr6vnp5IoUynlj6rog73nlKggMSDkuKrljaDkvY3nrKYo5pivIDEtMyDkvY3nmoTmlbDlrZcpXHJcbiAqIEBwYXJhbSBkYXRlVmFsdWUg5pel5pyf5a+56LGhXHJcbiAqIEBwYXJhbSBmbXRTdHIg5qC85byP77yI6buY6K6k5YC85Li6eXl5eS1NTS1kZO+8ie+8jOWmgu+8mnl5eXktTU0tZGRcclxuICogQHJldHVybnMg5qC85byP5YyW5ZCO55qE5a2X56ym5LiyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGRhdGVWYWx1ZTogRGF0ZSB8IG51bWJlciwgZm10U3RyOiBzdHJpbmcgPSBcInl5eXktTU0tZGRcIikge1xyXG4gICAgbGV0IGZtdCA9IGZtdFN0clxyXG4gICAgbGV0IGR0OiBEYXRlID0gZGF0ZVZhbHVlIGFzIERhdGVcclxuICAgIGlmIChpc051bWJlcihkYXRlVmFsdWUgYXMgYW55KSkge1xyXG4gICAgICAgIGR0ID0gbmV3IERhdGUoZGF0ZVZhbHVlKVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc0RhdGUoZHQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IG86IGFueSA9IHtcclxuICAgICAgICBcIk0rXCI6IGR0LmdldE1vbnRoKCkgKyAxLCAvL+aciOS7vVxyXG4gICAgICAgIFwiZCtcIjogZHQuZ2V0RGF0ZSgpLCAvL+aXpVxyXG4gICAgICAgIFwiaCtcIjogZHQuZ2V0SG91cnMoKSwgLy/lsI/ml7ZcclxuICAgICAgICBcIm0rXCI6IGR0LmdldE1pbnV0ZXMoKSwgLy/liIZcclxuICAgICAgICBcInMrXCI6IGR0LmdldFNlY29uZHMoKSwgLy/np5JcclxuICAgICAgICBcInErXCI6IE1hdGguZmxvb3IoKGR0LmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6plxyXG4gICAgICAgIFM6IGR0LmdldE1pbGxpc2Vjb25kcygpIC8v5q+r56eSXHJcbiAgICB9XHJcbiAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkge1xyXG4gICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGR0LmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKVxyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrIGluIG8pIHtcclxuICAgICAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmbXQpKSB7XHJcbiAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgUmVnRXhwLiQxLmxlbmd0aCA9PSAxID8gb1trXSA6IChcIjAwXCIgKyBvW2tdKS5zdWJzdHIoKFwiXCIgKyBvW2tdKS5sZW5ndGgpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmbXRcclxufVxyXG4iXX0=