"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toHourStringFromMins = toHourStringFromMins;
exports.format = format;

var _data = require("../common/data");

/**
 * 将分钟数转为带小时的字符串，如：10小时20分钟
 */
function toHourStringFromMins(mins) {
  if (mins < 0) {
    return "";
  }

  if (mins == 0) {
    return "0分钟";
  }

  var h = parseInt((mins / 60).toString());
  var m = parseInt((mins % 60).toString());
  var s = [];

  if (h > 0) {
    s.push("".concat(h, "\u5C0F\u65F6"));
  }

  if (m > 0) {
    s.push("".concat(m, "\u5206\u949F"));
  }

  return s.join("");
}
/**
 * 将Date对象转换为指定的格式字符串
 * 注：月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
 * @param dateValue 日期对象
 * @param fmtStr 格式（默认值为yyyy-MM-dd），如：yyyy-MM-dd
 * @returns 格式化后的字符串
 */


function format(dateValue) {
  var fmtStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "yyyy-MM-dd";
  var fmt = fmtStr;
  var dt = dateValue;

  if ((0, _data.isNumber)(dateValue)) {
    dt = new Date(dateValue);
  }

  if (!(0, _data.isDate)(dt)) {
    return "";
  }

  var o = {
    "M+": dt.getMonth() + 1,
    //月份 
    "d+": dt.getDate(),
    //日 
    "h+": dt.getHours(),
    //小时 
    "m+": dt.getMinutes(),
    //分 
    "s+": dt.getSeconds(),
    //秒 
    "q+": Math.floor((dt.getMonth() + 3) / 3),
    //季度 
    S: dt.getMilliseconds() //毫秒 

  };

  if (/(y+)/.test(fmt)) {
    fmt = fmt.replace(RegExp.$1, (dt.getFullYear() + "").substr(4 - RegExp.$1.length));
  }

  for (var k in o) {
    if (new RegExp("(" + k + ")").test(fmt)) {
      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
    }
  }

  return fmt;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlL2Zvcm1hdC50cyJdLCJuYW1lcyI6WyJ0b0hvdXJTdHJpbmdGcm9tTWlucyIsIm1pbnMiLCJoIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsIm0iLCJzIiwicHVzaCIsImpvaW4iLCJmb3JtYXQiLCJkYXRlVmFsdWUiLCJmbXRTdHIiLCJmbXQiLCJkdCIsIkRhdGUiLCJvIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsIlMiLCJnZXRNaWxsaXNlY29uZHMiLCJ0ZXN0IiwicmVwbGFjZSIsIlJlZ0V4cCIsIiQxIiwiZ2V0RnVsbFllYXIiLCJzdWJzdHIiLCJsZW5ndGgiLCJrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUVBOzs7QUFHTyxTQUFTQSxvQkFBVCxDQUE4QkMsSUFBOUIsRUFBb0Q7QUFDdkQsTUFBSUEsSUFBSSxHQUFHLENBQVgsRUFBYztBQUNWLFdBQU8sRUFBUDtBQUNIOztBQUNELE1BQUlBLElBQUksSUFBSSxDQUFaLEVBQWU7QUFDWCxXQUFPLEtBQVA7QUFDSDs7QUFDRCxNQUFNQyxDQUFDLEdBQUdDLFFBQVEsQ0FBQyxDQUFDRixJQUFJLEdBQUcsRUFBUixFQUFZRyxRQUFaLEVBQUQsQ0FBbEI7QUFDQSxNQUFNQyxDQUFDLEdBQUdGLFFBQVEsQ0FBQyxDQUFDRixJQUFJLEdBQUcsRUFBUixFQUFZRyxRQUFaLEVBQUQsQ0FBbEI7QUFDQSxNQUFNRSxDQUFDLEdBQUcsRUFBVjs7QUFDQSxNQUFJSixDQUFDLEdBQUcsQ0FBUixFQUFXO0FBQ1BJLElBQUFBLENBQUMsQ0FBQ0MsSUFBRixXQUFVTCxDQUFWO0FBQ0g7O0FBQ0QsTUFBSUcsQ0FBQyxHQUFHLENBQVIsRUFBVztBQUNQQyxJQUFBQSxDQUFDLENBQUNDLElBQUYsV0FBVUYsQ0FBVjtBQUNIOztBQUNELFNBQU9DLENBQUMsQ0FBQ0UsSUFBRixDQUFPLEVBQVAsQ0FBUDtBQUNIO0FBRUQ7Ozs7Ozs7OztBQU9PLFNBQVNDLE1BQVQsQ0FBZ0JDLFNBQWhCLEVBQXlFO0FBQUEsTUFBL0JDLE1BQStCLHVFQUFkLFlBQWM7QUFDNUUsTUFBSUMsR0FBRyxHQUFHRCxNQUFWO0FBQ0EsTUFBSUUsRUFBUSxHQUFHSCxTQUFmOztBQUNBLE1BQUksb0JBQVNBLFNBQVQsQ0FBSixFQUFnQztBQUM1QkcsSUFBQUEsRUFBRSxHQUFHLElBQUlDLElBQUosQ0FBU0osU0FBVCxDQUFMO0FBQ0g7O0FBQ0QsTUFBSSxDQUFDLGtCQUFPRyxFQUFQLENBQUwsRUFBaUI7QUFDYixXQUFPLEVBQVA7QUFDSDs7QUFDRCxNQUFNRSxDQUFNLEdBQUc7QUFDWCxVQUFNRixFQUFFLENBQUNHLFFBQUgsS0FBZ0IsQ0FEWDtBQUNjO0FBQ3pCLFVBQU1ILEVBQUUsQ0FBQ0ksT0FBSCxFQUZLO0FBRVM7QUFDcEIsVUFBTUosRUFBRSxDQUFDSyxRQUFILEVBSEs7QUFHVTtBQUNyQixVQUFNTCxFQUFFLENBQUNNLFVBQUgsRUFKSztBQUlZO0FBQ3ZCLFVBQU1OLEVBQUUsQ0FBQ08sVUFBSCxFQUxLO0FBS1k7QUFDdkIsVUFBTUMsSUFBSSxDQUFDQyxLQUFMLENBQVcsQ0FBQ1QsRUFBRSxDQUFDRyxRQUFILEtBQWdCLENBQWpCLElBQXNCLENBQWpDLENBTks7QUFNZ0M7QUFDM0NPLElBQUFBLENBQUMsRUFBRVYsRUFBRSxDQUFDVyxlQUFILEVBUFEsQ0FPYTs7QUFQYixHQUFmOztBQVNBLE1BQUksT0FBT0MsSUFBUCxDQUFZYixHQUFaLENBQUosRUFBc0I7QUFDbEJBLElBQUFBLEdBQUcsR0FBR0EsR0FBRyxDQUFDYyxPQUFKLENBQVlDLE1BQU0sQ0FBQ0MsRUFBbkIsRUFBdUIsQ0FBQ2YsRUFBRSxDQUFDZ0IsV0FBSCxLQUFtQixFQUFwQixFQUF3QkMsTUFBeEIsQ0FBK0IsSUFBSUgsTUFBTSxDQUFDQyxFQUFQLENBQVVHLE1BQTdDLENBQXZCLENBQU47QUFDSDs7QUFDRCxPQUFLLElBQU1DLENBQVgsSUFBZ0JqQixDQUFoQixFQUFtQjtBQUNmLFFBQUksSUFBSVksTUFBSixDQUFXLE1BQU1LLENBQU4sR0FBVSxHQUFyQixFQUEwQlAsSUFBMUIsQ0FBK0JiLEdBQS9CLENBQUosRUFBeUM7QUFDckNBLE1BQUFBLEdBQUcsR0FBR0EsR0FBRyxDQUFDYyxPQUFKLENBQVlDLE1BQU0sQ0FBQ0MsRUFBbkIsRUFBd0JELE1BQU0sQ0FBQ0MsRUFBUCxDQUFVRyxNQUFWLElBQW9CLENBQXJCLEdBQTJCaEIsQ0FBQyxDQUFDaUIsQ0FBRCxDQUE1QixHQUFvQyxDQUFDLE9BQU9qQixDQUFDLENBQUNpQixDQUFELENBQVQsRUFBY0YsTUFBZCxDQUFxQixDQUFDLEtBQUtmLENBQUMsQ0FBQ2lCLENBQUQsQ0FBUCxFQUFZRCxNQUFqQyxDQUEzRCxDQUFOO0FBQ0g7QUFDSjs7QUFDRCxTQUFPbkIsR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIsIGlzRGF0ZSB9IGZyb20gXCIuLi9jb21tb24vZGF0YVwiXHJcblxyXG4vKipcclxuICog5bCG5YiG6ZKf5pWw6L2s5Li65bim5bCP5pe255qE5a2X56ym5Liy77yM5aaC77yaMTDlsI/ml7YyMOWIhumSn1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvSG91clN0cmluZ0Zyb21NaW5zKG1pbnM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBpZiAobWlucyA8IDApIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgaWYgKG1pbnMgPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBcIjDliIbpkp9cIlxyXG4gICAgfVxyXG4gICAgY29uc3QgaCA9IHBhcnNlSW50KChtaW5zIC8gNjApLnRvU3RyaW5nKCkpO1xyXG4gICAgY29uc3QgbSA9IHBhcnNlSW50KChtaW5zICUgNjApLnRvU3RyaW5nKCkpO1xyXG4gICAgY29uc3QgcyA9IFtdO1xyXG4gICAgaWYgKGggPiAwKSB7XHJcbiAgICAgICAgcy5wdXNoKGAke2h95bCP5pe2YCk7XHJcbiAgICB9XHJcbiAgICBpZiAobSA+IDApIHtcclxuICAgICAgICBzLnB1c2goYCR7bX3liIbpkp9gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzLmpvaW4oXCJcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIZEYXRl5a+56LGh6L2s5o2i5Li65oyH5a6a55qE5qC85byP5a2X56ym5LiyXHJcbiAqIOazqO+8muaciChNKeOAgeaXpShkKeOAgeWwj+aXtihoKeOAgeWIhihtKeOAgeenkihzKeOAgeWto+W6pihxKSDlj6/ku6XnlKggMS0yIOS4quWNoOS9jeespu+8jOW5tCh5KeWPr+S7peeUqCAxLTQg5Liq5Y2g5L2N56ym77yM5q+r56eSKFMp5Y+q6IO955SoIDEg5Liq5Y2g5L2N56ymKOaYryAxLTMg5L2N55qE5pWw5a2XKVxyXG4gKiBAcGFyYW0gZGF0ZVZhbHVlIOaXpeacn+WvueixoVxyXG4gKiBAcGFyYW0gZm10U3RyIOagvOW8j++8iOm7mOiupOWAvOS4unl5eXktTU0tZGTvvInvvIzlpoLvvJp5eXl5LU1NLWRkXHJcbiAqIEByZXR1cm5zIOagvOW8j+WMluWQjueahOWtl+espuS4slxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChkYXRlVmFsdWU6IERhdGUgfCBudW1iZXIsIGZtdFN0cjogc3RyaW5nID0gXCJ5eXl5LU1NLWRkXCIpIHtcclxuICAgIGxldCBmbXQgPSBmbXRTdHJcclxuICAgIGxldCBkdDogRGF0ZSA9IGRhdGVWYWx1ZSBhcyBEYXRlXHJcbiAgICBpZiAoaXNOdW1iZXIoZGF0ZVZhbHVlIGFzIGFueSkpIHtcclxuICAgICAgICBkdCA9IG5ldyBEYXRlKGRhdGVWYWx1ZSlcclxuICAgIH1cclxuICAgIGlmICghaXNEYXRlKGR0KSkge1xyXG4gICAgICAgIHJldHVybiBcIlwiXHJcbiAgICB9XHJcbiAgICBjb25zdCBvOiBhbnkgPSB7XHJcbiAgICAgICAgXCJNK1wiOiBkdC5nZXRNb250aCgpICsgMSwgLy/mnIjku70gXHJcbiAgICAgICAgXCJkK1wiOiBkdC5nZXREYXRlKCksIC8v5pelIFxyXG4gICAgICAgIFwiaCtcIjogZHQuZ2V0SG91cnMoKSwgLy/lsI/ml7YgXHJcbiAgICAgICAgXCJtK1wiOiBkdC5nZXRNaW51dGVzKCksIC8v5YiGIFxyXG4gICAgICAgIFwicytcIjogZHQuZ2V0U2Vjb25kcygpLCAvL+enkiBcclxuICAgICAgICBcInErXCI6IE1hdGguZmxvb3IoKGR0LmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6piBcclxuICAgICAgICBTOiBkdC5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enkiBcclxuICAgIH07XHJcbiAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkge1xyXG4gICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGR0LmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKVxyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrIGluIG8pIHtcclxuICAgICAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmbXQpKSB7XHJcbiAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmbXRcclxufSAgIl19