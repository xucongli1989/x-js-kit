"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toHourStringFromMins = toHourStringFromMins;
exports.format = format;

var _data = require("../common/data");

function toHourStringFromMins(mins) {
  if (mins < 0) {
    return "";
  }

  if (mins == 0) {
    return "0分钟";
  }

  var h = parseInt((mins / 60).toString());
  var m = parseInt((mins % 60).toString());
  var s = [];

  if (h > 0) {
    s.push("".concat(h, "\u5C0F\u65F6"));
  }

  if (m > 0) {
    s.push("".concat(m, "\u5206\u949F"));
  }

  return s.join("");
}
/**
 * 将Date对象转换为指定的格式字符串
 * 注：月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
 * @param dateValue 日期对象
 * @param fmt 格式（默认值为yyyy-MM-dd），如：yyyy-MM-dd
 * @returns 格式化后的字符串
 */


function format(dateValue) {
  var fmt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "yyyy-MM-dd";
  var dt = dateValue;

  if ((0, _data.isNumber)(dateValue)) {
    dt = new Date(dateValue);
  }

  if (!(0, _data.isDate)(dt)) {
    return "";
  }

  var o = {
    "M+": dt.getMonth() + 1,
    //月份 
    "d+": dt.getDate(),
    //日 
    "h+": dt.getHours(),
    //小时 
    "m+": dt.getMinutes(),
    //分 
    "s+": dt.getSeconds(),
    //秒 
    "q+": Math.floor((dt.getMonth() + 3) / 3),
    //季度 
    "S": dt.getMilliseconds() //毫秒 

  };

  if (/(y+)/.test(fmt)) {
    fmt = fmt.replace(RegExp.$1, (dt.getFullYear() + "").substr(4 - RegExp.$1.length));
  }

  for (var k in o) {
    if (new RegExp("(" + k + ")").test(fmt)) {
      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
    }
  }

  return fmt;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlL2Zvcm1hdC50cyJdLCJuYW1lcyI6WyJ0b0hvdXJTdHJpbmdGcm9tTWlucyIsIm1pbnMiLCJoIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsIm0iLCJzIiwicHVzaCIsImpvaW4iLCJmb3JtYXQiLCJkYXRlVmFsdWUiLCJmbXQiLCJkdCIsIkRhdGUiLCJvIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImdldE1pbGxpc2Vjb25kcyIsInRlc3QiLCJyZXBsYWNlIiwiUmVnRXhwIiwiJDEiLCJnZXRGdWxsWWVhciIsInN1YnN0ciIsImxlbmd0aCIsImsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBS08sU0FBU0Esb0JBQVQsQ0FBOEJDLElBQTlCLEVBQW9EO0FBQ3ZELE1BQUlBLElBQUksR0FBRyxDQUFYLEVBQWM7QUFDVixXQUFPLEVBQVA7QUFDSDs7QUFDRCxNQUFJQSxJQUFJLElBQUksQ0FBWixFQUFlO0FBQ1gsV0FBTyxLQUFQO0FBQ0g7O0FBQ0QsTUFBSUMsQ0FBQyxHQUFHQyxRQUFRLENBQUMsQ0FBQ0YsSUFBSSxHQUFHLEVBQVIsRUFBWUcsUUFBWixFQUFELENBQWhCO0FBQ0EsTUFBSUMsQ0FBQyxHQUFHRixRQUFRLENBQUMsQ0FBQ0YsSUFBSSxHQUFHLEVBQVIsRUFBWUcsUUFBWixFQUFELENBQWhCO0FBQ0EsTUFBSUUsQ0FBQyxHQUFHLEVBQVI7O0FBQ0EsTUFBSUosQ0FBQyxHQUFHLENBQVIsRUFBVztBQUNQSSxJQUFBQSxDQUFDLENBQUNDLElBQUYsV0FBVUwsQ0FBVjtBQUNIOztBQUNELE1BQUlHLENBQUMsR0FBRyxDQUFSLEVBQVc7QUFDUEMsSUFBQUEsQ0FBQyxDQUFDQyxJQUFGLFdBQVVGLENBQVY7QUFDSDs7QUFDRCxTQUFPQyxDQUFDLENBQUNFLElBQUYsQ0FBTyxFQUFQLENBQVA7QUFDSDtBQUVEOzs7Ozs7Ozs7QUFPTyxTQUFTQyxNQUFULENBQWdCQyxTQUFoQixFQUFzRTtBQUFBLE1BQTVCQyxHQUE0Qix1RUFBZCxZQUFjO0FBQ3pFLE1BQUlDLEVBQVEsR0FBR0YsU0FBZjs7QUFDQSxNQUFJLG9CQUFTQSxTQUFULENBQUosRUFBZ0M7QUFDNUJFLElBQUFBLEVBQUUsR0FBRyxJQUFJQyxJQUFKLENBQVNILFNBQVQsQ0FBTDtBQUNIOztBQUNELE1BQUksQ0FBQyxrQkFBT0UsRUFBUCxDQUFMLEVBQWlCO0FBQ2IsV0FBTyxFQUFQO0FBQ0g7O0FBQ0QsTUFBTUUsQ0FBTSxHQUFHO0FBQ1gsVUFBTUYsRUFBRSxDQUFDRyxRQUFILEtBQWdCLENBRFg7QUFDYztBQUN6QixVQUFNSCxFQUFFLENBQUNJLE9BQUgsRUFGSztBQUVTO0FBQ3BCLFVBQU1KLEVBQUUsQ0FBQ0ssUUFBSCxFQUhLO0FBR1U7QUFDckIsVUFBTUwsRUFBRSxDQUFDTSxVQUFILEVBSks7QUFJWTtBQUN2QixVQUFNTixFQUFFLENBQUNPLFVBQUgsRUFMSztBQUtZO0FBQ3ZCLFVBQU1DLElBQUksQ0FBQ0MsS0FBTCxDQUFXLENBQUNULEVBQUUsQ0FBQ0csUUFBSCxLQUFnQixDQUFqQixJQUFzQixDQUFqQyxDQU5LO0FBTWdDO0FBQzNDLFNBQUtILEVBQUUsQ0FBQ1UsZUFBSCxFQVBNLENBT2U7O0FBUGYsR0FBZjs7QUFTQSxNQUFJLE9BQU9DLElBQVAsQ0FBWVosR0FBWixDQUFKLEVBQXNCO0FBQ2xCQSxJQUFBQSxHQUFHLEdBQUdBLEdBQUcsQ0FBQ2EsT0FBSixDQUFZQyxNQUFNLENBQUNDLEVBQW5CLEVBQXVCLENBQUNkLEVBQUUsQ0FBQ2UsV0FBSCxLQUFtQixFQUFwQixFQUF3QkMsTUFBeEIsQ0FBK0IsSUFBSUgsTUFBTSxDQUFDQyxFQUFQLENBQVVHLE1BQTdDLENBQXZCLENBQU47QUFDSDs7QUFDRCxPQUFLLElBQUlDLENBQVQsSUFBY2hCLENBQWQsRUFBaUI7QUFDYixRQUFJLElBQUlXLE1BQUosQ0FBVyxNQUFNSyxDQUFOLEdBQVUsR0FBckIsRUFBMEJQLElBQTFCLENBQStCWixHQUEvQixDQUFKLEVBQXlDO0FBQ3JDQSxNQUFBQSxHQUFHLEdBQUdBLEdBQUcsQ0FBQ2EsT0FBSixDQUFZQyxNQUFNLENBQUNDLEVBQW5CLEVBQXdCRCxNQUFNLENBQUNDLEVBQVAsQ0FBVUcsTUFBVixJQUFvQixDQUFyQixHQUEyQmYsQ0FBQyxDQUFDZ0IsQ0FBRCxDQUE1QixHQUFvQyxDQUFDLE9BQU9oQixDQUFDLENBQUNnQixDQUFELENBQVQsRUFBY0YsTUFBZCxDQUFxQixDQUFDLEtBQUtkLENBQUMsQ0FBQ2dCLENBQUQsQ0FBUCxFQUFZRCxNQUFqQyxDQUEzRCxDQUFOO0FBQ0g7QUFDSjs7QUFDRCxTQUFPbEIsR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIsIGlzRGF0ZSB9IGZyb20gXCIuLi9jb21tb24vZGF0YVwiXHJcblxyXG4vKipcclxuICog5bCG5YiG6ZKf5pWw6L2s5Li65bim5bCP5pe255qE5a2X56ym5Liy77yM5aaC77yaMTDlsI/ml7YyMOWIhumSn1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvSG91clN0cmluZ0Zyb21NaW5zKG1pbnM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBpZiAobWlucyA8IDApIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgaWYgKG1pbnMgPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBcIjDliIbpkp9cIlxyXG4gICAgfVxyXG4gICAgbGV0IGggPSBwYXJzZUludCgobWlucyAvIDYwKS50b1N0cmluZygpKTtcclxuICAgIGxldCBtID0gcGFyc2VJbnQoKG1pbnMgJSA2MCkudG9TdHJpbmcoKSk7XHJcbiAgICBsZXQgcyA9IFtdO1xyXG4gICAgaWYgKGggPiAwKSB7XHJcbiAgICAgICAgcy5wdXNoKGAke2h95bCP5pe2YCk7XHJcbiAgICB9XHJcbiAgICBpZiAobSA+IDApIHtcclxuICAgICAgICBzLnB1c2goYCR7bX3liIbpkp9gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzLmpvaW4oXCJcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIZEYXRl5a+56LGh6L2s5o2i5Li65oyH5a6a55qE5qC85byP5a2X56ym5LiyXHJcbiAqIOazqO+8muaciChNKeOAgeaXpShkKeOAgeWwj+aXtihoKeOAgeWIhihtKeOAgeenkihzKeOAgeWto+W6pihxKSDlj6/ku6XnlKggMS0yIOS4quWNoOS9jeespu+8jOW5tCh5KeWPr+S7peeUqCAxLTQg5Liq5Y2g5L2N56ym77yM5q+r56eSKFMp5Y+q6IO955SoIDEg5Liq5Y2g5L2N56ymKOaYryAxLTMg5L2N55qE5pWw5a2XKVxyXG4gKiBAcGFyYW0gZGF0ZVZhbHVlIOaXpeacn+WvueixoVxyXG4gKiBAcGFyYW0gZm10IOagvOW8j++8iOm7mOiupOWAvOS4unl5eXktTU0tZGTvvInvvIzlpoLvvJp5eXl5LU1NLWRkXHJcbiAqIEByZXR1cm5zIOagvOW8j+WMluWQjueahOWtl+espuS4slxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChkYXRlVmFsdWU6IERhdGUgfCBudW1iZXIsIGZtdDogc3RyaW5nID0gXCJ5eXl5LU1NLWRkXCIpIHtcclxuICAgIGxldCBkdDogRGF0ZSA9IGRhdGVWYWx1ZSBhcyBEYXRlXHJcbiAgICBpZiAoaXNOdW1iZXIoZGF0ZVZhbHVlIGFzIGFueSkpIHtcclxuICAgICAgICBkdCA9IG5ldyBEYXRlKGRhdGVWYWx1ZSlcclxuICAgIH1cclxuICAgIGlmICghaXNEYXRlKGR0KSkge1xyXG4gICAgICAgIHJldHVybiBcIlwiXHJcbiAgICB9XHJcbiAgICBjb25zdCBvOiBhbnkgPSB7XHJcbiAgICAgICAgXCJNK1wiOiBkdC5nZXRNb250aCgpICsgMSwgLy/mnIjku70gXHJcbiAgICAgICAgXCJkK1wiOiBkdC5nZXREYXRlKCksIC8v5pelIFxyXG4gICAgICAgIFwiaCtcIjogZHQuZ2V0SG91cnMoKSwgLy/lsI/ml7YgXHJcbiAgICAgICAgXCJtK1wiOiBkdC5nZXRNaW51dGVzKCksIC8v5YiGIFxyXG4gICAgICAgIFwicytcIjogZHQuZ2V0U2Vjb25kcygpLCAvL+enkiBcclxuICAgICAgICBcInErXCI6IE1hdGguZmxvb3IoKGR0LmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6piBcclxuICAgICAgICBcIlNcIjogZHQuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5IgXHJcbiAgICB9O1xyXG4gICAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIHtcclxuICAgICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChkdC5nZXRGdWxsWWVhcigpICsgXCJcIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSlcclxuICAgIH1cclxuICAgIGZvciAobGV0IGsgaW4gbykge1xyXG4gICAgICAgIGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZtdCkpIHtcclxuICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PSAxKSA/IChvW2tdKSA6ICgoXCIwMFwiICsgb1trXSkuc3Vic3RyKChcIlwiICsgb1trXSkubGVuZ3RoKSkpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZtdFxyXG59ICAiXX0=