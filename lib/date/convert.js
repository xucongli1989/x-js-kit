"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toEntity = toEntity;
exports.parse = parse;

var _data = require("../common/data");

function toEntity(dt) {
  var model = {};
  model.year = dt.getFullYear();
  model.month = dt.getMonth() + 1;
  model.day = dt.getDate();
  model.hour = dt.getHours();
  model.min = dt.getMinutes();
  model.second = dt.getSeconds();
  model.millisecond = dt.getMilliseconds();
  model.week = dt.getDay();
  return model;
}
/**
* 将字符串"/Date(...)/"的日期转为js Date对象
* @param dateStr date字符串，如"/Date(1441036800000)/"
* @returns 如果转换成功，则返回Date对象，否则返回null
*/


function parse(dateStr) {
  if (!dateStr || !(0, _data.isString)(dateStr)) {
    return null;
  }

  var date = null;
  var mts = dateStr.match(/(\/Date\((\d+)\)\/)/);

  if (mts && mts.length >= 3) {
    date = new Date(parseInt(mts[2]));
  }

  if (!(0, _data.isDate)(date)) {
    return null;
  }

  return date;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlL2NvbnZlcnQudHMiXSwibmFtZXMiOlsidG9FbnRpdHkiLCJkdCIsIm1vZGVsIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsIm1pbGxpc2Vjb25kIiwiZ2V0TWlsbGlzZWNvbmRzIiwid2VlayIsImdldERheSIsInBhcnNlIiwiZGF0ZVN0ciIsImRhdGUiLCJtdHMiLCJtYXRjaCIsImxlbmd0aCIsIkRhdGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTs7QUFLTyxTQUFTQSxRQUFULENBQWtCQyxFQUFsQixFQUFnRDtBQUNuRCxNQUFNQyxLQUFLLEdBQUcsRUFBZDtBQUNBQSxFQUFBQSxLQUFLLENBQUNDLElBQU4sR0FBYUYsRUFBRSxDQUFDRyxXQUFILEVBQWI7QUFDQUYsRUFBQUEsS0FBSyxDQUFDRyxLQUFOLEdBQWNKLEVBQUUsQ0FBQ0ssUUFBSCxLQUFnQixDQUE5QjtBQUNBSixFQUFBQSxLQUFLLENBQUNLLEdBQU4sR0FBWU4sRUFBRSxDQUFDTyxPQUFILEVBQVo7QUFDQU4sRUFBQUEsS0FBSyxDQUFDTyxJQUFOLEdBQWFSLEVBQUUsQ0FBQ1MsUUFBSCxFQUFiO0FBQ0FSLEVBQUFBLEtBQUssQ0FBQ1MsR0FBTixHQUFZVixFQUFFLENBQUNXLFVBQUgsRUFBWjtBQUNBVixFQUFBQSxLQUFLLENBQUNXLE1BQU4sR0FBZVosRUFBRSxDQUFDYSxVQUFILEVBQWY7QUFDQVosRUFBQUEsS0FBSyxDQUFDYSxXQUFOLEdBQW9CZCxFQUFFLENBQUNlLGVBQUgsRUFBcEI7QUFDQWQsRUFBQUEsS0FBSyxDQUFDZSxJQUFOLEdBQWFoQixFQUFFLENBQUNpQixNQUFILEVBQWI7QUFDQSxTQUFPaEIsS0FBUDtBQUNIO0FBRUQ7Ozs7Ozs7QUFLTyxTQUFTaUIsS0FBVCxDQUFlQyxPQUFmLEVBQTZDO0FBQ2hELE1BQUksQ0FBQ0EsT0FBRCxJQUFZLENBQUMsb0JBQVNBLE9BQVQsQ0FBakIsRUFBb0M7QUFDaEMsV0FBTyxJQUFQO0FBQ0g7O0FBQ0QsTUFBSUMsSUFBSSxHQUFHLElBQVg7QUFDQSxNQUFJQyxHQUFHLEdBQUdGLE9BQU8sQ0FBQ0csS0FBUixDQUFjLHFCQUFkLENBQVY7O0FBQ0EsTUFBSUQsR0FBRyxJQUFJQSxHQUFHLENBQUNFLE1BQUosSUFBYyxDQUF6QixFQUE0QjtBQUN4QkgsSUFBQUEsSUFBSSxHQUFHLElBQUlJLElBQUosQ0FBU0MsUUFBUSxDQUFDSixHQUFHLENBQUMsQ0FBRCxDQUFKLENBQWpCLENBQVA7QUFDSDs7QUFDRCxNQUFJLENBQUMsa0JBQU9ELElBQVAsQ0FBTCxFQUFtQjtBQUNmLFdBQU8sSUFBUDtBQUNIOztBQUNELFNBQU9BLElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGVUaW1lRW50aXR5VHlwZSwgTW9udGhWYWx1ZVR5cGUsIFdlZWtWYWx1ZVR5cGUgfSBmcm9tIFwiLi4vZGVjbGFyYXRpb24vZGF0ZVwiXHJcbmltcG9ydCB7IGlzRGF0ZSwgaXNTdHJpbmcgfSBmcm9tIFwiLi4vY29tbW9uL2RhdGFcIlxyXG5cclxuLyoqXHJcbiAqIOi/lOWbnuaXtumXtOWunuS9k+WvueixoVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvRW50aXR5KGR0OiBEYXRlKTogRGF0ZVRpbWVFbnRpdHlUeXBlIHtcclxuICAgIGNvbnN0IG1vZGVsID0ge30gYXMgRGF0ZVRpbWVFbnRpdHlUeXBlXHJcbiAgICBtb2RlbC55ZWFyID0gZHQuZ2V0RnVsbFllYXIoKVxyXG4gICAgbW9kZWwubW9udGggPSBkdC5nZXRNb250aCgpICsgMSBhcyBNb250aFZhbHVlVHlwZVxyXG4gICAgbW9kZWwuZGF5ID0gZHQuZ2V0RGF0ZSgpXHJcbiAgICBtb2RlbC5ob3VyID0gZHQuZ2V0SG91cnMoKVxyXG4gICAgbW9kZWwubWluID0gZHQuZ2V0TWludXRlcygpXHJcbiAgICBtb2RlbC5zZWNvbmQgPSBkdC5nZXRTZWNvbmRzKClcclxuICAgIG1vZGVsLm1pbGxpc2Vjb25kID0gZHQuZ2V0TWlsbGlzZWNvbmRzKClcclxuICAgIG1vZGVsLndlZWsgPSBkdC5nZXREYXkoKSBhcyBXZWVrVmFsdWVUeXBlXHJcbiAgICByZXR1cm4gbW9kZWxcclxufVxyXG5cclxuLyoqXHJcbiog5bCG5a2X56ym5LiyXCIvRGF0ZSguLi4pL1wi55qE5pel5pyf6L2s5Li6anMgRGF0ZeWvueixoVxyXG4qIEBwYXJhbSBkYXRlU3RyIGRhdGXlrZfnrKbkuLLvvIzlpoJcIi9EYXRlKDE0NDEwMzY4MDAwMDApL1wiXHJcbiogQHJldHVybnMg5aaC5p6c6L2s5o2i5oiQ5Yqf77yM5YiZ6L+U5ZueRGF0ZeWvueixoe+8jOWQpuWImei/lOWbnm51bGxcclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKGRhdGVTdHI6IHN0cmluZyk6IERhdGUgfCBudWxsIHtcclxuICAgIGlmICghZGF0ZVN0ciB8fCAhaXNTdHJpbmcoZGF0ZVN0cikpIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgbGV0IGRhdGUgPSBudWxsXHJcbiAgICBsZXQgbXRzID0gZGF0ZVN0ci5tYXRjaCgvKFxcL0RhdGVcXCgoXFxkKylcXClcXC8pLylcclxuICAgIGlmIChtdHMgJiYgbXRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KG10c1syXSkpXHJcbiAgICB9XHJcbiAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0ZVxyXG59Il19