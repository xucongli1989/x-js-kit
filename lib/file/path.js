"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStandardPath = getStandardPath;
exports.getFileName = getFileName;
exports.getFileNameWithoutExt = getFileNameWithoutExt;
exports.getExt = getExt;
exports.getExtWithoutDot = getExtWithoutDot;
exports.isLocalDiskRootPath = isLocalDiskRootPath;
exports.getLocalPathDiskName = getLocalPathDiskName;
exports.getPathFolderName = getPathFolderName;
exports.isSystemRecyclePath = isSystemRecyclePath;
exports.isOfficeTempPath = isOfficeTempPath;
exports.convertPathToFileUrl = convertPathToFileUrl;

var _string = require("../common/string");

/**
 * 将指定路径转换为标准的路径，标准的路径分隔符为 \，如果是文件夹，则最后也带 \
 */
function getStandardPath(path, isFolder) {
  if (!path) {
    return "";
  }

  path = path.trim().replaceAll("/", "\\");
  path = (0, _string.rTrimString)(path, "\\");

  if (isFolder) {
    return path + "\\";
  }

  return path;
}
/**
 * 获取文件名（包含扩展名），如：c:\1\2\3.txt => 3.txt
 */


function getFileName(path) {
  if (!path) {
    return "";
  }

  var str = getStandardPath(path, false);
  var splitIndex = str.lastIndexOf("\\");

  if (splitIndex < 0) {
    return path.trim();
  }

  return str.substr(splitIndex + 1).trim();
}
/**
 * 获取文件名（不包含扩展名），如：c:\1\2\3.txt => 3
 */


function getFileNameWithoutExt(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return fileName;
  }

  return fileName.substr(0, dotIndex);
}
/**
 * 获取扩展名（包含点）
 */


function getExt(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return "";
  }

  return fileName.substr(dotIndex);
}
/**
 * 获取扩展名（不包含点）
 */


function getExtWithoutDot(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return "";
  }

  return fileName.substr(dotIndex + 1);
}
/**
 * 判断某个路径是否为本地磁盘根路径，如：c:\  或  \\test-pc\
 */


function isLocalDiskRootPath(path) {
  if (!path) {
    return false;
  }

  path = getStandardPath(path, true);
  return /^[^\\]+:\\$/.test(path) || /^\\\\[^\\]+\\$/.test(path);
}
/**
 * 获取路径中的磁盘名称，如：c:\a\b\c\ -> c，\\test-pc\a\b\c\ -> test-pc
 */


function getLocalPathDiskName(path) {
  var _mt, _mt2;

  if (!path) {
    return "";
  }

  path = getStandardPath(path, true);
  var mt = path.match(/^[^\\]+(?=:)/);

  if ((_mt = mt) !== null && _mt !== void 0 && _mt.length) {
    return mt[0];
  }

  mt = path.match(/^\\\\([^\\]+)(?=\\)/);

  if ((_mt2 = mt) !== null && _mt2 !== void 0 && _mt2.length) {
    return mt[1];
  }

  return "";
}
/**
 * 获取路径所在的文件夹名称，如：c:\  --> c；  c:\a\b\ --> b;  c:\a\b\c.pdf --> b
 */


function getPathFolderName(path, isFolderPath) {
  if (!path) {
    return "";
  }

  path = getStandardPath(path, isFolderPath);
  var arr = path.split("\\");
  return arr[arr.length - 2].replaceAll(":", "");
}
/**
 * 判断一个路径是否为系统回收站的路径
 */


function isSystemRecyclePath(path) {
  if (!path) {
    return false;
  }

  return path.toUpperCase().includes("$RECYCLE.BIN");
}
/**
 * 判断一个路径是否为 Office 临时文件的路径（文件名以 ~$ 开头）
 */


function isOfficeTempPath(path) {
  if (!path) {
    return false;
  }

  return getFileName(path).startsWith("~$");
}
/**
 * 将物理绝对路径转换为 file 协议的 url
 */


function convertPathToFileUrl(path) {
  if (!path) {
    return "";
  }

  return "file://".concat(path.replaceAll("\\", "/").trim());
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9maWxlL3BhdGgudHMiXSwibmFtZXMiOlsiZ2V0U3RhbmRhcmRQYXRoIiwicGF0aCIsImlzRm9sZGVyIiwidHJpbSIsInJlcGxhY2VBbGwiLCJnZXRGaWxlTmFtZSIsInN0ciIsInNwbGl0SW5kZXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsImdldEZpbGVOYW1lV2l0aG91dEV4dCIsImZpbGVOYW1lIiwiZG90SW5kZXgiLCJnZXRFeHQiLCJnZXRFeHRXaXRob3V0RG90IiwiaXNMb2NhbERpc2tSb290UGF0aCIsInRlc3QiLCJnZXRMb2NhbFBhdGhEaXNrTmFtZSIsIm10IiwibWF0Y2giLCJsZW5ndGgiLCJnZXRQYXRoRm9sZGVyTmFtZSIsImlzRm9sZGVyUGF0aCIsImFyciIsInNwbGl0IiwiaXNTeXN0ZW1SZWN5Y2xlUGF0aCIsInRvVXBwZXJDYXNlIiwiaW5jbHVkZXMiLCJpc09mZmljZVRlbXBQYXRoIiwic3RhcnRzV2l0aCIsImNvbnZlcnRQYXRoVG9GaWxlVXJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLGVBQVQsQ0FBeUJDLElBQXpCLEVBQXVDQyxRQUF2QyxFQUEwRDtBQUM3RCxNQUFJLENBQUNELElBQUwsRUFBVztBQUNQLFdBQU8sRUFBUDtBQUNIOztBQUNEQSxFQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQ0UsSUFBTCxHQUFZQyxVQUFaLENBQXVCLEdBQXZCLEVBQTRCLElBQTVCLENBQVA7QUFDQUgsRUFBQUEsSUFBSSxHQUFHLHlCQUFZQSxJQUFaLEVBQWtCLElBQWxCLENBQVA7O0FBQ0EsTUFBSUMsUUFBSixFQUFjO0FBQ1YsV0FBT0QsSUFBSSxHQUFHLElBQWQ7QUFDSDs7QUFDRCxTQUFPQSxJQUFQO0FBQ0g7QUFFRDtBQUNBO0FBQ0E7OztBQUNPLFNBQVNJLFdBQVQsQ0FBcUJKLElBQXJCLEVBQTJDO0FBQzlDLE1BQUksQ0FBQ0EsSUFBTCxFQUFX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QUFnQixJQUFoQixFQUFzQixHQUF0QixFQUEyQkQsSUFBM0IsRUFBakI7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJUcmltU3RyaW5nIH0gZnJvbSBcIi4uL2NvbW1vbi9zdHJpbmdcIlxyXG5cclxuLyoqXHJcbiAqIOWwhuaMh+Wumui3r+W+hOi9rOaNouS4uuagh+WHhueahOi3r+W+hO+8jOagh+WHhueahOi3r+W+hOWIhumalOespuS4uiBcXO+8jOWmguaenOaYr+aWh+S7tuWkue+8jOWImeacgOWQjuS5n+W4piBcXFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YW5kYXJkUGF0aChwYXRoOiBzdHJpbmcsIGlzRm9sZGVyOiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgcGF0aCA9IHBhdGgudHJpbSgpLnJlcGxhY2VBbGwoXCIvXCIsIFwiXFxcXFwiKVxyXG4gICAgcGF0aCA9IHJUcmltU3RyaW5nKHBhdGgsIFwiXFxcXFwiKVxyXG4gICAgaWYgKGlzRm9sZGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdGggKyBcIlxcXFxcIlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhdGhcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluaWh+S7tuWQje+8iOWMheWQq+aJqeWxleWQje+8ie+8jOWmgu+8mmM6XFwxXFwyXFwzLnR4dCA9PiAzLnR4dFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVOYW1lKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgY29uc3Qgc3RyID0gZ2V0U3RhbmRhcmRQYXRoKHBhdGgsIGZhbHNlKVxyXG4gICAgY29uc3Qgc3BsaXRJbmRleCA9IHN0ci5sYXN0SW5kZXhPZihcIlxcXFxcIilcclxuICAgIGlmIChzcGxpdEluZGV4IDwgMCkge1xyXG4gICAgICAgIHJldHVybiBwYXRoLnRyaW0oKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoc3BsaXRJbmRleCArIDEpLnRyaW0oKVxyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5paH5Lu25ZCN77yI5LiN5YyF5ZCr5omp5bGV5ZCN77yJ77yM5aaC77yaYzpcXDFcXDJcXDMudHh0ID0+IDNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlTmFtZVdpdGhvdXRFeHQocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpbGVOYW1lID0gZ2V0RmlsZU5hbWUocGF0aClcclxuICAgIGlmICghZmlsZU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgY29uc3QgZG90SW5kZXggPSBmaWxlTmFtZS5sYXN0SW5kZXhPZihcIi5cIilcclxuICAgIGlmIChkb3RJbmRleCA8IDApIHtcclxuICAgICAgICByZXR1cm4gZmlsZU5hbWVcclxuICAgIH1cclxuICAgIHJldHVybiBmaWxlTmFtZS5zdWJzdHIoMCwgZG90SW5kZXgpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bmianlsZXlkI3vvIjljIXlkKvngrnvvIlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHQocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpbGVOYW1lID0gZ2V0RmlsZU5hbWUocGF0aClcclxuICAgIGlmICghZmlsZU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgY29uc3QgZG90SW5kZXggPSBmaWxlTmFtZS5sYXN0SW5kZXhPZihcIi5cIilcclxuICAgIGlmIChkb3RJbmRleCA8IDApIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbGVOYW1lLnN1YnN0cihkb3RJbmRleClcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluaJqeWxleWQje+8iOS4jeWMheWQq+eCue+8iVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4dFdpdGhvdXREb3QocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpbGVOYW1lID0gZ2V0RmlsZU5hbWUocGF0aClcclxuICAgIGlmICghZmlsZU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgY29uc3QgZG90SW5kZXggPSBmaWxlTmFtZS5sYXN0SW5kZXhPZihcIi5cIilcclxuICAgIGlmIChkb3RJbmRleCA8IDApIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbGVOYW1lLnN1YnN0cihkb3RJbmRleCArIDEpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKTmlq3mn5DkuKrot6/lvoTmmK/lkKbkuLrmnKzlnLDno4Hnm5jmoLnot6/lvoTvvIzlpoLvvJpjOlxcICDmiJYgIFxcXFx0ZXN0LXBjXFxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsRGlza1Jvb3RQYXRoKHBhdGg6IHN0cmluZykge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBwYXRoID0gZ2V0U3RhbmRhcmRQYXRoKHBhdGgsIHRydWUpXHJcbiAgICByZXR1cm4gL15bXlxcXFxdKzpcXFxcJC8udGVzdChwYXRoKSB8fCAvXlxcXFxcXFxcW15cXFxcXStcXFxcJC8udGVzdChwYXRoKVxyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W6Lev5b6E5Lit55qE56OB55uY5ZCN56ew77yM5aaC77yaYzpcXGFcXGJcXGNcXCAtPiBj77yMXFxcXHRlc3QtcGNcXGFcXGJcXGNcXCAtPiB0ZXN0LXBjXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxQYXRoRGlza05hbWUocGF0aDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgcGF0aCA9IGdldFN0YW5kYXJkUGF0aChwYXRoLCB0cnVlKVxyXG4gICAgbGV0IG10ID0gcGF0aC5tYXRjaCgvXlteXFxcXF0rKD89OikvKVxyXG4gICAgaWYgKG10Py5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gbXRbMF1cclxuICAgIH1cclxuICAgIG10ID0gcGF0aC5tYXRjaCgvXlxcXFxcXFxcKFteXFxcXF0rKSg/PVxcXFwpLylcclxuICAgIGlmIChtdD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIG10WzFdXHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJcIlxyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W6Lev5b6E5omA5Zyo55qE5paH5Lu25aS55ZCN56ew77yM5aaC77yaYzpcXCAgLS0+IGPvvJsgIGM6XFxhXFxiXFwgLS0+IGI7ICBjOlxcYVxcYlxcYy5wZGYgLS0+IGJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoRm9sZGVyTmFtZShwYXRoOiBzdHJpbmcsIGlzRm9sZGVyUGF0aDogYm9vbGVhbikge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHBhdGggPSBnZXRTdGFuZGFyZFBhdGgocGF0aCwgaXNGb2xkZXJQYXRoKVxyXG4gICAgY29uc3QgYXJyID0gcGF0aC5zcGxpdChcIlxcXFxcIilcclxuICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDJdLnJlcGxhY2VBbGwoXCI6XCIsIFwiXCIpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKTmlq3kuIDkuKrot6/lvoTmmK/lkKbkuLrns7vnu5/lm57mlLbnq5nnmoTot6/lvoRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N5c3RlbVJlY3ljbGVQYXRoKHBhdGg6IHN0cmluZykge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGF0aC50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKFwiJFJFQ1lDTEUuQklOXCIpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKTmlq3kuIDkuKrot6/lvoTmmK/lkKbkuLogT2ZmaWNlIOS4tOaXtuaWh+S7tueahOi3r+W+hO+8iOaWh+S7tuWQjeS7pSB+JCDlvIDlpLTvvIlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09mZmljZVRlbXBQYXRoKHBhdGg6IHN0cmluZykge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ2V0RmlsZU5hbWUocGF0aCkuc3RhcnRzV2l0aChcIn4kXCIpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIbniannkIbnu53lr7not6/lvoTovazmjaLkuLogZmlsZSDljY/orq7nmoQgdXJsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBhdGhUb0ZpbGVVcmwocGF0aDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGBmaWxlOi8vJHtwYXRoLnJlcGxhY2VBbGwoXCJcXFxcXCIsIFwiL1wiKS50cmltKCl9YFxyXG59XHJcbiJdfQ==