"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStandardPath = getStandardPath;
exports.getFileName = getFileName;
exports.getFileNameWithoutExt = getFileNameWithoutExt;
exports.getExt = getExt;
exports.getExtWithoutDot = getExtWithoutDot;
exports.isLocalDiskRootPath = isLocalDiskRootPath;
exports.getLocalPathDiskName = getLocalPathDiskName;
exports.getPathFolderName = getPathFolderName;
exports.isSystemRecyclePath = isSystemRecyclePath;
exports.isOfficeTempPath = isOfficeTempPath;
exports.convertPathToFileUrl = convertPathToFileUrl;

var _string = require("../common/string");

/**
 * 将指定路径转换为标准的路径，标准的路径分隔符为 \，如果是文件夹，则最后也带 \
 */
function getStandardPath(path, isFolder) {
  if (!path) {
    return "";
  }

  path = path.trim().replaceAll("/", "\\");
  path = (0, _string.rTrimString)(path, "\\");

  if (isFolder) {
    return path + "\\";
  }

  return path;
}
/**
 * 获取文件名（包含扩展名），如：c:\1\2\3.txt => 3.txt
 */


function getFileName(path) {
  if (!path) {
    return "";
  }

  var str = getStandardPath(path, false);
  var splitIndex = str.lastIndexOf("\\");

  if (splitIndex < 0) {
    return path.trim();
  }

  return str.substr(splitIndex + 1).trim();
}
/**
 * 获取文件名（不包含扩展名），如：c:\1\2\3.txt => 3
 */


function getFileNameWithoutExt(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return fileName;
  }

  return fileName.substr(0, dotIndex);
}
/**
 * 获取扩展名（包含点）
 */


function getExt(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return "";
  }

  return fileName.substr(dotIndex);
}
/**
 * 获取扩展名（不包含点）
 */


function getExtWithoutDot(path) {
  var fileName = getFileName(path);

  if (!fileName) {
    return "";
  }

  var dotIndex = fileName.lastIndexOf(".");

  if (dotIndex < 0) {
    return "";
  }

  return fileName.substr(dotIndex + 1);
}
/**
 * 判断某个路径是否为本地磁盘根路径，如：c:\  或  \\test-pc\
 */


function isLocalDiskRootPath(path) {
  if (!path) {
    return false;
  }

  path = getStandardPath(path, true);
  return /^[^\\]+:\\$/.test(path) || /^\\\\[^\\]+\\$/.test(path);
}
/**
 * 获取路径中的磁盘名称，如：c:\a\b\c\ -> c，\\test-pc\a\b\c\ -> test-pc
 */


function getLocalPathDiskName(path) {
  var _mt, _mt2;

  if (!path) {
    return "";
  }

  path = getStandardPath(path, true);
  var mt = path.match(/^[^\\]+(?=:)/);

  if ((_mt = mt) !== null && _mt !== void 0 && _mt.length) {
    return mt[0];
  }

  mt = path.match(/^\\\\([^\\]+)(?=\\)/);

  if ((_mt2 = mt) !== null && _mt2 !== void 0 && _mt2.length) {
    return mt[1];
  }

  return "";
}
/**
 * 获取路径所在的文件夹名称，如：c:\  --> c；  c:\a\b\ --> b;  c:\a\b\c.pdf --> b
 */


function getPathFolderName(path, isFolderPath) {
  if (!path) {
    return "";
  }

  path = getStandardPath(path, isFolderPath);
  var arr = path.split("\\");
  return arr[arr.length - 2].replaceAll(":", "");
}
/**
 * 判断一个路径是否为系统回收站的路径
 */


function isSystemRecyclePath(path) {
  if (!path) {
    return false;
  }

  return path.toUpperCase().includes("$RECYCLE.BIN");
}
/**
 * 判断一个路径是否为 Office 临时文件的路径（文件名以 ~$ 开头）
 */


function isOfficeTempPath(path) {
  if (!path) {
    return false;
  }

  return getFileName(path).startsWith("~$");
}
/**
 * 将物理绝对路径转换为 file 协议的 url
 */


function convertPathToFileUrl(path) {
  if (!path) {
    return "";
  }

  return "file://".concat(path.replaceAll("\\", "/").replaceAll("#", "%23").trim());
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9maWxlL3BhdGgudHMiXSwibmFtZXMiOlsiZ2V0U3RhbmRhcmRQYXRoIiwicGF0aCIsImlzRm9sZGVyIiwidHJpbSIsInJlcGxhY2VBbGwiLCJnZXRGaWxlTmFtZSIsInN0ciIsInNwbGl0SW5kZXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsImdldEZpbGVOYW1lV2l0aG91dEV4dCIsImZpbGVOYW1lIiwiZG90SW5kZXgiLCJnZXRFeHQiLCJnZXRFeHRXaXRob3V0RG90IiwiaXNMb2NhbERpc2tSb290UGF0aCIsInRlc3QiLCJnZXRMb2NhbFBhdGhEaXNrTmFtZSIsIm10IiwibWF0Y2giLCJsZW5ndGgiLCJnZXRQYXRoRm9sZGVyTmFtZSIsImlzRm9sZGVyUGF0aCIsImFyciIsInNwbGl0IiwiaXNTeXN0ZW1SZWN5Y2xlUGF0aCIsInRvVXBwZXJDYXNlIiwiaW5jbHVkZXMiLCJpc09mZmljZVRlbXBQYXRoIiwic3RhcnRzV2l0aCIsImNvbnZlcnRQYXRoVG9GaWxlVXJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLGVBQVQsQ0FBeUJDLElBQXpCLEVBQXVDQyxRQUF2QyxFQUEwRDtBQUM3RCxNQUFJLENBQUNELElBQUwsRUFBVztBQUNQLFdBQU8sRUFBUDtBQUNIOztBQUNEQSxFQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQ0UsSUFBTCxHQUFZQyxVQUFaLENBQXVCLEdBQXZCLEVBQTRCLElBQTVCLENBQVA7QUFDQUgsRUFBQUEsSUFBSSxHQUFHLHlCQUFZQSxJQUFaLEVBQWtCLElBQWxCLENBQVA7O0FBQ0EsTUFBSUMsUUFBSixFQUFjO0FBQ1YsV0FBT0QsSUFBSSxHQUFHLElBQWQ7QUFDSDs7QUFDRCxTQUFPQSxJQUFQO0FBQ0g7QUFFRDtBQUNBO0FBQ0E7OztBQUNPLFNBQVNJLFdBQVQsQ0FBcUJKLElBQXJCLEVBQTJDO0FBQzlDLE1BQUksQ0FBQ0EsSUFBTCxFQUFX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QUFnQixJQUFoQixFQUFzQixHQUF0QixFQUEyQkEsVUFBM0IsQ0FBc0MsR0FBdEMsRUFBMkMsS0FBM0MsRUFBa0RELElBQWxELEVBQWpCO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByVHJpbVN0cmluZyB9IGZyb20gXCIuLi9jb21tb24vc3RyaW5nXCJcclxuXHJcbi8qKlxyXG4gKiDlsIbmjIflrprot6/lvoTovazmjaLkuLrmoIflh4bnmoTot6/lvoTvvIzmoIflh4bnmoTot6/lvoTliIbpmpTnrKbkuLogXFzvvIzlpoLmnpzmmK/mlofku7blpLnvvIzliJnmnIDlkI7kuZ/luKYgXFxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFuZGFyZFBhdGgocGF0aDogc3RyaW5nLCBpc0ZvbGRlcjogYm9vbGVhbikge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHBhdGggPSBwYXRoLnRyaW0oKS5yZXBsYWNlQWxsKFwiL1wiLCBcIlxcXFxcIilcclxuICAgIHBhdGggPSByVHJpbVN0cmluZyhwYXRoLCBcIlxcXFxcIilcclxuICAgIGlmIChpc0ZvbGRlcikge1xyXG4gICAgICAgIHJldHVybiBwYXRoICsgXCJcXFxcXCJcclxuICAgIH1cclxuICAgIHJldHVybiBwYXRoXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bmlofku7blkI3vvIjljIXlkKvmianlsZXlkI3vvInvvIzlpoLvvJpjOlxcMVxcMlxcMy50eHQgPT4gMy50eHRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlTmFtZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IHN0ciA9IGdldFN0YW5kYXJkUGF0aChwYXRoLCBmYWxzZSlcclxuICAgIGNvbnN0IHNwbGl0SW5kZXggPSBzdHIubGFzdEluZGV4T2YoXCJcXFxcXCIpXHJcbiAgICBpZiAoc3BsaXRJbmRleCA8IDApIHtcclxuICAgICAgICByZXR1cm4gcGF0aC50cmltKClcclxuICAgIH1cclxuICAgIHJldHVybiBzdHIuc3Vic3RyKHNwbGl0SW5kZXggKyAxKS50cmltKClcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluaWh+S7tuWQje+8iOS4jeWMheWQq+aJqeWxleWQje+8ie+8jOWmgu+8mmM6XFwxXFwyXFwzLnR4dCA9PiAzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZU5hbWVXaXRob3V0RXh0KHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKHBhdGgpXHJcbiAgICBpZiAoIWZpbGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IGRvdEluZGV4ID0gZmlsZU5hbWUubGFzdEluZGV4T2YoXCIuXCIpXHJcbiAgICBpZiAoZG90SW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZpbGVOYW1lXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsZU5hbWUuc3Vic3RyKDAsIGRvdEluZGV4KVxyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5omp5bGV5ZCN77yI5YyF5ZCr54K577yJXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0KHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKHBhdGgpXHJcbiAgICBpZiAoIWZpbGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IGRvdEluZGV4ID0gZmlsZU5hbWUubGFzdEluZGV4T2YoXCIuXCIpXHJcbiAgICBpZiAoZG90SW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHJldHVybiBmaWxlTmFtZS5zdWJzdHIoZG90SW5kZXgpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bmianlsZXlkI3vvIjkuI3ljIXlkKvngrnvvIlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRXaXRob3V0RG90KHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKHBhdGgpXHJcbiAgICBpZiAoIWZpbGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIGNvbnN0IGRvdEluZGV4ID0gZmlsZU5hbWUubGFzdEluZGV4T2YoXCIuXCIpXHJcbiAgICBpZiAoZG90SW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHJldHVybiBmaWxlTmFtZS5zdWJzdHIoZG90SW5kZXggKyAxKVxyXG59XHJcblxyXG4vKipcclxuICog5Yik5pat5p+Q5Liq6Lev5b6E5piv5ZCm5Li65pys5Zyw56OB55uY5qC56Lev5b6E77yM5aaC77yaYzpcXCAg5oiWICBcXFxcdGVzdC1wY1xcXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNMb2NhbERpc2tSb290UGF0aChwYXRoOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGF0aCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgcGF0aCA9IGdldFN0YW5kYXJkUGF0aChwYXRoLCB0cnVlKVxyXG4gICAgcmV0dXJuIC9eW15cXFxcXSs6XFxcXCQvLnRlc3QocGF0aCkgfHwgL15cXFxcXFxcXFteXFxcXF0rXFxcXCQvLnRlc3QocGF0aClcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPlui3r+W+hOS4reeahOejgeebmOWQjeensO+8jOWmgu+8mmM6XFxhXFxiXFxjXFwgLT4gY++8jFxcXFx0ZXN0LXBjXFxhXFxiXFxjXFwgLT4gdGVzdC1wY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsUGF0aERpc2tOYW1lKHBhdGg6IHN0cmluZykge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHBhdGggPSBnZXRTdGFuZGFyZFBhdGgocGF0aCwgdHJ1ZSlcclxuICAgIGxldCBtdCA9IHBhdGgubWF0Y2goL15bXlxcXFxdKyg/PTopLylcclxuICAgIGlmIChtdD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIG10WzBdXHJcbiAgICB9XHJcbiAgICBtdCA9IHBhdGgubWF0Y2goL15cXFxcXFxcXChbXlxcXFxdKykoPz1cXFxcKS8pXHJcbiAgICBpZiAobXQ/Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBtdFsxXVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiXCJcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPlui3r+W+hOaJgOWcqOeahOaWh+S7tuWkueWQjeensO+8jOWmgu+8mmM6XFwgIC0tPiBj77ybICBjOlxcYVxcYlxcIC0tPiBiOyAgYzpcXGFcXGJcXGMucGRmIC0tPiBiXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aEZvbGRlck5hbWUocGF0aDogc3RyaW5nLCBpc0ZvbGRlclBhdGg6IGJvb2xlYW4pIHtcclxuICAgIGlmICghcGF0aCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiXHJcbiAgICB9XHJcbiAgICBwYXRoID0gZ2V0U3RhbmRhcmRQYXRoKHBhdGgsIGlzRm9sZGVyUGF0aClcclxuICAgIGNvbnN0IGFyciA9IHBhdGguc3BsaXQoXCJcXFxcXCIpXHJcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAyXS5yZXBsYWNlQWxsKFwiOlwiLCBcIlwiKVxyXG59XHJcblxyXG4vKipcclxuICog5Yik5pat5LiA5Liq6Lev5b6E5piv5ZCm5Li657O757uf5Zue5pS256uZ55qE6Lev5b6EXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTeXN0ZW1SZWN5Y2xlUGF0aChwYXRoOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGF0aCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhdGgudG9VcHBlckNhc2UoKS5pbmNsdWRlcyhcIiRSRUNZQ0xFLkJJTlwiKVxyXG59XHJcblxyXG4vKipcclxuICog5Yik5pat5LiA5Liq6Lev5b6E5piv5ZCm5Li6IE9mZmljZSDkuLTml7bmlofku7bnmoTot6/lvoTvvIjmlofku7blkI3ku6UgfiQg5byA5aS077yJXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNPZmZpY2VUZW1wUGF0aChwYXRoOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGF0aCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldEZpbGVOYW1lKHBhdGgpLnN0YXJ0c1dpdGgoXCJ+JFwiKVxyXG59XHJcblxyXG4vKipcclxuICog5bCG54mp55CG57ud5a+56Lev5b6E6L2s5o2i5Li6IGZpbGUg5Y2P6K6u55qEIHVybFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRQYXRoVG9GaWxlVXJsKHBhdGg6IHN0cmluZykge1xyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgIH1cclxuICAgIHJldHVybiBgZmlsZTovLyR7cGF0aC5yZXBsYWNlQWxsKFwiXFxcXFwiLCBcIi9cIikucmVwbGFjZUFsbChcIiNcIiwgXCIlMjNcIikudHJpbSgpfWBcclxufVxyXG4iXX0=