"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toCNIDCardEntity = toCNIDCardEntity;

var _common = require("../check/common");

var _idCard = require("../entity/idCard");

/**
 * 将字符串转为中国大陆身份证实体
 */
function toCNIDCardEntity(str) {
  var result = null;

  if (!(0, _common.isChinaIDCard)(str)) {
    return result;
  }

  result = new _idCard.CNIDCardEntity();
  result.len = str.length;

  if (result.len == 15) {
    result.birthday = "19" + str.substr(6, 6);
  } else {
    result.birthday = str.substr(6, 8);
  }

  result.birthday = result.birthday.substr(0, 4) + "-" + result.birthday.substr(4, 2) + "-" + result.birthday.substr(6, 2);
  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vaWRDYXJkLnRzIl0sIm5hbWVzIjpbInRvQ05JRENhcmRFbnRpdHkiLCJzdHIiLCJyZXN1bHQiLCJDTklEQ2FyZEVudGl0eSIsImxlbiIsImxlbmd0aCIsImJpcnRoZGF5Iiwic3Vic3RyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ08sU0FBU0EsZ0JBQVQsQ0FBMEJDLEdBQTFCLEVBQThEO0FBQ2pFLE1BQUlDLE1BQXNCLEdBQUcsSUFBN0I7O0FBQ0EsTUFBSSxDQUFDLDJCQUFjRCxHQUFkLENBQUwsRUFBeUI7QUFDckIsV0FBT0MsTUFBUDtBQUNIOztBQUNEQSxFQUFBQSxNQUFNLEdBQUcsSUFBSUMsc0JBQUosRUFBVDtBQUNBRCxFQUFBQSxNQUFNLENBQUNFLEdBQVAsR0FBYUgsR0FBRyxDQUFDSSxNQUFqQjs7QUFDQSxNQUFJSCxNQUFNLENBQUNFLEdBQVAsSUFBYyxFQUFsQixFQUFzQjtBQUNsQkYsSUFBQUEsTUFBTSxDQUFDSSxRQUFQLEdBQWtCLE9BQU9MLEdBQUcsQ0FBQ00sTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkLENBQXpCO0FBQ0gsR0FGRCxNQUVPO0FBQ0hMLElBQUFBLE1BQU0sQ0FBQ0ksUUFBUCxHQUFrQkwsR0FBRyxDQUFDTSxNQUFKLENBQVcsQ0FBWCxFQUFjLENBQWQsQ0FBbEI7QUFDSDs7QUFDREwsRUFBQUEsTUFBTSxDQUFDSSxRQUFQLEdBQWtCSixNQUFNLENBQUNJLFFBQVAsQ0FBZ0JDLE1BQWhCLENBQXVCLENBQXZCLEVBQTBCLENBQTFCLElBQStCLEdBQS9CLEdBQXFDTCxNQUFNLENBQUNJLFFBQVAsQ0FBZ0JDLE1BQWhCLENBQXVCLENBQXZCLEVBQTBCLENBQTFCLENBQXJDLEdBQW9FLEdBQXBFLEdBQTBFTCxNQUFNLENBQUNJLFFBQVAsQ0FBZ0JDLE1BQWhCLENBQXVCLENBQXZCLEVBQTBCLENBQTFCLENBQTVGO0FBQ0EsU0FBT0wsTUFBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNDaGluYUlEQ2FyZCB9IGZyb20gXCIuLi9jaGVjay9jb21tb25cIlxyXG5pbXBvcnQgeyBDTklEQ2FyZEVudGl0eSB9IGZyb20gXCIuLi9lbnRpdHkvaWRDYXJkXCJcclxuXHJcbi8qKlxyXG4gKiDlsIblrZfnrKbkuLLovazkuLrkuK3lm73lpKfpmYbouqvku73or4Hlrp7kvZNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0NOSURDYXJkRW50aXR5KHN0cjogc3RyaW5nKTogQ05JRENhcmRFbnRpdHkgfCBudWxsIHtcclxuICAgIGxldCByZXN1bHQ6IENOSURDYXJkRW50aXR5ID0gbnVsbCBhcyBhbnlcclxuICAgIGlmICghaXNDaGluYUlEQ2FyZChzdHIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG4gICAgcmVzdWx0ID0gbmV3IENOSURDYXJkRW50aXR5KClcclxuICAgIHJlc3VsdC5sZW4gPSBzdHIubGVuZ3RoIGFzIGFueVxyXG4gICAgaWYgKHJlc3VsdC5sZW4gPT0gMTUpIHtcclxuICAgICAgICByZXN1bHQuYmlydGhkYXkgPSBcIjE5XCIgKyBzdHIuc3Vic3RyKDYsIDYpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc3VsdC5iaXJ0aGRheSA9IHN0ci5zdWJzdHIoNiwgOClcclxuICAgIH1cclxuICAgIHJlc3VsdC5iaXJ0aGRheSA9IHJlc3VsdC5iaXJ0aGRheS5zdWJzdHIoMCwgNCkgKyBcIi1cIiArIHJlc3VsdC5iaXJ0aGRheS5zdWJzdHIoNCwgMikgKyBcIi1cIiArIHJlc3VsdC5iaXJ0aGRheS5zdWJzdHIoNiwgMilcclxuICAgIHJldHVybiByZXN1bHRcclxufSJdfQ==