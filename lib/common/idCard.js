"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toCNIDCardEntity = toCNIDCardEntity;

var _common = require("../check/common");

var _idCard = require("../entity/idCard");

/**
 * 将字符串转为中国大陆身份证实体
 */
function toCNIDCardEntity(str) {
  var result = null;

  if (!(0, _common.isChinaIDCard)(str)) {
    return result;
  }

  result = new _idCard.CNIDCardEntity();
  result.len = str.length;

  if (result.len == 15) {
    result.birthday = "19" + str.substr(6, 6);
  } else {
    result.birthday = str.substr(6, 8);
  }

  result.birthday = result.birthday.substr(0, 4) + "-" + result.birthday.substr(4, 2) + "-" + result.birthday.substr(6, 2);
  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vaWRDYXJkLnRzIl0sIm5hbWVzIjpbInRvQ05JRENhcmRFbnRpdHkiLCJzdHIiLCJyZXN1bHQiLCJDTklEQ2FyZEVudGl0eSIsImxlbiIsImxlbmd0aCIsImJpcnRoZGF5Iiwic3Vic3RyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7OztBQUdPLFNBQVNBLGdCQUFULENBQTBCQyxHQUExQixFQUE4RDtBQUNqRSxNQUFJQyxNQUFzQixHQUFHLElBQTdCOztBQUNBLE1BQUksQ0FBQywyQkFBY0QsR0FBZCxDQUFMLEVBQXlCO0FBQ3JCLFdBQU9DLE1BQVA7QUFDSDs7QUFDREEsRUFBQUEsTUFBTSxHQUFHLElBQUlDLHNCQUFKLEVBQVQ7QUFDQUQsRUFBQUEsTUFBTSxDQUFDRSxHQUFQLEdBQWFILEdBQUcsQ0FBQ0ksTUFBakI7O0FBQ0EsTUFBSUgsTUFBTSxDQUFDRSxHQUFQLElBQWMsRUFBbEIsRUFBc0I7QUFDbEJGLElBQUFBLE1BQU0sQ0FBQ0ksUUFBUCxHQUFrQixPQUFPTCxHQUFHLENBQUNNLE1BQUosQ0FBVyxDQUFYLEVBQWMsQ0FBZCxDQUF6QjtBQUNILEdBRkQsTUFFTztBQUNITCxJQUFBQSxNQUFNLENBQUNJLFFBQVAsR0FBa0JMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkLENBQWxCO0FBQ0g7O0FBQ0RMLEVBQUFBLE1BQU0sQ0FBQ0ksUUFBUCxHQUFrQkosTUFBTSxDQUFDSSxRQUFQLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQixDQUExQixJQUErQixHQUEvQixHQUFxQ0wsTUFBTSxDQUFDSSxRQUFQLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQixDQUExQixDQUFyQyxHQUFvRSxHQUFwRSxHQUEwRUwsTUFBTSxDQUFDSSxRQUFQLENBQWdCQyxNQUFoQixDQUF1QixDQUF2QixFQUEwQixDQUExQixDQUE1RjtBQUNBLFNBQU9MLE1BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQ2hpbmFJRENhcmQgfSBmcm9tIFwiLi4vY2hlY2svY29tbW9uXCJcclxuaW1wb3J0IHsgQ05JRENhcmRFbnRpdHkgfSBmcm9tIFwiLi4vZW50aXR5L2lkQ2FyZFwiXHJcblxyXG4vKipcclxuICog5bCG5a2X56ym5Liy6L2s5Li65Lit5Zu95aSn6ZmG6Lqr5Lu96K+B5a6e5L2TXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9DTklEQ2FyZEVudGl0eShzdHI6IHN0cmluZyk6IENOSURDYXJkRW50aXR5IHwgbnVsbCB7XHJcbiAgICBsZXQgcmVzdWx0OiBDTklEQ2FyZEVudGl0eSA9IG51bGwgYXMgYW55XHJcbiAgICBpZiAoIWlzQ2hpbmFJRENhcmQoc3RyKSkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuICAgIHJlc3VsdCA9IG5ldyBDTklEQ2FyZEVudGl0eSgpXHJcbiAgICByZXN1bHQubGVuID0gc3RyLmxlbmd0aCBhcyBhbnlcclxuICAgIGlmIChyZXN1bHQubGVuID09IDE1KSB7XHJcbiAgICAgICAgcmVzdWx0LmJpcnRoZGF5ID0gXCIxOVwiICsgc3RyLnN1YnN0cig2LCA2KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXN1bHQuYmlydGhkYXkgPSBzdHIuc3Vic3RyKDYsIDgpXHJcbiAgICB9XHJcbiAgICByZXN1bHQuYmlydGhkYXkgPSByZXN1bHQuYmlydGhkYXkuc3Vic3RyKDAsIDQpICsgXCItXCIgKyByZXN1bHQuYmlydGhkYXkuc3Vic3RyKDQsIDIpICsgXCItXCIgKyByZXN1bHQuYmlydGhkYXkuc3Vic3RyKDYsIDIpXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbn0iXX0=