"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.convertEnumToList = convertEnumToList;
exports.getDefaultEnum = getDefaultEnum;
exports.isValueInEnum = isValueInEnum;

var _data = require("./data");

/**
 * 将枚举转换为KeyValue列表
 */
function convertEnumToList(em) {
  var lst = [];

  for (var key in em) {
    if (!isNaN(Number(key))) {
      continue;
    }

    var item = {};
    item.key = key;
    item.value = em[key];
    lst.push(item);
  }

  return lst;
}
/**
 *  获取枚举的默认值（如果没有指定自定义的默认值，则取第一个；如果有指定自定义的默认值，则判断此默认值是否在此枚举中存在，如果不存在，则取枚举的第一个）
 */


function getDefaultEnum(em, defaultValue) {
  var lst = convertEnumToList(em);

  if (!(0, _data.isNullOrUndefined)(defaultValue)) {
    var m = lst.find(function (k) {
      return k.value == defaultValue;
    });

    if (m) {
      return em[m.key];
    }
  }

  return em[lst[0].key];
}
/**
 * 判断一个值是否属于指定的枚举
 */


function isValueInEnum(em, value) {
  if ((0, _data.isNullOrUndefined)(value)) {
    return false;
  }

  return !!convertEnumToList(em).find(function (k) {
    return k.value == value;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vZW51bVRvb2wudHMiXSwibmFtZXMiOlsiY29udmVydEVudW1Ub0xpc3QiLCJlbSIsImxzdCIsImtleSIsImlzTmFOIiwiTnVtYmVyIiwiaXRlbSIsInZhbHVlIiwicHVzaCIsImdldERlZmF1bHRFbnVtIiwiZGVmYXVsdFZhbHVlIiwibSIsImZpbmQiLCJrIiwiaXNWYWx1ZUluRW51bSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ08sU0FBU0EsaUJBQVQsQ0FBOEJDLEVBQTlCLEVBQWlEO0FBQ3BELE1BQU1DLEdBQUcsR0FBRyxFQUFaOztBQUNBLE9BQUssSUFBTUMsR0FBWCxJQUFrQkYsRUFBbEIsRUFBc0I7QUFDbEIsUUFBSSxDQUFDRyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0YsR0FBRCxDQUFQLENBQVYsRUFBeUI7QUFDckI7QUFDSDs7QUFDRCxRQUFNRyxJQUFJLEdBQUcsRUFBYjtBQUNBQSxJQUFBQSxJQUFJLENBQUNILEdBQUwsR0FBV0EsR0FBWDtBQUNBRyxJQUFBQSxJQUFJLENBQUNDLEtBQUwsR0FBYU4sRUFBRSxDQUFDRSxHQUFELENBQWY7QUFDQUQsSUFBQUEsR0FBRyxDQUFDTSxJQUFKLENBQVNGLElBQVQ7QUFDSDs7QUFDRCxTQUFPSixHQUFQO0FBQ0g7QUFFRDtBQUNBO0FBQ0E7OztBQUNPLFNBQVNPLGNBQVQsQ0FBMkJSLEVBQTNCLEVBQWtDUyxZQUFsQyxFQUFxRTtBQUN4RSxNQUFNUixHQUFHLEdBQUdGLGlCQUFpQixDQUFDQyxFQUFELENBQTdCOztBQUNBLE1BQUksQ0FBQyw2QkFBa0JTLFlBQWxCLENBQUwsRUFBc0M7QUFDbEMsUUFBTUMsQ0FBQyxHQUFHVCxHQUFHLENBQUNVLElBQUosQ0FBUyxVQUFDQyxDQUFEO0FBQUEsYUFBT0EsQ0FBQyxDQUFDTixLQUFGLElBQVdHLFlBQWxCO0FBQUEsS0FBVCxDQUFWOztBQUNBLFFBQUlDLENBQUosRUFBTztBQUNILGFBQVFWLEVBQUQsQ0FBWVUsQ0FBQyxDQUFDUixHQUFkLENBQVA7QUFDSDtBQUNKOztBQUNELFNBQVFGLEVBQUQsQ0FBWUMsR0FBRyxDQUFDLENBQUQsQ0FBSCxDQUFPQyxHQUFuQixDQUFQO0FBQ0g7QUFFRDtBQUNBO0FBQ0E7OztBQUNPLFNBQVNXLGFBQVQsQ0FBMEJiLEVBQTFCLEVBQWlDTSxLQUFqQyxFQUFrRTtBQUNyRSxNQUFJLDZCQUFrQkEsS0FBbEIsQ0FBSixFQUE4QjtBQUMxQixXQUFPLEtBQVA7QUFDSDs7QUFDRCxTQUFPLENBQUMsQ0FBQ1AsaUJBQWlCLENBQUNDLEVBQUQsQ0FBakIsQ0FBc0JXLElBQXRCLENBQTJCLFVBQUNDLENBQUQ7QUFBQSxXQUFPQSxDQUFDLENBQUNOLEtBQUYsSUFBV0EsS0FBbEI7QUFBQSxHQUEzQixDQUFUO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBLZXlWYWx1ZSB9IGZyb20gXCIuLi9lbnRpdHkva2V5VmFsdWVcIlxyXG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCB9IGZyb20gXCIuL2RhdGFcIlxyXG5cclxuLyoqXHJcbiAqIOWwhuaemuS4vui9rOaNouS4uktleVZhbHVl5YiX6KGoXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEVudW1Ub0xpc3Q8VD4oZW06IFQpOiBLZXlWYWx1ZVtdIHtcclxuICAgIGNvbnN0IGxzdCA9IFtdIGFzIEtleVZhbHVlW11cclxuICAgIGZvciAoY29uc3Qga2V5IGluIGVtKSB7XHJcbiAgICAgICAgaWYgKCFpc05hTihOdW1iZXIoa2V5KSkpIHtcclxuICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHt9IGFzIEtleVZhbHVlXHJcbiAgICAgICAgaXRlbS5rZXkgPSBrZXlcclxuICAgICAgICBpdGVtLnZhbHVlID0gZW1ba2V5XVxyXG4gICAgICAgIGxzdC5wdXNoKGl0ZW0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbHN0XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAg6I635Y+W5p6a5Li+55qE6buY6K6k5YC877yI5aaC5p6c5rKh5pyJ5oyH5a6a6Ieq5a6a5LmJ55qE6buY6K6k5YC877yM5YiZ5Y+W56ys5LiA5Liq77yb5aaC5p6c5pyJ5oyH5a6a6Ieq5a6a5LmJ55qE6buY6K6k5YC877yM5YiZ5Yik5pat5q2k6buY6K6k5YC85piv5ZCm5Zyo5q2k5p6a5Li+5Lit5a2Y5Zyo77yM5aaC5p6c5LiN5a2Y5Zyo77yM5YiZ5Y+W5p6a5Li+55qE56ys5LiA5Liq77yJXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEVudW08VD4oZW06IFQsIGRlZmF1bHRWYWx1ZT86IHN0cmluZyB8IG51bWJlcik6IFQge1xyXG4gICAgY29uc3QgbHN0ID0gY29udmVydEVudW1Ub0xpc3QoZW0pXHJcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICBjb25zdCBtID0gbHN0LmZpbmQoKGspID0+IGsudmFsdWUgPT0gZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgIGlmIChtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZW0gYXMgYW55KVttLmtleV0gYXMgVFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoZW0gYXMgYW55KVtsc3RbMF0ua2V5XSBhcyBUXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKTmlq3kuIDkuKrlgLzmmK/lkKblsZ7kuo7mjIflrprnmoTmnprkuL5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbHVlSW5FbnVtPFQ+KGVtOiBULCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gISFjb252ZXJ0RW51bVRvTGlzdChlbSkuZmluZCgoaykgPT4gay52YWx1ZSA9PSB2YWx1ZSlcclxufVxyXG4iXX0=