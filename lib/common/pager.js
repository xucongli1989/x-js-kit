"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createPagerInfo = createPagerInfo;

/**
 * 根据总数和每页最多显示的条数，获取分页信息
 */
function createPagerInfo(totalCount, pageSize, pageIndex) {
  var pagerInfo = {};

  if (totalCount <= 0 || pageSize <= 0) {
    return pagerInfo;
  }

  pagerInfo.pageSize = pageSize;
  pagerInfo.recordCount = totalCount;
  pagerInfo.pageCount = Math.ceil(totalCount * 1.0 / pageSize);

  if (pageIndex <= 0) {
    pageIndex = 1;
  }

  if (pageIndex > pagerInfo.pageCount) {
    pageIndex = pagerInfo.pageCount;
  }

  pagerInfo.pageIndex = pageIndex;
  pagerInfo.startIndex = (pagerInfo.pageIndex - 1) * pagerInfo.pageSize;
  pagerInfo.endIndex = pagerInfo.pageIndex * pagerInfo.pageSize - 1;

  if (pagerInfo.endIndex > totalCount - 1) {
    pagerInfo.endIndex = totalCount - 1;
  }

  return pagerInfo;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vcGFnZXIudHMiXSwibmFtZXMiOlsiY3JlYXRlUGFnZXJJbmZvIiwidG90YWxDb3VudCIsInBhZ2VTaXplIiwicGFnZUluZGV4IiwicGFnZXJJbmZvIiwicmVjb3JkQ291bnQiLCJwYWdlQ291bnQiLCJNYXRoIiwiY2VpbCIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLGVBQVQsQ0FBeUJDLFVBQXpCLEVBQTZDQyxRQUE3QyxFQUErREMsU0FBL0QsRUFBa0Y7QUFDckYsTUFBTUMsU0FBd0IsR0FBRyxFQUFqQzs7QUFDQSxNQUFJSCxVQUFVLElBQUksQ0FBZCxJQUFtQkMsUUFBUSxJQUFJLENBQW5DLEVBQXNDO0FBQ2xDLFdBQU9FLFNBQVA7QUFDSDs7QUFDREEsRUFBQUEsU0FBUyxDQUFDRixRQUFWLEdBQXFCQSxRQUFyQjtBQUNBRSxFQUFBQSxTQUFTLENBQUNDLFdBQVYsR0FBd0JKLFVBQXhCO0FBQ0FHLEVBQUFBLFNBQVMsQ0FBQ0UsU0FBVixHQUFzQkMsSUFBSSxDQUFDQyxJQUFMLENBQVdQLFVBQVUsR0FBRyxHQUFkLEdBQXFCQyxRQUEvQixDQUF0Qjs7QUFDQSxNQUFJQyxTQUFTLElBQUksQ0FBakIsRUFBb0I7QUFDaEJBLElBQUFBLFNBQVMsR0FBRyxDQUFaO0FBQ0g7O0FBQ0QsTUFBSUEsU0FBUyxHQUFHQyxTQUFTLENBQUNFLFNBQTFCLEVBQXFDO0FBQ2pDSCxJQUFBQSxTQUFTLEdBQUdDLFNBQVMsQ0FBQ0UsU0FBdEI7QUFDSDs7QUFDREYsRUFBQUEsU0FBUyxDQUFDRCxTQUFWLEdBQXNCQSxTQUF0QjtBQUNBQyxFQUFBQSxTQUFTLENBQUNLLFVBQVYsR0FBdUIsQ0FBQ0wsU0FBUyxDQUFDRCxTQUFWLEdBQXNCLENBQXZCLElBQTRCQyxTQUFTLENBQUNGLFFBQTdEO0FBQ0FFLEVBQUFBLFNBQVMsQ0FBQ00sUUFBVixHQUFxQk4sU0FBUyxDQUFDRCxTQUFWLEdBQXNCQyxTQUFTLENBQUNGLFFBQWhDLEdBQTJDLENBQWhFOztBQUNBLE1BQUlFLFNBQVMsQ0FBQ00sUUFBVixHQUFxQlQsVUFBVSxHQUFHLENBQXRDLEVBQXlDO0FBQ3JDRyxJQUFBQSxTQUFTLENBQUNNLFFBQVYsR0FBcUJULFVBQVUsR0FBRyxDQUFsQztBQUNIOztBQUNELFNBQU9HLFNBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VySW5mb1R5cGUgfSBmcm9tIFwiLi4vZW50aXR5L3BhZ2VyLWluZm9cIlxyXG5cclxuLyoqXHJcbiAqIOagueaNruaAu+aVsOWSjOavj+mhteacgOWkmuaYvuekuueahOadoeaVsO+8jOiOt+WPluWIhumhteS/oeaBr1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhZ2VySW5mbyh0b3RhbENvdW50OiBudW1iZXIsIHBhZ2VTaXplOiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBwYWdlckluZm86IFBhZ2VySW5mb1R5cGUgPSB7fSBhcyBhbnlcclxuICAgIGlmICh0b3RhbENvdW50IDw9IDAgfHwgcGFnZVNpemUgPD0gMCkge1xyXG4gICAgICAgIHJldHVybiBwYWdlckluZm9cclxuICAgIH1cclxuICAgIHBhZ2VySW5mby5wYWdlU2l6ZSA9IHBhZ2VTaXplXHJcbiAgICBwYWdlckluZm8ucmVjb3JkQ291bnQgPSB0b3RhbENvdW50XHJcbiAgICBwYWdlckluZm8ucGFnZUNvdW50ID0gTWF0aC5jZWlsKCh0b3RhbENvdW50ICogMS4wKSAvIHBhZ2VTaXplKVxyXG4gICAgaWYgKHBhZ2VJbmRleCA8PSAwKSB7XHJcbiAgICAgICAgcGFnZUluZGV4ID0gMVxyXG4gICAgfVxyXG4gICAgaWYgKHBhZ2VJbmRleCA+IHBhZ2VySW5mby5wYWdlQ291bnQpIHtcclxuICAgICAgICBwYWdlSW5kZXggPSBwYWdlckluZm8ucGFnZUNvdW50XHJcbiAgICB9XHJcbiAgICBwYWdlckluZm8ucGFnZUluZGV4ID0gcGFnZUluZGV4XHJcbiAgICBwYWdlckluZm8uc3RhcnRJbmRleCA9IChwYWdlckluZm8ucGFnZUluZGV4IC0gMSkgKiBwYWdlckluZm8ucGFnZVNpemVcclxuICAgIHBhZ2VySW5mby5lbmRJbmRleCA9IHBhZ2VySW5mby5wYWdlSW5kZXggKiBwYWdlckluZm8ucGFnZVNpemUgLSAxXHJcbiAgICBpZiAocGFnZXJJbmZvLmVuZEluZGV4ID4gdG90YWxDb3VudCAtIDEpIHtcclxuICAgICAgICBwYWdlckluZm8uZW5kSW5kZXggPSB0b3RhbENvdW50IC0gMVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhZ2VySW5mb1xyXG59XHJcbiJdfQ==