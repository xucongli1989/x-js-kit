"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getDefaultLanguage = getDefaultLanguage;
exports.getDefaultCurrencySymbol = getDefaultCurrencySymbol;
exports.getLanguageNodeData = getLanguageNodeData;
exports.createOrInitI18nInstance = createOrInitI18nInstance;
exports.getXJsKitI18nInstance = getXJsKitI18nInstance;
exports.LanguageTypeEnumList = exports.LanguageTypeEnum = void 0;

var _i18next = _interopRequireDefault(require("i18next"));

var _enumTool = require("../common/enumTool");

var _data = require("../common/data");

var _lib = require("../common/lib");

var _data2 = require("./data");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LanguageTypeEnum;
exports.LanguageTypeEnum = LanguageTypeEnum;

(function (LanguageTypeEnum) {
  LanguageTypeEnum["\u7B80\u4F53\u4E2D\u6587"] = "zh-CN";
  LanguageTypeEnum["\u7E41\u9AD4\u4E2D\u6587"] = "zh-TW";
  LanguageTypeEnum["English"] = "en-US";
  LanguageTypeEnum["Fran\xE7ais"] = "fr-FR";
  LanguageTypeEnum["Deutsch"] = "de-DE";
  LanguageTypeEnum["Espa\xF1ol"] = "es-ES";
  LanguageTypeEnum["\u65E5\u672C\u8A9E"] = "ja-JP";
  LanguageTypeEnum["\uD55C\uAD6D\uC5B4"] = "ko-KR";
})(LanguageTypeEnum || (exports.LanguageTypeEnum = LanguageTypeEnum = {}));

var LanguageTypeEnumList = (0, _enumTool.convertEnumToList)(LanguageTypeEnum);
/**
 * 获取默认语言
 */

exports.LanguageTypeEnumList = LanguageTypeEnumList;

function getDefaultLanguage(isChina) {
  return isChina ? LanguageTypeEnum.简体中文 : LanguageTypeEnum.English;
}
/**
 * 获取默认的货币符号
 */


function getDefaultCurrencySymbol(isChina) {
  return isChina ? "¥" : "$";
}
/**
 * 获取指定对象中的某个语言节点中的数据。
 * 如果 data 是字符串，则直接返回该字符串；如果是 object，则返回 object[当前语言] ；如果 object[当前语言] 没有值，则返回 object[默认语言]
 */


function getLanguageNodeData(data, isChina, lang) {
  if (!data) {
    return null;
  } //如果是字符串，则直接返回原数据即可


  if ((0, _data.isString)(data)) {
    return data;
  }

  return data[lang] || data[getDefaultLanguage(isChina)];
}
/**
 * 创建或初始化 i18n 实例。注意：defaultInstance、initReact 必须作为参数由具体使用的项目传过来，因为每个项目的默认实例不一样
 */


function createOrInitI18nInstance(isCreateNewInstance, defaultInstance, initReact, isChina, lang, transData) {
  var defaultLang = getDefaultLanguage(isChina);
  var currentLang = lang && (0, _enumTool.isValueInEnum)(LanguageTypeEnum, lang) ? lang : defaultLang;
  var initOps = {
    lng: currentLang,
    supportedLngs: LanguageTypeEnumList.map(function (k) {
      return k.value;
    }),
    fallbackLng: defaultLang,
    interpolation: {
      escapeValue: false
    },
    resources: transData
  };
  var ins = initReact ? defaultInstance.use(initReact) : defaultInstance; //创建新的 i18n 实例

  if (isCreateNewInstance) {
    return ins.createInstance(initOps, function (err) {
      //此函数必须有，否则报错
      if (!err) {
        return;
      }

      console.error("Create new i18n instance error: ".concat(err));
    });
  } //初始化默认实例


  return ins.init(initOps, function (err) {
    if (!err) {
      return;
    }

    console.error("Init default i18n instance error: ".concat(err));
  });
}
/**
 * 获取当前组件库的 i18n 实例。这里会将 i18n 实例挂载到全局变量上，供不同组件跨模块访问。为什么要这样做？因为这个组件库中的每一个组件最终是分别 build 成一个独立的包，组件与组件是隔离的，并没有数据共享机制，如果不这样做，那么每个打包后的组件都有自己的 i18n 实例。
 */


function getXJsKitI18nInstance() {
  var globalObj = (0, _lib.getGlobalObject)();

  if (globalObj.___xJsKitI18nInstance) {
    return globalObj.___xJsKitI18nInstance;
  }

  globalObj.___xJsKitI18nInstance = createOrInitI18nInstance(true, _i18next.default, null, true, getDefaultLanguage(true), _data2.XJsKitI18nResourcesData);
  return globalObj.___xJsKitI18nInstance;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pMThuL2luZGV4LnRzIl0sIm5hbWVzIjpbIkxhbmd1YWdlVHlwZUVudW0iLCJMYW5ndWFnZVR5cGVFbnVtTGlzdCIsImdldERlZmF1bHRMYW5ndWFnZSIsImlzQ2hpbmEiLCLnroDkvZPkuK3mlociLCJFbmdsaXNoIiwiZ2V0RGVmYXVsdEN1cnJlbmN5U3ltYm9sIiwiZ2V0TGFuZ3VhZ2VOb2RlRGF0YSIsImRhdGEiLCJsYW5nIiwiY3JlYXRlT3JJbml0STE4bkluc3RhbmNlIiwiaXNDcmVhdGVOZXdJbnN0YW5jZSIsImRlZmF1bHRJbnN0YW5jZSIsImluaXRSZWFjdCIsInRyYW5zRGF0YSIsImRlZmF1bHRMYW5nIiwiY3VycmVudExhbmciLCJpbml0T3BzIiwibG5nIiwic3VwcG9ydGVkTG5ncyIsIm1hcCIsImsiLCJ2YWx1ZSIsImZhbGxiYWNrTG5nIiwiaW50ZXJwb2xhdGlvbiIsImVzY2FwZVZhbHVlIiwicmVzb3VyY2VzIiwiaW5zIiwidXNlIiwiY3JlYXRlSW5zdGFuY2UiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJpbml0IiwiZ2V0WEpzS2l0STE4bkluc3RhbmNlIiwiZ2xvYmFsT2JqIiwiX19feEpzS2l0STE4bkluc3RhbmNlIiwiaTE4bmV4dCIsIlhKc0tpdEkxOG5SZXNvdXJjZXNEYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztJQUVZQSxnQjs7O1dBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0FBQUFBLEVBQUFBLGdCO0dBQUFBLGdCLGdDQUFBQSxnQjs7QUFVTCxJQUFNQyxvQkFBb0IsR0FBRyxpQ0FBa0JELGdCQUFsQixDQUE3QjtBQUVQO0FBQ0E7QUFDQTs7OztBQUNPLFNBQVNFLGtCQUFULENB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OlsiaW1wb3J0IGkxOG5leHQsIHsgaTE4biwgSW5pdE9wdGlvbnMsIFJlc291cmNlLCBUaGlyZFBhcnR5TW9kdWxlIH0gZnJvbSBcImkxOG5leHRcIlxyXG5pbXBvcnQgeyBjb252ZXJ0RW51bVRvTGlzdCwgaXNWYWx1ZUluRW51bSB9IGZyb20gXCIuLi9jb21tb24vZW51bVRvb2xcIlxyXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCIuLi9jb21tb24vZGF0YVwiXHJcbmltcG9ydCB7IGdldEdsb2JhbE9iamVjdCB9IGZyb20gXCIuLi9jb21tb24vbGliXCJcclxuaW1wb3J0IHsgWEpzS2l0STE4blJlc291cmNlc0RhdGEgfSBmcm9tIFwiLi9kYXRhXCJcclxuXHJcbmV4cG9ydCBlbnVtIExhbmd1YWdlVHlwZUVudW0ge1xyXG4gICAg566A5L2T5Lit5paHID0gXCJ6aC1DTlwiLFxyXG4gICAg57mB6auU5Lit5paHID0gXCJ6aC1UV1wiLFxyXG4gICAgRW5nbGlzaCA9IFwiZW4tVVNcIixcclxuICAgIEZyYW7Dp2FpcyA9IFwiZnItRlJcIixcclxuICAgIERldXRzY2ggPSBcImRlLURFXCIsXHJcbiAgICBFc3Bhw7FvbCA9IFwiZXMtRVNcIixcclxuICAgIOaXpeacrOiqniA9IFwiamEtSlBcIixcclxuICAgIO2VnOq1reyWtCA9IFwia28tS1JcIlxyXG59XHJcbmV4cG9ydCBjb25zdCBMYW5ndWFnZVR5cGVFbnVtTGlzdCA9IGNvbnZlcnRFbnVtVG9MaXN0KExhbmd1YWdlVHlwZUVudW0pXHJcblxyXG4vKipcclxuICog6I635Y+W6buY6K6k6K+t6KiAXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdExhbmd1YWdlKGlzQ2hpbmE6IGJvb2xlYW4pIHtcclxuICAgIHJldHVybiBpc0NoaW5hID8gTGFuZ3VhZ2VUeXBlRW51bS7nroDkvZPkuK3mlocgOiBMYW5ndWFnZVR5cGVFbnVtLkVuZ2xpc2hcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPlum7mOiupOeahOi0p+W4geespuWPt1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRDdXJyZW5jeVN5bWJvbChpc0NoaW5hOiBib29sZWFuKSB7XHJcbiAgICByZXR1cm4gaXNDaGluYSA/IFwiwqVcIiA6IFwiJFwiXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bmjIflrprlr7nosaHkuK3nmoTmn5DkuKror63oqIDoioLngrnkuK3nmoTmlbDmja7jgIJcclxuICog5aaC5p6cIGRhdGEg5piv5a2X56ym5Liy77yM5YiZ55u05o6l6L+U5Zue6K+l5a2X56ym5Liy77yb5aaC5p6c5pivIG9iamVjdO+8jOWImei/lOWbniBvYmplY3Rb5b2T5YmN6K+t6KiAXSDvvJvlpoLmnpwgb2JqZWN0W+W9k+WJjeivreiogF0g5rKh5pyJ5YC877yM5YiZ6L+U5ZueIG9iamVjdFvpu5jorqTor63oqIBdXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VOb2RlRGF0YTxUPihkYXRhOiBzdHJpbmcgfCBSZWNvcmQ8TGFuZ3VhZ2VUeXBlRW51bSwgVD4sIGlzQ2hpbmE6IGJvb2xlYW4sIGxhbmc6IExhbmd1YWdlVHlwZUVudW0pIHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICAvL+WmguaenOaYr+Wtl+espuS4su+8jOWImeebtOaOpei/lOWbnuWOn+aVsOaNruWNs+WPr1xyXG4gICAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEgYXMgc3RyaW5nXHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGRhdGEgYXMgUmVjb3JkPExhbmd1YWdlVHlwZUVudW0sIFQ+KVtsYW5nXSB8fCAoZGF0YSBhcyBSZWNvcmQ8TGFuZ3VhZ2VUeXBlRW51bSwgVD4pW2dldERlZmF1bHRMYW5ndWFnZShpc0NoaW5hKV1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuaIluWIneWni+WMliBpMThuIOWunuS+i+OAguazqOaEj++8mmRlZmF1bHRJbnN0YW5jZeOAgWluaXRSZWFjdCDlv4XpobvkvZzkuLrlj4LmlbDnlLHlhbfkvZPkvb/nlKjnmoTpobnnm67kvKDov4fmnaXvvIzlm6DkuLrmr4/kuKrpobnnm67nmoTpu5jorqTlrp7kvovkuI3kuIDmoLdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPckluaXRJMThuSW5zdGFuY2UoaXNDcmVhdGVOZXdJbnN0YW5jZTogYm9vbGVhbiwgZGVmYXVsdEluc3RhbmNlOiBpMThuLCBpbml0UmVhY3Q6IFRoaXJkUGFydHlNb2R1bGUsIGlzQ2hpbmE6IGJvb2xlYW4sIGxhbmc6IExhbmd1YWdlVHlwZUVudW0sIHRyYW5zRGF0YTogUmVzb3VyY2UpIHtcclxuICAgIGNvbnN0IGRlZmF1bHRMYW5nID0gZ2V0RGVmYXVsdExhbmd1YWdlKGlzQ2hpbmEpXHJcbiAgICBjb25zdCBjdXJyZW50TGFuZyA9IGxhbmcgJiYgaXNWYWx1ZUluRW51bShMYW5ndWFnZVR5cGVFbnVtLCBsYW5nKSA/IGxhbmcgOiBkZWZhdWx0TGFuZ1xyXG5cclxuICAgIGNvbnN0IGluaXRPcHM6IEluaXRPcHRpb25zID0ge1xyXG4gICAgICAgIGxuZzogY3VycmVudExhbmcsXHJcbiAgICAgICAgc3VwcG9ydGVkTG5nczogTGFuZ3VhZ2VUeXBlRW51bUxpc3QubWFwKChrKSA9PiBrLnZhbHVlKSxcclxuICAgICAgICBmYWxsYmFja0xuZzogZGVmYXVsdExhbmcsXHJcbiAgICAgICAgaW50ZXJwb2xhdGlvbjoge1xyXG4gICAgICAgICAgICBlc2NhcGVWYWx1ZTogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlc291cmNlczogdHJhbnNEYXRhXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5zID0gaW5pdFJlYWN0ID8gZGVmYXVsdEluc3RhbmNlLnVzZShpbml0UmVhY3QpIDogZGVmYXVsdEluc3RhbmNlXHJcblxyXG4gICAgLy/liJvlu7rmlrDnmoQgaTE4biDlrp7kvotcclxuICAgIGlmIChpc0NyZWF0ZU5ld0luc3RhbmNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGlucy5jcmVhdGVJbnN0YW5jZShpbml0T3BzLCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIC8v5q2k5Ye95pWw5b+F6aG75pyJ77yM5ZCm5YiZ5oql6ZSZXHJcbiAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDcmVhdGUgbmV3IGkxOG4gaW5zdGFuY2UgZXJyb3I6ICR7ZXJyfWApXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL+WIneWni+WMlum7mOiupOWunuS+i1xyXG4gICAgcmV0dXJuIGlucy5pbml0KGluaXRPcHMsIChlcnIpID0+IHtcclxuICAgICAgICBpZiAoIWVycikge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgSW5pdCBkZWZhdWx0IGkxOG4gaW5zdGFuY2UgZXJyb3I6ICR7ZXJyfWApXHJcbiAgICB9KVxyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5b2T5YmN57uE5Lu25bqT55qEIGkxOG4g5a6e5L6L44CC6L+Z6YeM5Lya5bCGIGkxOG4g5a6e5L6L5oyC6L295Yiw5YWo5bGA5Y+Y6YeP5LiK77yM5L6b5LiN5ZCM57uE5Lu26Leo5qih5Z2X6K6/6Zeu44CC5Li65LuA5LmI6KaB6L+Z5qC35YGa77yf5Zug5Li66L+Z5Liq57uE5Lu25bqT5Lit55qE5q+P5LiA5Liq57uE5Lu25pyA57uI5piv5YiG5YirIGJ1aWxkIOaIkOS4gOS4queLrOeri+eahOWMhe+8jOe7hOS7tuS4jue7hOS7tuaYr+malOemu+eahO+8jOW5tuayoeacieaVsOaNruWFseS6q+acuuWItu+8jOWmguaenOS4jei/meagt+WBmu+8jOmCo+S5iOavj+S4quaJk+WMheWQjueahOe7hOS7tumDveacieiHquW3seeahCBpMThuIOWunuS+i+OAglxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFhKc0tpdEkxOG5JbnN0YW5jZSgpIHtcclxuICAgIGNvbnN0IGdsb2JhbE9iaiA9IGdldEdsb2JhbE9iamVjdCgpIGFzIGFueVxyXG4gICAgaWYgKGdsb2JhbE9iai5fX194SnNLaXRJMThuSW5zdGFuY2UpIHtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsT2JqLl9fX3hKc0tpdEkxOG5JbnN0YW5jZSBhcyB0eXBlb2YgaTE4bmV4dFxyXG4gICAgfVxyXG4gICAgZ2xvYmFsT2JqLl9fX3hKc0tpdEkxOG5JbnN0YW5jZSA9IGNyZWF0ZU9ySW5pdEkxOG5JbnN0YW5jZSh0cnVlLCBpMThuZXh0IGFzIGFueSwgbnVsbCBhcyBhbnksIHRydWUsIGdldERlZmF1bHRMYW5ndWFnZSh0cnVlKSwgWEpzS2l0STE4blJlc291cmNlc0RhdGEpXHJcbiAgICByZXR1cm4gZ2xvYmFsT2JqLl9fX3hKc0tpdEkxOG5JbnN0YW5jZSBhcyB0eXBlb2YgaTE4bmV4dFxyXG59XHJcbiJdfQ==