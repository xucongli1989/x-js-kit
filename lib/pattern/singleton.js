"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getInstance = getInstance;

var _lib = require("../common/lib");

var classIdSymbol = (0, _lib.getSymbol)("class-id");
/**
 * 获取指定类的单个实例
 * @param className 类的名字
 */

function getInstance(ClassName) {
  if (!classIdSymbol) {
    throw new Error("Type of Symbol is not found!");
  }

  var obj = ClassName[classIdSymbol];

  if (typeof obj != 'undefined') {
    return obj;
  }

  var newObj = new ClassName();
  Object.defineProperty(ClassName, classIdSymbol, {
    value: newObj
  });
  return newObj;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXR0ZXJuL3NpbmdsZXRvbi50cyJdLCJuYW1lcyI6WyJjbGFzc0lkU3ltYm9sIiwiZ2V0SW5zdGFuY2UiLCJDbGFzc05hbWUiLCJFcnJvciIsIm9iaiIsIm5ld09iaiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxhQUFhLEdBQUcsb0JBQVUsVUFBVixDQUF0QjtBQUVBOzs7OztBQUlPLFNBQVNDLFdBQVQsQ0FBd0JDLFNBQXhCLEVBQW1EO0FBQ3RELE1BQUksQ0FBQ0YsYUFBTCxFQUFvQjtBQUNoQixVQUFNLElBQUlHLEtBQUosQ0FBVSw4QkFBVixDQUFOO0FBQ0g7O0FBQ0QsTUFBTUMsR0FBRyxHQUFJRixTQUFELENBQW1CRixhQUFuQixDQUFaOztBQUNBLE1BQUksT0FBUUksR0FBUixJQUFnQixXQUFwQixFQUFpQztBQUM3QixXQUFPQSxHQUFQO0FBQ0g7O0FBQ0QsTUFBTUMsTUFBTSxHQUFHLElBQUlILFNBQUosRUFBZjtBQUNBSSxFQUFBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JMLFNBQXRCLEVBQWlDRixhQUFqQyxFQUFnRDtBQUM1Q1EsSUFBQUEsS0FBSyxFQUFFSDtBQURxQyxHQUFoRDtBQUdBLFNBQU9BLE1BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN5bWJvbCB9IGZyb20gXCIuLi9jb21tb24vbGliXCJcclxuXHJcbmNvbnN0IGNsYXNzSWRTeW1ib2wgPSBnZXRTeW1ib2woXCJjbGFzcy1pZFwiKVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluaMh+Wumuexu+eahOWNleS4quWunuS+i1xyXG4gKiBAcGFyYW0gY2xhc3NOYW1lIOexu+eahOWQjeWtl1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluc3RhbmNlPFQ+KENsYXNzTmFtZTogbmV3ICgpID0+IFQpOiBUIHtcclxuICAgIGlmICghY2xhc3NJZFN5bWJvbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlR5cGUgb2YgU3ltYm9sIGlzIG5vdCBmb3VuZCFcIilcclxuICAgIH1cclxuICAgIGNvbnN0IG9iaiA9IChDbGFzc05hbWUgYXMgYW55KVtjbGFzc0lkU3ltYm9sXSBhcyBUXHJcbiAgICBpZiAodHlwZW9mIChvYmopICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialxyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3T2JqID0gbmV3IENsYXNzTmFtZSgpXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3NOYW1lLCBjbGFzc0lkU3ltYm9sLCB7XHJcbiAgICAgICAgdmFsdWU6IG5ld09ialxyXG4gICAgfSlcclxuICAgIHJldHVybiBuZXdPYmpcclxufSJdfQ==