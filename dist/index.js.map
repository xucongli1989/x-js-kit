{"version":3,"sources":["webpack://x-js-kit/webpack/universalModuleDefinition","webpack://x-js-kit/./src/constant/regex.ts","webpack://x-js-kit/./src/common/regexp.ts","webpack://x-js-kit/./src/constant/map.ts","webpack://x-js-kit/./src/common/string.ts","webpack://x-js-kit/./src/common/data.ts","webpack://x-js-kit/./src/common/lib.ts","webpack://x-js-kit/./src/cache/localStorage.ts","webpack://x-js-kit/./src/cache/index.ts","webpack://x-js-kit/./src/device/browser.ts","webpack://x-js-kit/./src/check/common.ts","webpack://x-js-kit/./src/check/url.ts","webpack://x-js-kit/./src/check/browser.ts","webpack://x-js-kit/./src/check/index.ts","webpack://x-js-kit/./src/common/array.ts","webpack://x-js-kit/./src/common/convert.ts","webpack://x-js-kit/./src/common/cookie.ts","webpack://x-js-kit/./src/common/json.ts","webpack://x-js-kit/./src/common/enumTool.ts","webpack://x-js-kit/./src/entity/idCard.ts","webpack://x-js-kit/./src/common/idCard.ts","webpack://x-js-kit/./src/common/image.ts","webpack://x-js-kit/./src/common/random.ts","webpack://x-js-kit/./src/entity/keyValue.ts","webpack://x-js-kit/./src/common/url.ts","webpack://x-js-kit/./src/common/index.ts","webpack://x-js-kit/./src/recorder/log.ts","webpack://x-js-kit/./src/config/index.ts","webpack://x-js-kit/./src/constant/index.ts","webpack://x-js-kit/./src/date/format.ts","webpack://x-js-kit/./src/date/convert.ts","webpack://x-js-kit/./src/date/index.ts","webpack://x-js-kit/./src/declaration/index.ts","webpack://x-js-kit/./src/device/index.ts","webpack://x-js-kit/./src/entity/select.ts","webpack://x-js-kit/./src/entity/serialize.ts","webpack://x-js-kit/./src/recorder/dom.ts","webpack://x-js-kit/./src/entity/message.ts","webpack://x-js-kit/./src/entity/index.ts","webpack://x-js-kit/./src/recorder/index.ts","webpack://x-js-kit/./src/pattern/strategy.ts","webpack://x-js-kit/./src/pattern/singleton.ts","webpack://x-js-kit/./src/pattern/index.ts","webpack://x-js-kit/./src/timer/stopWatch.ts","webpack://x-js-kit/./src/timer/index.ts","webpack://x-js-kit/./src/validation/fieldMessage.ts","webpack://x-js-kit/./src/validation/index.ts","webpack://x-js-kit/./src/index.ts","webpack://x-js-kit/webpack/bootstrap","webpack://x-js-kit/webpack/startup","webpack://x-js-kit/webpack/runtime/define property getters","webpack://x-js-kit/webpack/runtime/global","webpack://x-js-kit/webpack/runtime/hasOwnProperty shorthand","webpack://x-js-kit/webpack/runtime/make namespace object","webpack://x-js-kit/webpack/runtime/hot module replacement"],"names":["root","factory","exports","module","define","amd","a","i","this","email","allEnglish","allNumber","http","https","httpOrHttps","partNumber","cnMobile","htmlLeftRightBlank","chinaIDCard","escapeReg","str","replace","htmlEntityMap","splitString","stepCharCount","strLen","length","result","startIndex","push","substr","ellipsis","len","ellipsisChars","substring","getNumber","mt","match","parseFloat","trim","lTrim","rTrim","lTrimString","strToRemove","isIgnoreCase","RegExp","rTrimString","trimString","trimHTML","html","test","contains","source","search","sourceStr","toUpperCase","includes","escapeHtml","String","s","repeat","repeatCount","count","join","Builder","_arr","toString","builder","format","token","isNull","obj","isArray","Object","prototype","call","isNumber","val","isNaN","isObject","isNullOrEmpty","isNullOrWhiteSpace","isFunction","isString","isBoolean","isUndefined","undefined","isUpper","isLower","toLowerCase","isDate","isError","Error","isIn","value","args","isInIgnoreCase","find","k","defaultTryRunErrorHandler","isServer","window","isBowser","getGlobalObject","global","globalObject","getDocument","document","getLocalStorage","localStorage","getSymbol","desc","g","Symbol","createNamespace","name","tokens","split","shift","getValue","path","temp","forEach","keyName","e","deepClone","JSON","parse","stringify","tryRun","fn","setTryRunErrorHandler","mergeObjectAndCombineSameFunc","target","sources","reduce","preItem","currentItem","pre","cur","keys","key","preValue","currentValue","isPreValueFunction","isCurrentValueFunction","clearExpiredIntervalId","globalCacheName","autoClearExpiredTimeSpan","isInited","getStore","store","getItem","defaultGlobalLocalStorage","time","Date","valueOf","items","setItem","clearExpired","runClearExpiredInterval","getGlobalCache","cacheValue","setGlobalCacheName","oldValue","removeItem","add","cache","remove","get","ignoreExpireCheck","item","expire","ch","clearInterval","setInterval","getAutoClearExpiredTimeSpan","setAutoClearExpiredTimeSpan","timeSpan","BrowserWidthTypeEnum","isEmail","regexConst","isAllEnglish","isAllNumber","isCNMobile","isChinaIDCard","isAlphaNumericKeyCode","keyCode","isHttp","url","isHttps","isHttpOrHttpsUrl","size","width","height","getWidthType","ExtraSmall","Small","Medium","Large","ExtraLarge","isIE","version","userAgent","ua","navigator","isExtraSmall","isSmall","isMedium","isLarge","isExtraLarge","isReload","performance","navigation","type","common","browser","splitArray","arr","stepCount","arrLen","newArray","maxCount","Math","ceil","slice","unique","Array","from","Set","union","arr1","arr2","a2","intersect","filter","x","diff","a1","diff1","diff2","map","createNumberArray","startValue","endValue","step","stepValue","toIntDefault","defaultValue","parseInt","toInt","toIntNull","toFloatDefault","toFloat","toFloatNull","sKey","decodeURIComponent","encodeURIComponent","sValue","vEnd","sPath","sDomain","bSecure","sExpires","constructor","Number","Infinity","toUTCString","hasItem","aKeys","nIdx","hasKey","json","hasValue","keyValue","r","toParams","m","toObject","convertEnumToList","em","lst","CNIDCardEntity","toCNIDCardEntity","birthday","ImageSrcReg","replaceImgSrc","newAttrName","_id","create","random","padEnd","uuid","d","getTime","c","floor","range","min","max","id","KeyValue","extend","KeyNameValue","splitUrlByQueryInfo","questionMarkIndex","lastIndexOf","wellNumberMarkIndex","indexOf","hostPart","queryPart","hashPart","mergeUrlBySplitQueryInfo","splitInfo","convertQueryStringToKeyValueArray","queryString","has","convertKeyValueArrayToQueryString","appendQueryString","urlQueryKeyValue","queryInfo","getUrlParameter","paramName","results","exec","LevelTypeEnum","string","array","convert","cookie","data","enumTool","idCard","image","lib","regexp","defaultLogRecorder","content","option","console","info","Promise","resolve","warn","error","getLogRecorder","level","isAsync","fun","infoAsync","warnAsync","errorAsync","logger","logFunc","write","writeAsync","setLoggerRecorder","logRecorder","recorder","toHourStringFromMins","mins","h","dateValue","fmtStr","fmt","dt","o","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","$1","getFullYear","toEntity","model","year","month","day","hour","second","millisecond","week","getDay","dateStr","date","mts","SelectItem","text","isSelected","BaseClass","jsonObj","proto","getPrototypeOf","getOwnPropertyNames","getOwnPropertyDescriptor","KeyTypeEnum","MessageHead","MessageBody","MessageEntity","select","serialize","message","DOMDataRecorder","win","location","href","refer","attrKeyName","attrPrefix","attrTypeName","attrValueName","eles","node","getAttribute","hasAttribute","txt","innerHTML","innerText","log","dom","StrategyItem","context","handler","Strategy","_strategyList","classIdSymbol","getInstance","ClassName","newObj","defineProperty","strategy","singleton","StopWatch","_startFlag","_stopFlag","_date","_value","stopWatch","FieldMessageItem","ops","fieldItems","isShowAll","isShow","oldShowValue","oldItem","needShowFields","unNeedShowFields","FieldMessageModel","isPassed","itemList","check","config","constant","declaration","device","entity","pattern","timer","validation","fieldMessage","__webpack_module_cache__","__webpack_require__","moduleId","execOptions","__webpack_modules__","require","definition","enumerable","globalThis","Function","prop","hasOwnProperty","toStringTag","currentChildModule","blockingPromises","currentUpdateApplyHandlers","queuedInvalidatedModules","currentModuleData","installedModules","currentParents","registeredStatusHandlers","currentStatus","setStatus","newStatus","waitForBlockingPromises","blocker","all","then","hotCheck","applyOnUpdate","hmrM","update","applyInvalidatedModules","updatedModules","hmrC","promises","internalApply","hotApply","options","errors","Boolean","dispose","reportError","err","outdatedModules","apply","modules","list","hmrI","hmrD","me","hot","request","active","parents","children","createPropertyDescriptor","configurable","set","chunkId","promise","trackBlockingPromise","createRequire","_acceptedDependencies","_declinedDependencies","_selfAccepted","_selfDeclined","_selfInvalidated","_disposeHandlers","_main","_requireSelf","accept","dep","callback","decline","addDisposeHandler","removeDisposeHandler","idx","splice","invalidate","status","l","addStatusHandler","removeStatusHandler"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","/**\r\n * 完整的电子邮箱地址（不区分大小写）\r\n */\r\nexport const email = /^\\w+((-\\w+)|(\\.\\w+))*@[a-z0-9]+((\\.|-)[a-z0-9]+)*\\.[a-z0-9]+$/i\r\n/**\r\n * 全部是英文字母\r\n */\r\nexport const allEnglish = /^[a-zA-Z]+$/\r\n/**\r\n * 全部是数字\r\n */\r\nexport const allNumber = /^[0-9]+$/\r\n/**\r\n * 以【http://】开头（不区分大小写）\r\n */\r\nexport const http = /^http:\\/\\//i\r\n/**\r\n * 以【https://】开头（不区分大小写）\r\n */\r\nexport const https = /^https:\\/\\//i\r\n/**\r\n * 以【http://】或【https://】开头（不区分大小写）\r\n */\r\nexport const httpOrHttps = /^https?:\\/\\//i\r\n/**\r\n * 包含整数或浮点数\r\n */\r\nexport const partNumber = /\\d+(\\.\\d+)?/\r\n/**\r\n * 中国大陆手机号\r\n */\r\nexport const cnMobile = /^1\\d{10}$/\r\n/**\r\n * html左右空白字符（不区分大小写）\r\n */\r\nexport const htmlLeftRightBlank = /^((\\s+)|((<br\\/?>)+)|((nbsp;)+))|((\\s+)|((<br\\/?>)+)|((nbsp;)+))$/gi\r\n/**\r\n * 中国大陆身份证（18、15位）\r\n */\r\nexport const chinaIDCard = /(^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$)|(^[1-9]\\d{5}\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}$)/","/**\r\n * 将字符串中的关键字符进行编码，以避免在传给Regex时，这些字符被当成正则中的关键字处理\r\n */\r\nexport function escapeReg(str: string) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    return str.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\r\n}","import { AnyKeyValueType } from \"../declaration/common\"\r\n\r\n/**\r\n* html转义实体\r\n*/\r\nexport const htmlEntityMap: AnyKeyValueType = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;',\r\n    \"/\": '&#x2F;'\r\n}","import { partNumber, htmlLeftRightBlank } from \"../constant/regex\"\r\nimport { escapeReg } from \"./regexp\"\r\nimport { htmlEntityMap } from \"../constant/map\"\r\n\r\n/**\r\n * 将字符串按一定字符数拆分成字符串数组\r\n */\r\nexport function splitString(str: string, stepCharCount: number): string[] {\r\n    if (!str || stepCharCount <= 0) {\r\n        return []\r\n    }\r\n    const strLen = str.length\r\n    if (strLen <= stepCharCount) {\r\n        return [str]\r\n    }\r\n    const result: string[] = []\r\n    let startIndex = 0\r\n    while (startIndex < strLen) {\r\n        result.push(str.substr(startIndex, stepCharCount))\r\n        startIndex += stepCharCount\r\n    }\r\n    return result\r\n}\r\n\r\n/**\r\n * 截取字符串并以省略符号显示字符串\r\n * @param str 原字符串\r\n * @param len 要保留的字符长度\r\n * @param ellipsisChars 被截断的字符显示的符号\r\n */\r\nexport function ellipsis(str: string, len: number, ellipsisChars = \"...\"): string {\r\n    if (!str || len <= 0) {\r\n        return \"\"\r\n    }\r\n    if (str.length <= len) {\r\n        return str\r\n    }\r\n    return str.substring(0, len) + ellipsisChars\r\n}\r\n\r\n/**\r\n * 从字符串中提取数字（可带小数点）。如：\"abc123.01cde\"->123.01\r\n */\r\nexport function getNumber(str: string): number | null {\r\n    if (!str) {\r\n        return null\r\n    }\r\n    const mt = str.match(partNumber)\r\n    if (!mt || !mt.length) {\r\n        return null\r\n    }\r\n    return parseFloat(mt[0])\r\n}\r\n\r\n/**\r\n * 去左右空格\r\n * @param  str 待处理字符串\r\n * @returns  处理后的字符串\r\n */\r\nexport function trim(str: string) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    return str.replace(/^\\s+|\\s+$/g, \"\")\r\n}\r\n\r\n/**\r\n * 去左空格\r\n * @param  str 待处理字符串\r\n * @returns  处理后的字符串\r\n */\r\nexport function lTrim(str: string) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    return str.replace(/^\\s+/, \"\")\r\n}\r\n\r\n/**\r\n * 去右空格\r\n * @param  str 待处理字符串\r\n * @returns  处理后的值\r\n */\r\nexport function rTrim(str: string) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    return str.replace(/\\s+$/, \"\")\r\n}\r\n\r\n/**\r\n * 去掉左边的指定字符串\r\n * @param str 待处理的字符串\r\n * @param strToRemove 需要移除的字符串\r\n * @param isIgnoreCase 是否忽略大小写\r\n * @returns 处理结果\r\n */\r\nexport function lTrimString(str: string, strToRemove: string, isIgnoreCase: boolean = false) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    if (!strToRemove) {\r\n        return str\r\n    }\r\n    return str.replace(new RegExp(`^(${escapeReg(strToRemove)})*`, isIgnoreCase ? \"gi\" : \"g\"), \"\")\r\n}\r\n\r\n/**\r\n * 去掉右边的指定字符串\r\n * @param str 待处理的字符串\r\n * @param strToRemove 需要移除的字符串\r\n * @param isIgnoreCase 是否忽略大小写\r\n * @returns 处理结果\r\n */\r\nexport function rTrimString(str: string, strToRemove: string, isIgnoreCase: boolean = false) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    if (!strToRemove) {\r\n        return str\r\n    }\r\n    return str.replace(new RegExp(`(${escapeReg(strToRemove)})*$`, isIgnoreCase ? \"gi\" : \"g\"), \"\")\r\n}\r\n\r\n/**\r\n * 去左右指定的字符串\r\n * @param str 待处理的字符串\r\n * @param strToRemove 需要移除的字符串\r\n * @param isIgnoreCase 是否忽略大小写\r\n * @returns 处理结果\r\n */\r\nexport function trimString(str: string, strToRemove: string, isIgnoreCase: boolean = false) {\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    if (!strToRemove) {\r\n        return str\r\n    }\r\n    return str.replace(new RegExp(`(^(${escapeReg(strToRemove)})*)|((${escapeReg(strToRemove)})*$)`, isIgnoreCase ? \"gi\" : \"g\"), \"\")\r\n}\r\n\r\n/**\r\n * 从html字符串中移除左右空白占位符\r\n * @param html 待处理的字符串\r\n * @returns 处理结果\r\n */\r\nexport function trimHTML(html: string) {\r\n    let str = html\r\n    if (!str) {\r\n        return \"\"\r\n    }\r\n    while (htmlLeftRightBlank.test(str)) {\r\n        str = str.replace(htmlLeftRightBlank, \"\")\r\n    }\r\n    return str\r\n}\r\n\r\n/**\r\n * 指定源字符串source中是否包含search字符串\r\n * @param  source 源字符串\r\n * @param  search 要查找的字符串\r\n * @param  isIgnoreCase 是否忽略大小写(默认为false)\r\n * @returns  结果\r\n */\r\nexport function contains(source: string, search: string, isIgnoreCase: boolean = false) {\r\n    let sourceStr = source\r\n    let str = search\r\n    if (!sourceStr) {\r\n        return false\r\n    }\r\n    if (str === \"\") {\r\n        return true\r\n    }\r\n    if (!str) {\r\n        return false\r\n    }\r\n    if (isIgnoreCase) {\r\n        sourceStr = sourceStr.toUpperCase()\r\n        str = str.toUpperCase()\r\n    }\r\n    return sourceStr.includes(str)\r\n}\r\n\r\n/**\r\n* 将html标签转换为实体形式\r\n* @param  html 需要被替换的html\r\n* @returns  转换后的值\r\n*/\r\nexport function escapeHtml(html: string) {\r\n    if (!html) {\r\n        return \"\"\r\n    }\r\n    return String(html).replace(/[&<>\"'/]/g, (s) => htmlEntityMap[s])\r\n}\r\n\r\n/**\r\n * @param   str 要重复的字符串\r\n * @param   repeatCount 重复次数\r\n * @returns  新的字符串\r\n */\r\nexport function repeat(str: string, repeatCount: number) {\r\n    let count = repeatCount\r\n    if (!str || count <= 0) {\r\n        return \"\"\r\n    }\r\n    const s = []\r\n    while (count--) {\r\n        s.push(str)\r\n    }\r\n    return s.join('')\r\n}\r\n\r\n/**\r\n * 字符串批量构建器（无需使用\"+\"进行字符串的拼接，直接使用此对象的append方法后，再toString即可得到拼好的字符串）\r\n */\r\nexport class Builder<T> {\r\n    private _arr: T[] = []\r\n    /**\r\n     * 追加项\r\n     * @param items 待追加的项\r\n     * @returns this \r\n     */\r\n    append(...items: T[]) {\r\n        this._arr.push(...items)\r\n        return this\r\n    }\r\n    /**\r\n     * 返回已合并的所有项的字符串\r\n     */\r\n    toString() {\r\n        return this._arr.join(\"\")\r\n    }\r\n    /**\r\n     * 清空当前的构建器中的所有项\r\n     * @returns this\r\n     */\r\n    clear() {\r\n        this._arr = []\r\n        return this\r\n    }\r\n    /**\r\n     * 返回构建器中所有项的字符串总的字符长度\r\n     */\r\n    length() {\r\n        return this.toString().length\r\n    }\r\n}\r\n\r\nexport const builder = Builder\r\n\r\n/**\r\n * 使用模板格式化字符串\r\n * @param str 模板，如：\"今天是星期{0}，已成交{1}单！\"\r\n * @param args 模板中的参数\r\n */\r\nexport function format(str: string, ...args: any[]) {\r\n    if (!str || !args.length) {\r\n        return str\r\n    }\r\n    let result = str\r\n    for (let token = 0; token < args.length; token++) {\r\n        result = result.replace(new RegExp(\"\\\\{\" + token + \"\\\\}\", \"gi\"), args[token])\r\n    }\r\n    return result\r\n}","import { trim } from \"./string\"\r\n\r\n/**\r\n * 判断obj是否为null\r\n */\r\nexport function isNull(obj: any) {\r\n    return obj === null\r\n}\r\n\r\n/**\r\n * 判断obj是否为数组\r\n */\r\nexport function isArray(obj: any) {\r\n    if (!obj) {\r\n        return false\r\n    }\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\"\r\n}\r\n\r\n/**\r\n  * 判断val是否为数字\r\n  * @param val 要判断的值\r\n  * @returns  判断结果\r\n  */\r\nexport function isNumber(val: number | string) {\r\n    return (typeof (val) === 'number' || typeof (val) === 'string') && val !== '' && !isNaN(val as any)\r\n}\r\n\r\n/**\r\n * 判断指定值是否为一个对象\r\n * @param  val 要判断的值\r\n * @returns  判断结果\r\n */\r\nexport function isObject(val: any) {\r\n    return val && typeof val === 'object'\r\n}\r\n\r\n/**\r\n* 判断指定值为null或为空字符串\r\n* @param  val 要判断的值\r\n* @returns 判断结果\r\n*/\r\nexport function isNullOrEmpty(val: null | string) {\r\n    return val === null || val === \"\"\r\n}\r\n\r\n/**\r\n * 判断指定值为null，或为空字符串，或为空白字符串\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isNullOrWhiteSpace(val: null | string) {\r\n    if (val === null) {\r\n        return true\r\n    }\r\n    return isNullOrEmpty(trim(val))\r\n}\r\n\r\n/**\r\n * 判断指定值是否为function\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isFunction(val: any) {\r\n    return val && Object.prototype.toString.call(val) == '[object Function]'\r\n}\r\n\r\n/**\r\n * 判断指定值是否为String\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isString(val: any) {\r\n    return typeof val == 'string' || val instanceof String\r\n}\r\n\r\n/**\r\n * 判断指定字符串是否为\"true\"或\"false\"\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isBoolean(val: string) {\r\n    return /^true|false$/i.test(val)\r\n}\r\n\r\n/**\r\n * 判断指定值是否为undefined\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isUndefined(val: any) {\r\n    return val === undefined || typeof (val) === \"undefined\"\r\n}\r\n\r\n/**\r\n * 指定值是否全部为大写\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isUpper(val: string) {\r\n    return val && val.toUpperCase() === val\r\n}\r\n\r\n/**\r\n * 指定值是否全部为小写\r\n * @param  val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isLower(val: string) {\r\n    return val && val.toLowerCase() === val\r\n}\r\n\r\n/**\r\n * 指定值是否为Date对象\r\n * @param val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isDate(val: any) {\r\n    return val && Object.prototype.toString.call(val) === \"[object Date]\" && !isNaN(val)\r\n}\r\n\r\n/**\r\n * 指定值是否为Error对象\r\n * @param val 要判断的值\r\n * @returns 判断结果\r\n */\r\nexport function isError(val: any) {\r\n    return val && val instanceof Error\r\n}\r\n\r\n/**\r\n * 判断value值在后面的参数中是否存在\r\n * @param value 要判断的值\r\n * @param args 参数列表\r\n */\r\nexport function isIn<T>(value: T, ...args: T[]): boolean {\r\n    if (!args || !args.length) {\r\n        return false\r\n    }\r\n    return args.includes(value)\r\n}\r\n\r\n\r\n/**\r\n * 判断字符串value值在后面的参数中是否存在（忽略大小写）\r\n * @param value 要判断的值\r\n * @param args 参数列表\r\n */\r\nexport function isInIgnoreCase(value: string, ...args: string[]): boolean {\r\n    if (!args || !args.length) {\r\n        return false\r\n    }\r\n    if (!isString(value)) {\r\n        return args.includes(value)\r\n    }\r\n    return !!args.find(k => (k || \"\").toUpperCase() === value.toUpperCase())\r\n}","import { AnyKeyValueType, AnyFunctionType } from \"../declaration/common\"\r\nimport { isFunction } from \"./data\"\r\n\r\n/**\r\n * tryRun在调用异常时执行的函数\r\n */\r\nlet defaultTryRunErrorHandler: AnyFunctionType = () => null\r\n\r\n/**\r\n * 是否为服务器环境\r\n */\r\nexport function isServer() {\r\n    return typeof (window) === 'undefined'\r\n}\r\n\r\n/**\r\n * 是否为浏览器环境\r\n */\r\nexport function isBowser() {\r\n    return !isServer()\r\n}\r\n\r\n/**\r\n * 获取全局对象\r\n */\r\n// eslint-disable-next-line no-undef\r\nexport function getGlobalObject(): Window | NodeJS.Global {\r\n    if (isBowser()) {\r\n        return window\r\n    }\r\n    return global\r\n}\r\n\r\n/**\r\n * 当前环境中的全局对象\r\n */\r\nexport const globalObject = getGlobalObject()\r\n\r\n/**\r\n * 获取document对象，若没有，则为null\r\n */\r\nexport function getDocument(): Document {\r\n    return ((globalObject as any).document || null) as Document\r\n}\r\n\r\n/**\r\n * 当前环境中的document对象，若没有，则为null\r\n */\r\nexport const document = getDocument()\r\n\r\n\r\n\r\n/**\r\n * 获取localStorage对象，若没有，则为null\r\n */\r\nexport function getLocalStorage(): Storage {\r\n    return ((globalObject as any).localStorage || null) as Storage\r\n}\r\n\r\n/**\r\n * 获取Symbol类型，若没有，则为null\r\n */\r\nexport function getSymbol(desc?: string): any {\r\n    const g = globalObject as any\r\n    return g.Symbol ? g.Symbol(desc) : null\r\n}\r\n\r\n/**\r\n * 创建全局命名空间\r\n * @param name 名称，如\"A.B.C\"\r\n * @returns 全局对象，如：window.A.B.C\r\n */\r\nexport function createNamespace(name: string): any {\r\n    if (!name) {\r\n        return null as any\r\n    }\r\n    let obj: any = globalObject\r\n    const tokens = name.split(\".\")\r\n    let token = \"\"\r\n    while (tokens.length > 0) {\r\n        token = tokens.shift() as string\r\n        if (typeof obj[token] === \"undefined\") {\r\n            obj[token] = {}\r\n        }\r\n        obj = obj[token]\r\n    }\r\n    return obj\r\n}\r\n\r\n/**\r\n * 获取指定对象的指定属性\r\n * @param obj 对象\r\n * @param path 属性路径，如：a.b.c\r\n * @returns 返回obj.a.b.c，如果获取失败，则返回null\r\n */\r\nexport function getValue<T>(obj: AnyKeyValueType, path: string): T | null {\r\n    if (!obj || !path) {\r\n        return null\r\n    }\r\n    let temp = obj\r\n    try {\r\n        path.split(\".\").forEach(keyName => {\r\n            temp = temp[keyName]\r\n        })\r\n        if (typeof (temp) == 'undefined') {\r\n            return null\r\n        }\r\n        return temp as T\r\n    } catch (e) {\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * 深度clone\r\n */\r\nexport function deepClone<T>(obj: T): T | null {\r\n    try {\r\n        return JSON.parse(JSON.stringify(obj))\r\n    } catch (e) {\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * 尝试运行指定function；若异常，则执行全局配置的异常处理函数tryRunErrorHandler，并返回null\r\n * @param fn  函数名\r\n * @param args 参数\r\n */\r\nexport function tryRun<T>(fn: AnyFunctionType, ...args: any[]): T | null {\r\n    if (!fn) {\r\n        return null\r\n    }\r\n    try {\r\n        return fn(...args) as T\r\n    } catch (e) {\r\n        if (defaultTryRunErrorHandler) {\r\n            defaultTryRunErrorHandler(e)\r\n        }\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * 重新设置全局异常处理函数\r\n */\r\nexport function setTryRunErrorHandler(fn: AnyFunctionType) {\r\n    defaultTryRunErrorHandler = fn\r\n}\r\n\r\n\r\n/**\r\n * 合并多个对象，与 Object.assign 的行为唯一的区别是：把相同的函数合并到一起，并从第一个参数的此函数一直调用到最后一个参数的此函数\r\n * @param objs 要合并的对象\r\n * @returns 合并后的新对象\r\n */\r\nexport function mergeObjectAndCombineSameFunc<T = any>(target: T, ...sources: T[]): T {\r\n    if (!sources || !sources.length) {\r\n        return target\r\n    }\r\n    const result = sources.reduce((preItem: any, currentItem: any) => {\r\n        if (!preItem) {\r\n            return currentItem\r\n        }\r\n        if (!currentItem) {\r\n            return preItem\r\n        }\r\n        const pre = { ...preItem }\r\n        const cur = { ...currentItem }\r\n        //合并function\r\n        Object.keys(pre).forEach((key) => {\r\n            const preValue: any = pre[key]\r\n            const currentValue: any = cur[key]\r\n            const isPreValueFunction: boolean = isFunction(preValue)\r\n            const isCurrentValueFunction: boolean = isFunction(currentValue)\r\n            if (!isPreValueFunction && !isCurrentValueFunction) {\r\n                return\r\n            }\r\n            if (isPreValueFunction && !isCurrentValueFunction) {\r\n                //上一项是函数，而下一项不是函数，则以上一项为准\r\n                cur[key] = preValue\r\n            } else if (!isPreValueFunction && isCurrentValueFunction) {\r\n                //上一项不是函数，下一项是函数，不用处理\r\n            } else {\r\n                //上一项与下一项的值均为函数，则合并\r\n                cur[key] = (...args: any[]) => {\r\n                    preValue(...args)\r\n                    currentValue(...args)\r\n                }\r\n            }\r\n            //删除上一项的值，便于后面的合并覆盖\r\n            pre[key] = undefined\r\n        })\r\n        return {\r\n            ...pre,\r\n            ...cur\r\n        }\r\n    }, target || {}) as T\r\n    return result\r\n}\r\n","import { getLocalStorage } from \"../common/lib\"\r\n\r\nlet globalCacheName = \"x-js-kit-localcache\"\r\n/**\r\n * 自动清理过期缓存的间隔时间（毫秒），默认为30分钟\r\n */\r\nlet autoClearExpiredTimeSpan = 30 * 60 * 1000\r\nlet clearExpiredIntervalId: number\r\nlet isInited = false\r\n\r\nexport interface ItemContentType<ValueType = any> {\r\n    /**\r\n     * 具体的缓存值\r\n     */\r\n    value: ValueType\r\n    /**\r\n     * 过期时间，若不指定，则无过期时间（此时间为：从1970年1月1日0时0分0秒（UTC，即协调世界时）到该日期的毫秒数。如：new Date().valueOf()）\r\n     */\r\n    expire?: number\r\n}\r\nexport interface GlobalCacheType<ValueType = any> {\r\n    /**\r\n     * 时间\r\n     */\r\n    time: number\r\n    /**\r\n     * 所有缓存项\r\n     */\r\n    items: { [key: string]: ItemContentType<ValueType> }\r\n}\r\n\r\n/**\r\n * 获取localStorage对象\r\n */\r\nfunction getStore<ValueType>(): Storage {\r\n    const store = getLocalStorage()\r\n    if (!store || isInited) {\r\n        return store\r\n    }\r\n    //初始化\r\n    isInited = true\r\n    //设置默认缓存值\r\n    if (!store.getItem(globalCacheName)) {\r\n        const defaultGlobalLocalStorage: GlobalCacheType<ValueType> = {\r\n            time: new Date().valueOf(),\r\n            items: {}\r\n        }\r\n        store.setItem(globalCacheName, JSON.stringify(defaultGlobalLocalStorage))\r\n    }\r\n    //立即清理过期缓存\r\n    clearExpired()\r\n    //执行定时清理过期缓存\r\n    runClearExpiredInterval()\r\n    return store\r\n}\r\n//立即初始化\r\ngetStore()\r\n\r\n/**\r\n * 返回全局缓存对象\r\n */\r\nexport function getGlobalCache<ValueType>(): GlobalCacheType<ValueType> | null {\r\n    const cacheValue = getStore().getItem(globalCacheName) as string\r\n    if (!cacheValue) {\r\n        return null\r\n    }\r\n    return JSON.parse(cacheValue) as GlobalCacheType<ValueType>\r\n}\r\n/**\r\n * 修改localStorage缓存的默认名称\r\n */\r\nexport function setGlobalCacheName(name: string) {\r\n    const oldValue = getStore().getItem(globalCacheName) as string\r\n    getStore().removeItem(globalCacheName)\r\n    globalCacheName = name\r\n    getStore().setItem(globalCacheName, oldValue)\r\n}\r\n\r\n/**\r\n * 添加数据至缓存（默认每30分钟自动清理所有过期的缓存）\r\n */\r\nexport function add<ValueType>(key: string, value: ItemContentType<ValueType>) {\r\n    const cache = getGlobalCache()\r\n    if (!cache) {\r\n        return\r\n    }\r\n    cache.items[key] = value\r\n    getStore().setItem(globalCacheName, JSON.stringify(cache))\r\n}\r\n\r\n/**\r\n * 删除指定缓存\r\n */\r\nexport function remove(key: string) {\r\n    const cache = getGlobalCache()\r\n    if (!cache) {\r\n        return\r\n    }\r\n    delete cache.items[key]\r\n    getStore().setItem(globalCacheName, JSON.stringify(cache))\r\n}\r\n\r\n/**\r\n * 读取指定缓存\r\n * @param key 缓存key\r\n * @param ignoreExpireCheck 是否忽略过期检测，默认为false.（true:即使过期，只要还没被清理，则依然返回。false:如果已过期，则删除此缓存并返回null）\r\n */\r\nexport function get<ValueType>(key: string, ignoreExpireCheck: boolean = false): ItemContentType<ValueType> | null {\r\n    const cache = getGlobalCache()\r\n    if (!cache) {\r\n        return null\r\n    }\r\n    const item = cache.items[key] as ItemContentType<ValueType>\r\n    if (!item) {\r\n        return null\r\n    }\r\n    if (!ignoreExpireCheck && item.expire && item.expire < new Date().valueOf()) {\r\n        remove(key)\r\n        return null\r\n    }\r\n    return item\r\n}\r\n\r\n/**\r\n * 清理过期缓存\r\n */\r\nexport function clearExpired() {\r\n    const ch = getGlobalCache()\r\n    if (!ch) return\r\n    Object.keys(ch.items).forEach((key) => {\r\n        const item = ch.items[key]\r\n        if (!item || !item.expire) {\r\n            return\r\n        }\r\n        if (item.expire < new Date().valueOf()) {\r\n            remove(key)\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 执行自动定期清理\r\n */\r\nfunction runClearExpiredInterval() {\r\n    if (clearExpiredIntervalId) {\r\n        clearInterval(clearExpiredIntervalId)\r\n    }\r\n    clearExpiredIntervalId = setInterval(clearExpired, autoClearExpiredTimeSpan) as any\r\n}\r\n\r\n/**\r\n * 获取自动清理过期缓存的间隔（毫秒）\r\n */\r\nexport function getAutoClearExpiredTimeSpan() {\r\n    return autoClearExpiredTimeSpan\r\n}\r\n\r\n/**\r\n * 设置自动清理过期缓存的间隔（毫秒），并按计划执行清理\r\n */\r\nexport function setAutoClearExpiredTimeSpan(timeSpan: number) {\r\n    if (timeSpan <= 0) {\r\n        throw new Error(\"timeSpan must > 0.\")\r\n    }\r\n    autoClearExpiredTimeSpan = timeSpan\r\n    runClearExpiredInterval()\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as localStorage from \"./localStorage\"\r\nexport default {\r\n    /**\r\n     * 带过期时间的缓存（就是浏览器中的localStorage，只是在value的结构中设置了指定的节点来表明什么时候过期，如果过期，则不返回该数据）\r\n     */\r\n    localStorage\r\n}\r\n","import { globalObject, document } from \"../common/lib\"\r\n\r\n/**\r\n * 浏览器宽度类别枚举\r\n */\r\nexport enum BrowserWidthTypeEnum {\r\n    /**\r\n     * 非常小（<576px）\r\n     */\r\n    \"ExtraSmall\" = \"ExtraSmall\",\r\n    /**\r\n     * 小（≥576px 且 <768px）\r\n     */\r\n    \"Small\" = \"Small\",\r\n    /**\r\n     * 中（≥768px 且 <992px）\r\n     */\r\n    \"Medium\" = \"Medium\",\r\n    /**\r\n     * 大（≥992px 且 <1200px）\r\n     */\r\n    \"Large\" = \"Large\",\r\n    /**\r\n     * 非常大（≥1200px）\r\n     */\r\n    \"ExtraLarge\" = \"ExtraLarge\"\r\n}\r\n\r\n/**\r\n * 获取当前浏览器窗口的大小，如：{\"width\": 1024,\"height\": 768}\r\n */\r\nexport function size(): { width: number, height: number } {\r\n    return {\r\n        width: (<Window>globalObject).innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\r\n        height: (<Window>globalObject).innerHeight || document.documentElement.clientHeight || document.body.clientHeight\r\n    }\r\n}\r\n\r\n/**\r\n * 返回当前浏览器窗口的宽度类型\r\n */\r\nexport function getWidthType(): BrowserWidthTypeEnum {\r\n    const { width } = size()\r\n    if (width < 576) {\r\n        return BrowserWidthTypeEnum.ExtraSmall\r\n    }\r\n    if (width >= 576 && width < 768) {\r\n        return BrowserWidthTypeEnum.Small\r\n    }\r\n    if (width >= 768 && width < 992) {\r\n        return BrowserWidthTypeEnum.Medium\r\n    }\r\n    if (width >= 992 && width < 1200) {\r\n        return BrowserWidthTypeEnum.Large\r\n    }\r\n    return BrowserWidthTypeEnum.ExtraLarge\r\n}","import * as regexConst from \"../constant/regex\"\r\n\r\n/**\r\n * 判断是否为email\r\n */\r\nexport function isEmail(val: string) {\r\n    return regexConst.email.test(val);\r\n}\r\n/**\r\n * 判断是否全为英文字符（a-zA-Z）\r\n */\r\nexport function isAllEnglish(val: string) {\r\n    return regexConst.allEnglish.test(val);\r\n}\r\n/**\r\n * 判断是否全为数字字符（0-9）\r\n */\r\nexport function isAllNumber(val: string) {\r\n    return regexConst.allNumber.test(val);\r\n}\r\n/**\r\n * 判断是否为中国大陆手机号（只考虑以1开头的11位数字即可）\r\n */\r\nexport function isCNMobile(val: string) {\r\n    return regexConst.cnMobile.test(val)\r\n}\r\n/**\r\n * 判断是否为中国大陆身份证号码\r\n */\r\nexport function isChinaIDCard(val: string) {\r\n    return regexConst.chinaIDCard.test(val)\r\n}\r\n/**\r\n * 判断键盘按键的keyCode是否为字母和数字\r\n */\r\nexport function isAlphaNumericKeyCode(keyCode: number) {\r\n    return (keyCode >= 65 && keyCode <= 90) || (keyCode >= 48 && keyCode <= 57) || (keyCode >= 96 && keyCode <= 105)\r\n}","import * as regexConst from \"../constant/regex\"\r\n\r\n/**\r\n * url是否以【http://】开头\r\n */\r\nexport function isHttp(url: string) {\r\n    if (!url) {\r\n        return false\r\n    }\r\n    return regexConst.http.test(url.toLowerCase())\r\n}\r\n\r\n/**\r\n * url是否以【https://】开头\r\n */\r\nexport function isHttps(url: string) {\r\n    if (!url) {\r\n        return false\r\n    }\r\n    return regexConst.https.test(url.toLowerCase())\r\n}\r\n\r\n/**\r\n * url是否为http或https的地址\r\n */\r\nexport function isHttpOrHttpsUrl(url: string) {\r\n    if (!url) {\r\n        return false\r\n    }\r\n    return regexConst.httpOrHttps.test(url.toLowerCase())\r\n}","import { isBowser, getGlobalObject, globalObject } from \"../common/lib\"\r\nimport { getWidthType, BrowserWidthTypeEnum } from \"../device/browser\"\r\n\r\n/**\r\n * 判断是否为IE浏览器（仅支持<=IE 11）\r\n * @param version 具体的IE版本号\r\n * @param userAgent 浏览器代理字符串，若不指定，则取navigator.userAgent\r\n */\r\nexport function isIE(version?: number, userAgent?: string): boolean {\r\n    let ua = userAgent || \"\"\r\n    if (isBowser() && !ua) {\r\n        ua = (<Window>getGlobalObject()).navigator.userAgent\r\n    }\r\n    if (!ua) {\r\n        throw new Error(\"You must set userAgent in this method.\")\r\n    }\r\n    if (!version) {\r\n        return /msie/i.test(ua) || !!ua.match(/Trident\\/7\\./i)\r\n    }\r\n    if (version == 11) {\r\n        return !!ua.match(/Trident\\/7\\./i)\r\n    }\r\n    return (ua.match(new RegExp(\"MSIE\\\\s+(\\\\d+)\", \"i\")) || [])[1] == version.toString()\r\n}\r\n\r\n/**\r\n * 是否非常小的宽度\r\n */\r\nexport function isExtraSmall() {\r\n    return getWidthType() == BrowserWidthTypeEnum.ExtraSmall\r\n}\r\n\r\n/**\r\n * 是否小的宽度\r\n */\r\nexport function isSmall() {\r\n    return getWidthType() == BrowserWidthTypeEnum.Small\r\n}\r\n\r\n/**\r\n * 是否中等宽度\r\n */\r\nexport function isMedium() {\r\n    return getWidthType() == BrowserWidthTypeEnum.Medium\r\n}\r\n\r\n/**\r\n * 是否大的宽度\r\n */\r\nexport function isLarge() {\r\n    return getWidthType() == BrowserWidthTypeEnum.Large\r\n}\r\n\r\n/**\r\n * 是否非常大的宽度\r\n */\r\nexport function isExtraLarge() {\r\n    return getWidthType() == BrowserWidthTypeEnum.ExtraLarge\r\n}\r\n\r\n/**\r\n * 当前网页是否通过F5刷新、重新加载按钮或location.reload()方法加载进来的\r\n * 判断方法：performance.navigation.type == 1\r\n */\r\nexport function isReload() {\r\n    const g = (<Window>globalObject)\r\n    return g.performance && g.performance.navigation && g.performance.navigation.type == 1\r\n}","/* eslint-disable import/no-default-export */\r\nimport * as common from \"./common\"\r\nimport * as url from \"./url\"\r\nimport * as browser from \"./browser\"\r\nexport default {\r\n    /**\r\n     * 公共的数据校验\r\n     */\r\n    common,\r\n    /**\r\n     * url相关的校验\r\n     */\r\n    url,\r\n    /**\r\n     * 浏览器相关校验\r\n     */\r\n    browser\r\n}\r\n","/**\r\n * 将一个数组拆分为多个数组\r\n * @param arr 原数组\r\n * @param stepCount 拆分后，每个数组最多包含的项数量\r\n */\r\nexport function splitArray<T>(arr: T[], stepCount: number): T[][] {\r\n    if (!arr || !arr.length || stepCount <= 0) {\r\n        return []\r\n    }\r\n    const arrLen = arr.length\r\n    if (arrLen <= stepCount) {\r\n        return [arr]\r\n    }\r\n    const newArray: T[][] = []\r\n    const maxCount = Math.ceil(arrLen / stepCount)\r\n    let startIndex = 0\r\n    for (let i = 0; i < maxCount; i++) {\r\n        newArray[i] = arr.slice(startIndex, (i + 1) * stepCount)\r\n        startIndex += stepCount\r\n    }\r\n    return newArray\r\n}\r\n\r\n/**\r\n * 去掉array中的重复项\r\n * @param arr 需要去重的数组\r\n */\r\nexport function unique<T>(arr: T[]): T[] {\r\n    if (!arr) {\r\n        return []\r\n    }\r\n    return Array.from(new Set(arr))\r\n}\r\n\r\n/**\r\n * 合并两个数组（未去重）\r\n * @param arr1 数组1\r\n * @param arr2 数组2\r\n */\r\nexport function union<T>(arr1: T[], arr2: T[]): T[] {\r\n    const a1 = arr1 || [],\r\n        a2 = arr2 || []\r\n    return [...a1, ...a2]\r\n}\r\n\r\n/**\r\n * 获取两个数组的交集（已去重）\r\n * @param arr1 数组1\r\n * @param arr2 数组2\r\n */\r\nexport function intersect<T>(arr1: T[], arr2: T[]): T[] {\r\n    const a1 = arr1 || [],\r\n        a2 = arr2 || []\r\n    return unique(a1.filter((x) => a2.includes(x)))\r\n}\r\n\r\n/**\r\n * 获取两个数组的差集（已去重）\r\n * @param arr1 数组1\r\n * @param arr2 数组2\r\n */\r\nexport function diff<T>(arr1: T[], arr2: T[]): T[] {\r\n    const a1 = arr1 || [],\r\n        a2 = arr2 || []\r\n    const diff1 = a1.filter((x) => !a2.includes(x))\r\n    const diff2 = a2.filter((x) => !a1.includes(x))\r\n    return unique([...diff1, ...diff2])\r\n}\r\n\r\n/**\r\n * 遍历指定数组并返回一个新数组（与原生map不一样的地方是：原生map中未过滤null和undefined，而此方法会过滤）\r\n * @param arr 需要遍历的数组\r\n * @param fn 处理函数\r\n */\r\nexport function map<TargetType = any, SourceType = any>(arr: SourceType[], fn: (item: SourceType, idx?: number) => TargetType | null | undefined): TargetType[] {\r\n    if (!arr || !fn) {\r\n        return []\r\n    }\r\n    const result: TargetType[] = []\r\n    let temp: TargetType | null | undefined\r\n    for (let i = 0; i < arr.length; i++) {\r\n        temp = fn(arr[i], i)\r\n        if (temp == null || typeof temp == \"undefined\") {\r\n            continue\r\n        }\r\n        result.push(temp)\r\n    }\r\n    return result\r\n}\r\n\r\n/**\r\n * 根据起始值和终点值创建一个数组，如：[1,2,3,4....]\r\n * @param startValue 起始值（包含）\r\n * @param endValue 终点值（包含）\r\n * @param step 步长，默认为 1\r\n */\r\nexport function createNumberArray(startValue: number, endValue: number, step?: number) {\r\n    let stepValue = 1\r\n    if (step) {\r\n        stepValue = step\r\n    }\r\n    const arr = [] as number[]\r\n    for (let i = startValue; i <= endValue; i += stepValue) {\r\n        arr.push(i)\r\n    }\r\n    return arr\r\n}\r\n","/**\r\n * 将值转为int型，若失败，则返回defaultValue\r\n * @param val 要转换的值\r\n * @param  defaultValue 默认值\r\n * @returns 转换结果\r\n */\r\nexport function toIntDefault(val: string, defaultValue: number | null) {\r\n    const result = parseInt(val, 10)\r\n    if (isNaN(result)) {\r\n        return defaultValue\r\n    }\r\n    return result\r\n}\r\n\r\n/**\r\n   * 将值转为int型，若失败，则返回0\r\n   * @param  val 要转换的值\r\n   */\r\nexport function toInt(val: string): number {\r\n    return toIntDefault(val, 0) as number\r\n}\r\n\r\n/**\r\n * 将值转为int型，若失败，则返回null\r\n * @param  val 要转换的值\r\n * @returns 如果转换失败，则返回null\r\n */\r\nexport function toIntNull(val: string) {\r\n    return toIntDefault(val, null)\r\n}\r\n\r\n/**\r\n * 将值转为float型，若失败，则返回defaultValue\r\n * @param val 要转换的值\r\n * @param defaultValue 默认值\r\n * @returns  转换结果\r\n */\r\nexport function toFloatDefault(val: string, defaultValue: number | null) {\r\n    const result = parseFloat(val)\r\n    if (isNaN(result)) {\r\n        return defaultValue\r\n    }\r\n    return result\r\n}\r\n\r\n/**\r\n * 将值转为float型，若失败，则返回0\r\n * @param  val 要转换的值\r\n * @returns  转换结果\r\n */\r\nexport function toFloat(val: string): number {\r\n    return toFloatDefault(val, 0) as number\r\n}\r\n\r\n/**\r\n * 将值转为float型，若失败，则返回null\r\n * @param  val 要转换的值\r\n * @returns  转换结果\r\n */\r\nexport function toFloatNull(val: string) {\r\n    return toFloatDefault(val, null)\r\n}","import { document } from \"./lib\"\r\n\r\n//reference：https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie\r\n\r\n/**\r\n * 获取cookie内容\r\n * @param sKey cookie键名\r\n * @returns 内容\r\n */\r\nexport function getItem(sKey: string): string | null {\r\n    if (!document) {\r\n        return null\r\n    }\r\n    return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[-.+*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\r\n}\r\n\r\n/**\r\n * 设置cookie内容\r\n * @param sKey 键名\r\n * @param sValue 值\r\n * @param vEnd 到期时间（可为Number/String/Date对象，若为Number，则设置的是max-age；若为String或Date，则设置的是整个expires）\r\n * @param sPath 路径（默认/）\r\n * @param sDomain 域名（默认\"\"）\r\n * @param bSecure 是否只会被https传输（默认false）\r\n * @returns 是否设置成功\r\n */\r\nexport function setItem(sKey: string, sValue: string, vEnd: number | string | Date, sPath: string = \"/\", sDomain: string = \"\", bSecure: boolean = false): boolean {\r\n    if (!document) {\r\n        return false\r\n    }\r\n    if (!sKey || /^(?:expires|max-age|path|domain|secure)$/i.test(sKey)) {\r\n        return false\r\n    }\r\n    let sExpires = \"\"\r\n    if (vEnd) {\r\n        switch (vEnd.constructor) {\r\n            case Number:\r\n                sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd\r\n                break\r\n            case String:\r\n                sExpires = \"; expires=\" + vEnd\r\n                break\r\n            case Date:\r\n                sExpires = \"; expires=\" + (vEnd as Date).toUTCString()\r\n                break\r\n        }\r\n    }\r\n    document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\")\r\n    return true\r\n}\r\n\r\n/**\r\n * 是否包含某个cookie\r\n * @param sKey 键名\r\n * @returns 是否包含\r\n */\r\nexport function hasItem(sKey: string): boolean {\r\n    if (!document) {\r\n        return false\r\n    }\r\n    return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[-.+*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie)\r\n}\r\n\r\n/**\r\n * 删除cookie\r\n * @param sKey 键名\r\n * @param sPath 路径（默认/）\r\n * @param sDomain 域名（默认\"\"）\r\n * @returns 是否删除成功\r\n */\r\nexport function removeItem(sKey: string, sPath: string = \"/\", sDomain: string = \"\"): boolean {\r\n    if (!document) {\r\n        return false\r\n    }\r\n    if (!sKey || !hasItem(sKey)) {\r\n        return false\r\n    }\r\n    document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\")\r\n    return true\r\n}\r\n\r\n\r\n\r\n/**\r\n * 获取当前cookie的全部键名\r\n * @returns 所有键名\r\n */\r\nexport function keys(): string[] {\r\n    if (!document) {\r\n        return []\r\n    }\r\n    const aKeys = document.cookie.replace(/((?:^|\\s*;)[^=]+)(?=;|$)|^\\s*|\\s*(?:=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:=[^;]*)?;\\s*/)\r\n    for (let nIdx = 0; nIdx < aKeys.length; nIdx++) {\r\n        aKeys[nIdx] = decodeURIComponent(aKeys[nIdx])\r\n    }\r\n    return aKeys\r\n}","import { AnyKeyValueType } from \"../declaration/common\"\r\nimport { isArray } from \"./data\"\r\n\r\n/**\r\n   * 是否包含名key\r\n   * @param json json对象\r\n   * @param keyName key名\r\n   * @returns 判断结果\r\n   */\r\nexport function hasKey(json: AnyKeyValueType, keyName: string) {\r\n    if (!json) {\r\n        return false\r\n    }\r\n    return Object.keys(json).includes(keyName)\r\n}\r\n\r\n/**\r\n * 是否包含值value\r\n * @param  json json对象\r\n * @param keyValue value值\r\n * @returns 判断结果\r\n */\r\nexport function hasValue(json: AnyKeyValueType, keyValue: any) {\r\n    if (!json) {\r\n        return false\r\n    }\r\n    let r = false\r\n    for (const k in json) {\r\n        if (json[k] === keyValue) {\r\n            r = true\r\n            break\r\n        }\r\n    }\r\n    return r\r\n}\r\n\r\n/**\r\n * json对象转成param形式的字符串，如{a:1,b:2,c:[3,4,5]}=>\"a=1&b=2&c=3&c=4&c=5\"\r\n * @param  json 待转换的json数据源\r\n * @returns 转换结果\r\n */\r\nexport function toParams(json: AnyKeyValueType) {\r\n    if (!json) return \"\";\r\n    const arr = []\r\n    let temp = \"\";\r\n    for (const m in json) {\r\n        if (isArray(json[m])) {\r\n            temp = json[m].join(\"&\" + m + \"=\");\r\n        } else {\r\n            temp = json[m];\r\n        }\r\n        arr.push(m + \"=\" + temp);\r\n    }\r\n    return arr.join(\"&\");\r\n}\r\n\r\n/**\r\n * 将json字符串转换为对象，如果转换失败，则返回null\r\n * @param json json字符串\r\n */\r\nexport function toObject<T>(json: string): T | null {\r\n    if (!json) {\r\n        return null\r\n    }\r\n    let result: T | null = null\r\n    try {\r\n        result = JSON.parse(json)\r\n    } catch {\r\n        //\r\n    }\r\n    return result\r\n}","import { KeyValue } from \"../entity/keyValue\";\r\n\r\n/**\r\n * 将枚举转换为KeyValue列表\r\n */\r\nexport function convertEnumToList<T>(em: T): KeyValue[] {\r\n  const lst = [] as KeyValue[];\r\n  for (const key in em) {\r\n    if (!isNaN(Number(key))) {\r\n      continue;\r\n    }\r\n    const item = {} as KeyValue;\r\n    item.key = key;\r\n    item.value = em[key];\r\n    lst.push(item);\r\n  }\r\n  return lst;\r\n}\r\n","/**\r\n * 中国大陆身份证号码实体\r\n */\r\nexport class CNIDCardEntity {\r\n    /**\r\n     * 出生年月日\r\n     */\r\n    birthday: string = \"\"\r\n    /**\r\n     * 身份证长度\r\n     */\r\n    len: (15 | 18) = 18\r\n}","import { isChinaIDCard } from \"../check/common\"\r\nimport { CNIDCardEntity } from \"../entity/idCard\"\r\n\r\n/**\r\n * 将字符串转为中国大陆身份证实体\r\n */\r\nexport function toCNIDCardEntity(str: string): CNIDCardEntity | null {\r\n    let result: CNIDCardEntity = null as any\r\n    if (!isChinaIDCard(str)) {\r\n        return result\r\n    }\r\n    result = new CNIDCardEntity()\r\n    result.len = str.length as any\r\n    if (result.len == 15) {\r\n        result.birthday = \"19\" + str.substr(6, 6)\r\n    } else {\r\n        result.birthday = str.substr(6, 8)\r\n    }\r\n    result.birthday = result.birthday.substr(0, 4) + \"-\" + result.birthday.substr(4, 2) + \"-\" + result.birthday.substr(6, 2)\r\n    return result\r\n}","const ImageSrcReg = /(<img\\s+[^>]*)(src)(=[^>]*>)/gi\r\n\r\n/**\r\n * 替换html中所有img标签的src标签名称\r\n * 如：<img src=\"http://www.a.com/a.jpg\"/> ==> <img data-src=\"http://www.a.com/a.jpg\"/>\r\n * @param html html字符串\r\n * @param newAttrName 新的替代src的属性名，默认为data-src\r\n * @returns 新的html字符串\r\n */\r\nexport function replaceImgSrc(html: string, newAttrName: string = \"data-src\"): string {\r\n    if (!html) {\r\n        return \"\"\r\n    }\r\n    return html.replace(ImageSrcReg, `$1${newAttrName}$3`)\r\n}","let _id = 0\r\n\r\n/**\r\n * 生成字符长度为22的随机字符串（如：i8ejoqjq3khibr89soi31t）\r\n */\r\nexport function create() {\r\n    const str = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\r\n    if (str.length < 22) {\r\n        return str.padEnd(22, \"0\")\r\n    }\r\n    return str.substr(0, 22)\r\n}\r\n\r\n/**\r\n * 生成UUID（如：24ff0a46-81c1-431b-a3de-68440bbc3045）\r\n */\r\nexport function uuid() {\r\n    //https://github.com/simongong/js-stackoverflow-highest-votes/blob/master/questions1-10/how-to-create-a-UUID-in-javascript.md\r\n    let d = new Date().getTime();\r\n    const str = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n        const r = (d + Math.random() * 16) % 16 | 0\r\n        d = Math.floor(d / 16)\r\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\r\n    })\r\n    return str\r\n}\r\n\r\n/**\r\n * 在min（含）与max（含）之间生成一个随机整数\r\n * @param min 最小值\r\n * @param max 最大值\r\n */\r\nexport function range(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max - min) + min)\r\n}\r\n\r\n/**\r\n * 返回一个自增加1的数字（第一次调用时返回1，往后每调用一次加1）\r\n */\r\nexport function id() {\r\n    return ++_id\r\n}","/**\r\n * 键值对实体\r\n */\r\nexport class KeyValue<ValueType = any, ExtendType = any> {\r\n    constructor(key: string, value: ValueType, extend?: ExtendType) {\r\n        this.key = key\r\n        this.value = value\r\n        this.extend = extend\r\n    }\r\n    /**\r\n     * 键名\r\n     */\r\n    key: string = \"\"\r\n    /**\r\n     * value值\r\n     */\r\n    value: ValueType\r\n    /**\r\n     * 扩展属性\r\n     */\r\n    extend?: ExtendType\r\n}\r\n\r\n/**\r\n * 键名值对实体\r\n */\r\nexport class KeyNameValue<ValueType = any, ExtendType = any> {\r\n    constructor(key: string, name: string, value: ValueType, extend?: ExtendType) {\r\n        this.key = key\r\n        this.name = name\r\n        this.value = value\r\n        this.extend = extend\r\n    }\r\n    /**\r\n     * 键名\r\n     */\r\n    key: string = \"\"\r\n    /**\r\n     * name名\r\n     */\r\n    name: string = \"\"\r\n    /**\r\n     * value值\r\n     */\r\n    value: ValueType\r\n    /**\r\n     * 扩展属性\r\n     */\r\n    extend?: ExtendType\r\n}","import { KeyValue } from \"../entity/keyValue\"\r\nimport { lTrimString } from \"../common/string\"\r\n\r\n/**\r\n * url分隔的类型\r\n */\r\nexport interface UrlSplitByQueryType {\r\n    /**\r\n     * 域名主机等主体部分\r\n     */\r\n    hostPart: string\r\n    /**\r\n     * 查询字符串部分\r\n     */\r\n    queryPart: string\r\n    /**\r\n     * 结尾的hash部分\r\n     */\r\n    hashPart: string\r\n}\r\n\r\n/**\r\n * 将url字符串以查询串分隔后，提取成三个部分（也就是以字符?和字符#中间的字符串为界限分隔）\r\n * 注意：边界不包含字符?或#\r\n * @param url url字符串\r\n */\r\nexport function splitUrlByQueryInfo(url: string): UrlSplitByQueryType {\r\n    const result = {} as UrlSplitByQueryType\r\n    result.hostPart = \"\"\r\n    result.queryPart = \"\"\r\n    result.hashPart = \"\"\r\n    if (!url) {\r\n        return result\r\n    }\r\n    const questionMarkIndex = url.lastIndexOf('?')\r\n    const wellNumberMarkIndex = url.indexOf('#')\r\n\r\n    //只存在查询串\r\n    if (questionMarkIndex >= 0 && wellNumberMarkIndex < 0) {\r\n        result.hostPart = url.substr(0, questionMarkIndex)\r\n        result.queryPart = lTrimString(url.substring(questionMarkIndex + 1), '?')\r\n        return result\r\n    }\r\n\r\n    //只存在hash\r\n    if (questionMarkIndex < 0 && wellNumberMarkIndex >= 0) {\r\n        result.hostPart = url.substr(0, wellNumberMarkIndex)\r\n        result.hashPart = lTrimString(url.substr(wellNumberMarkIndex + 1), '#')\r\n        return result\r\n    }\r\n\r\n    //同时存在查询串和hash\r\n    if (questionMarkIndex >= 0 && wellNumberMarkIndex >= 0) {\r\n        result.hostPart = url.substr(0, questionMarkIndex)\r\n        result.queryPart = lTrimString(url.substring(questionMarkIndex + 1, wellNumberMarkIndex), '?')\r\n        result.hashPart = lTrimString(url.substr(wellNumberMarkIndex + 1), '#')\r\n        return result\r\n    }\r\n\r\n    result.hostPart = url\r\n    return result\r\n}\r\n\r\n/**\r\n * 将url拆分对象合并成完整的url\r\n */\r\nexport function mergeUrlBySplitQueryInfo(splitInfo: UrlSplitByQueryType) {\r\n    if (!splitInfo) {\r\n        return \"\"\r\n    }\r\n    let url = splitInfo.hostPart || \"\"\r\n    if (splitInfo.queryPart) {\r\n        url += \"?\" + splitInfo.queryPart\r\n    }\r\n    if (splitInfo.hashPart) {\r\n        url += \"#\" + splitInfo.hashPart\r\n    }\r\n    return url\r\n}\r\n\r\n\r\n/**\r\n * 将查询串转换为key value数组（注意：若key重复，只处理第一个）\r\n * @param queryString 查询字符串，如：a=b&c=d\r\n */\r\nexport function convertQueryStringToKeyValueArray(queryString: string): KeyValue<string>[] {\r\n    const result = [] as KeyValue<string>[]\r\n    if (!queryString) {\r\n        return result\r\n    }\r\n    const keys = new Set()\r\n    queryString.split('&').forEach(item => {\r\n        if (!item) {\r\n            return\r\n        }\r\n        const [key, value] = item.split('=')\r\n        if (!key) {\r\n            return\r\n        }\r\n        if (keys.has(key)) {\r\n            return\r\n        }\r\n        keys.add(key)\r\n        result.push(new KeyValue<string>(key, value))\r\n    })\r\n    return result\r\n}\r\n\r\n/**\r\n * 将查询串的key value数组转换成普通的字符串，如：a=b&c=d（注意：若key重复，只处理第一个）\r\n * @param arr key value数组\r\n */\r\nexport function convertKeyValueArrayToQueryString(arr: KeyValue<string>[]) {\r\n    if (!arr || !arr.length) {\r\n        return \"\"\r\n    }\r\n    const keys = new Set()\r\n    const queryString = [] as string[]\r\n    arr.forEach(item => {\r\n        if (keys.has(item.key)) {\r\n            return\r\n        }\r\n        keys.add(item.key)\r\n        queryString.push(`${item.key}=${item.value}`)\r\n    })\r\n    return queryString.join(\"&\")\r\n}\r\n\r\n/**\r\n * 在url后面追加查询字符串，若其中key已存在，则覆盖\r\n * @param url url地址，如location.href\r\n * @param queryString 要追加的查询串，如：\"a=123&b=456\"\r\n */\r\nexport function appendQueryString(url: string, queryString: string) {\r\n    if (!url) {\r\n        return \"\"\r\n    }\r\n    if (!queryString) {\r\n        return url\r\n    }\r\n    const splitInfo = splitUrlByQueryInfo(url)\r\n    const urlQueryKeyValue = convertQueryStringToKeyValueArray(splitInfo.queryPart)\r\n    const appendQueryKeyValue = convertQueryStringToKeyValueArray(queryString)\r\n    appendQueryKeyValue.forEach(item => {\r\n        //已存在，则修改\r\n        const queryInfo = urlQueryKeyValue.find(k => k.key == item.key)\r\n        if (queryInfo) {\r\n            queryInfo.value = item.value\r\n            return\r\n        }\r\n        if (!item.value) {\r\n            return\r\n        }\r\n        //不存在，则追加\r\n        urlQueryKeyValue.push(new KeyValue<string>(item.key, item.value))\r\n    })\r\n    splitInfo.queryPart = convertKeyValueArrayToQueryString(urlQueryKeyValue)\r\n    return mergeUrlBySplitQueryInfo(splitInfo)\r\n}\r\n\r\n/**\r\n * 从查询串中获取指定参数\r\n * @param search 查询串，如：location.search\r\n * @param paramName 参数名\r\n */\r\nexport function getUrlParameter(search: string, paramName: string) {\r\n    const name = paramName.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n    const regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n    const results = regex.exec(search);\r\n    return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n}","/* eslint-disable import/no-default-export */\r\nimport * as string from \"./string\"\r\nimport * as array from \"./array\"\r\nimport * as convert from \"./convert\"\r\nimport * as cookie from \"./cookie\"\r\nimport * as json from \"./json\"\r\nimport * as data from \"./data\"\r\nimport * as enumTool from \"./enumTool\"\r\nimport * as idCard from \"./idCard\"\r\nimport * as image from \"./image\"\r\nimport * as lib from \"./lib\"\r\nimport * as random from \"./random\"\r\nimport * as url from \"./url\"\r\nimport * as regexp from \"./regexp\"\r\n\r\nexport default {\r\n    /**\r\n     * 字符串操作\r\n     */\r\n    string,\r\n    /**\r\n     * 数组操作\r\n     */\r\n    array,\r\n    /**\r\n     * 数据类型转换操作\r\n     */\r\n    convert,\r\n    /**\r\n     * cookie操作相关\r\n     */\r\n    cookie,\r\n    /**\r\n     * json操作\r\n     */\r\n    json,\r\n    /**\r\n     * 数据类型判断\r\n     */\r\n    data,\r\n    /**\r\n     * 枚举工具类\r\n     */\r\n    enumTool,\r\n    /**\r\n     * 证件相关\r\n     */\r\n    idCard,\r\n    /**\r\n     * 图片操作相关\r\n     */\r\n    image,\r\n    /**\r\n     * 其它常用方法\r\n     */\r\n    lib,\r\n    /**\r\n     * 随机字符串相关\r\n     */\r\n    random,\r\n    /**\r\n     * url操作\r\n     */\r\n    url,\r\n    /**\r\n     * 正则操作\r\n     */\r\n    regexp\r\n}\r\n","import { AnyKeyValueType } from \"../declaration/common\"\r\n\r\n/**\r\n * 日志级别类型\r\n */\r\nexport enum LevelTypeEnum {\r\n    \"info\" = \"info\",\r\n    \"warn\" = \"warn\",\r\n    \"error\" = \"error\"\r\n}\r\n\r\n/**\r\n * 异步日志返回类型\r\n */\r\nexport type PromiseType = Promise<void> | Promise<unknown>\r\n\r\n/**\r\n * 日志记录器接口\r\n */\r\nexport interface LogRecorderType {\r\n    /**\r\n     * 一般日志\r\n     */\r\n    info(content: any, option: AnyKeyValueType): void\r\n    /**\r\n     * 一般日志（异步）\r\n     */\r\n    infoAsync(content: any, option: AnyKeyValueType): PromiseType\r\n    /**\r\n     * 警告日志\r\n     */\r\n    warn(content: any, option: AnyKeyValueType): void\r\n    /**\r\n     * 警告日志（异步）\r\n     */\r\n    warnAsync(content: any, option: AnyKeyValueType): PromiseType\r\n    /**\r\n     * 错误日志\r\n     */\r\n    error(content: any, option: AnyKeyValueType): void\r\n    /**\r\n     * 错误日志（异步）\r\n     */\r\n    errorAsync(content: any, option: AnyKeyValueType): PromiseType\r\n}\r\n\r\nclass DefaultLogRecorderClass {\r\n    info(content: any, option: AnyKeyValueType) {\r\n        console.info(content, option)\r\n    }\r\n    infoAsync(content: any, option: AnyKeyValueType) {\r\n        console.info(content, option)\r\n        return Promise.resolve()\r\n    }\r\n    warn(content: any, option: AnyKeyValueType) {\r\n        console.warn(content, option)\r\n    }\r\n    warnAsync(content: any, option: AnyKeyValueType) {\r\n        console.warn(content, option)\r\n        return Promise.resolve()\r\n    }\r\n    error(content: any, option: AnyKeyValueType) {\r\n        console.error(content, option)\r\n    }\r\n    errorAsync(content: any, option: AnyKeyValueType) {\r\n        console.error(content, option)\r\n        return Promise.resolve()\r\n    }\r\n}\r\n\r\n/**\r\n * 当前默认的日志记录器（默认为window.console）\r\n */\r\nlet defaultLogRecorder: LogRecorderType = new DefaultLogRecorderClass()\r\n\r\n/**\r\n * 根据日志级别返回对应的日志记录函数\r\n */\r\nfunction getLogRecorder(level: LevelTypeEnum, isAsync: boolean): (obj: any, option: AnyKeyValueType) => void | ((obj: any, option: AnyKeyValueType) => PromiseType) {\r\n    if (isAsync) {\r\n        let fun = defaultLogRecorder.infoAsync\r\n        switch (level) {\r\n            case LevelTypeEnum.info:\r\n                fun = defaultLogRecorder.infoAsync\r\n                break;\r\n            case LevelTypeEnum.warn:\r\n                fun = defaultLogRecorder.warnAsync\r\n                break;\r\n            case LevelTypeEnum.error:\r\n                fun = defaultLogRecorder.errorAsync\r\n                break;\r\n        }\r\n        return fun as any\r\n    }\r\n    let fun = defaultLogRecorder.info\r\n    switch (level) {\r\n        case LevelTypeEnum.info:\r\n            fun = defaultLogRecorder.info\r\n            break;\r\n        case LevelTypeEnum.warn:\r\n            fun = defaultLogRecorder.warn\r\n            break;\r\n        case LevelTypeEnum.error:\r\n            fun = defaultLogRecorder.error\r\n            break;\r\n    }\r\n    return fun as any\r\n}\r\n\r\nclass LoggerHelper {\r\n    /**\r\n     * 写日志\r\n     * @param level 日志级别\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    write(level: LevelTypeEnum, content: any, option: AnyKeyValueType = {}) {\r\n        const logFunc = getLogRecorder(level, false)\r\n        logFunc(content, option)\r\n    }\r\n    /**\r\n     * 写日志（异步）\r\n     * @param level 日志级别\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    writeAsync(level: LevelTypeEnum, content: any, option: AnyKeyValueType = {}) {\r\n        const logFunc = getLogRecorder(level, true)\r\n        return <PromiseType>(logFunc(content, option) as any)\r\n    }\r\n    /**\r\n     *  写一般日志\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    info(content: any, option: AnyKeyValueType = {}) {\r\n        this.write(LevelTypeEnum.info, content, option)\r\n    }\r\n    /**\r\n     *  写一般日志（异步）\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    infoAsync(content: any, option: AnyKeyValueType = {}) {\r\n        return this.writeAsync(LevelTypeEnum.info, content, option)\r\n    }\r\n    /**\r\n     *  写警告日志\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    warn(content: any, option: AnyKeyValueType = {}) {\r\n        this.write(LevelTypeEnum.warn, content, option)\r\n    }\r\n    /**\r\n     *  写警告日志（异步）\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    warnAsync(content: any, option: AnyKeyValueType = {}) {\r\n        return this.writeAsync(LevelTypeEnum.warn, content, option)\r\n    }\r\n    /**\r\n     *  写错误日志\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    error(content: any, option: AnyKeyValueType = {}) {\r\n        this.write(LevelTypeEnum.error, content, option)\r\n    }\r\n    /**\r\n     *  写错误日志（异步）\r\n     * @param content 日志内容\r\n     * @param option 自定义选项\r\n     */\r\n    errorAsync(content: any, option: AnyKeyValueType = {}) {\r\n        return this.writeAsync(LevelTypeEnum.error, content, option)\r\n    }\r\n}\r\n\r\n/**\r\n * 当前日志工具类，把类型为【信息、警告、错误】的日志统一起来。\r\n * 默认的记录器为全局的console，也可以自定义日志记录器，只需要实现相应的接口即可。\r\n */\r\nexport const logger: LoggerHelper = new LoggerHelper()\r\n\r\n/**\r\n * 重新设置默认的日志记录器\r\n * @param logRecorder 新的日志记录器（默认的日志记录器为window.console）\r\n */\r\nexport function setLoggerRecorder(logRecorder: LogRecorderType) {\r\n    defaultLogRecorder = logRecorder\r\n}","/* eslint-disable import/no-default-export */\r\nimport * as common from \"./common\"\r\nimport * as recorder from \"./recorder\"\r\n\r\nexport default {\r\n    /**\r\n     * 公共相关配置\r\n     */\r\n    common,\r\n    /**\r\n     * 记录器相关配置\r\n     */\r\n    recorder\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as regexConst from \"./regex\"\r\nimport * as map from \"./map\"\r\n\r\nexport default {\r\n    /**\r\n     * 正则常量\r\n     */\r\n    regexConst,\r\n    /**\r\n     * key/value常量\r\n     */\r\n    map\r\n}\r\n","import { isNumber, isDate } from \"../common/data\"\r\n\r\n/**\r\n * 将分钟数转为带小时的字符串，如：10小时20分钟\r\n */\r\nexport function toHourStringFromMins(mins: number): string {\r\n    if (mins < 0) {\r\n        return \"\"\r\n    }\r\n    if (mins == 0) {\r\n        return \"0分钟\"\r\n    }\r\n    const h = parseInt((mins / 60).toString());\r\n    const m = parseInt((mins % 60).toString());\r\n    const s = [];\r\n    if (h > 0) {\r\n        s.push(`${h}小时`);\r\n    }\r\n    if (m > 0) {\r\n        s.push(`${m}分钟`);\r\n    }\r\n    return s.join(\"\");\r\n}\r\n\r\n/**\r\n * 将Date对象转换为指定的格式字符串\r\n * 注：月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\r\n * @param dateValue 日期对象\r\n * @param fmtStr 格式（默认值为yyyy-MM-dd），如：yyyy-MM-dd\r\n * @returns 格式化后的字符串\r\n */\r\nexport function format(dateValue: Date | number, fmtStr: string = \"yyyy-MM-dd\") {\r\n    let fmt = fmtStr\r\n    let dt: Date = dateValue as Date\r\n    if (isNumber(dateValue as any)) {\r\n        dt = new Date(dateValue)\r\n    }\r\n    if (!isDate(dt)) {\r\n        return \"\"\r\n    }\r\n    const o: any = {\r\n        \"M+\": dt.getMonth() + 1, //月份 \r\n        \"d+\": dt.getDate(), //日 \r\n        \"h+\": dt.getHours(), //小时 \r\n        \"m+\": dt.getMinutes(), //分 \r\n        \"s+\": dt.getSeconds(), //秒 \r\n        \"q+\": Math.floor((dt.getMonth() + 3) / 3), //季度 \r\n        S: dt.getMilliseconds() //毫秒 \r\n    };\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (dt.getFullYear() + \"\").substr(4 - RegExp.$1.length))\r\n    }\r\n    for (const k in o) {\r\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)))\r\n        }\r\n    }\r\n    return fmt\r\n}  ","import { DateTimeEntityType, MonthValueType, WeekValueType } from \"../declaration/date\"\r\nimport { isDate, isString } from \"../common/data\"\r\n\r\n/**\r\n * 返回时间实体对象\r\n */\r\nexport function toEntity(dt: Date): DateTimeEntityType {\r\n    const model = {} as DateTimeEntityType\r\n    model.year = dt.getFullYear()\r\n    model.month = dt.getMonth() + 1 as MonthValueType\r\n    model.day = dt.getDate()\r\n    model.hour = dt.getHours()\r\n    model.min = dt.getMinutes()\r\n    model.second = dt.getSeconds()\r\n    model.millisecond = dt.getMilliseconds()\r\n    model.week = dt.getDay() as WeekValueType\r\n    return model\r\n}\r\n\r\n/**\r\n* 将字符串\"/Date(...)/\"的日期转为js Date对象\r\n* @param dateStr date字符串，如\"/Date(1441036800000)/\"\r\n* @returns 如果转换成功，则返回Date对象，否则返回null\r\n*/\r\nexport function parse(dateStr: string): Date | null {\r\n    if (!dateStr || !isString(dateStr)) {\r\n        return null\r\n    }\r\n    let date = null\r\n    const mts = dateStr.match(/(\\/Date\\((\\d+)\\)\\/)/)\r\n    if (mts && mts.length >= 3) {\r\n        date = new Date(parseInt(mts[2]))\r\n    }\r\n    if (!isDate(date)) {\r\n        return null\r\n    }\r\n    return date\r\n}","/* eslint-disable import/no-default-export */\r\nimport * as format from \"./format\"\r\nimport * as convert from \"./convert\"\r\n\r\nexport default {\r\n    /**\r\n     * 格式化相关\r\n     */\r\n    format,\r\n    /**\r\n     * 转换相关\r\n     */\r\n    convert\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as common from \"./common\"\r\nimport * as date from \"./date\"\r\n\r\nexport default {\r\n    common,\r\n    date\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as browser from \"./browser\"\r\n\r\nexport default {\r\n    /**\r\n     * 浏览器相关\r\n     */\r\n    browser\r\n}\r\n","/**\r\n * 下拉框实体\r\n */\r\nexport class SelectItem<ValueType, ExtendType> {\r\n    constructor(text: string, value: ValueType, isSelected: boolean = false, extend?: ExtendType) {\r\n        this.text = text\r\n        this.value = value\r\n        this.isSelected = isSelected\r\n        this.extend = extend\r\n    }\r\n    /**\r\n     * 文本名\r\n     */\r\n    text: string = \"\"\r\n    /**\r\n     * 是否已选中\r\n     */\r\n    isSelected = false\r\n    /**\r\n     * value值\r\n     */\r\n    value: ValueType\r\n    /**\r\n     * 扩展属性\r\n     */\r\n    extend?: ExtendType\r\n}","/**\r\n * 序列化基类（解决getter的JSON.stringify无效的问题）\r\n */\r\nexport class BaseClass {\r\n    toJSON() {\r\n        const jsonObj = { ...this } as any\r\n        const proto = Object.getPrototypeOf(this)\r\n        for (const key of Object.getOwnPropertyNames(proto)) {\r\n            const desc = Object.getOwnPropertyDescriptor(proto, key)\r\n            const hasGetter = desc && typeof desc.get === 'function'\r\n            if (hasGetter) {\r\n                jsonObj[key] = (this as any)[key]\r\n            }\r\n        }\r\n        return jsonObj\r\n    }\r\n}","import { document, globalObject } from \"../common/lib\"\r\nimport { AnyKeyValueType } from \"../declaration/common\"\r\n\r\n/**\r\n * key 的枚举值\r\n */\r\nenum KeyTypeEnum {\r\n    /**\r\n     * 记录属性值\r\n     */\r\n    val = \"val\",\r\n    /**\r\n     * 记录innerText\r\n     */\r\n    txt = \"txt\",\r\n    /**\r\n     * 记录innerHTML\r\n     */\r\n    html = \"html\",\r\n    /**\r\n     * 记录次数\r\n     */\r\n    count = \"count\"\r\n}\r\n\r\n\r\n/**\r\n * DOM数据收集记录器类。用于批量收集DOM元素的属性信息，并将这些属性内容存放到一个对象中。jskit-key 属性必须要指定。\r\n * 示例：<div jskit-key=\"name\" jskit-type=\"val\" jskit-val=\"test\"></div>，则最终会把【name】与【test】保存到一个对象中。\r\n * 具体说明：\r\n * 1：如果此DOM的 jskit-type=\"val\"，则会记录属性 jskit-val 的值（这种情况，jskit-type 可以省略不用指定）\r\n * 2：如果此DOM的 jskit-type=\"txt\"，则会记录该DOM的innerText\r\n * 3：如果此DOM的 jskit-type=\"html\"，则会记录该DOM的innerHTML\r\n * 4：如果此DOM的 jskit-type=\"count\"，则会记录与该DOM相同【jskit-key】的DOM元素的出现次数\r\n * 5：如果此DOM只有 jskit-key 属性，则会默认记录一个标记为\"1\"\r\n */\r\nexport class DOMDataRecorder {\r\n    /**\r\n     * 当前url地址\r\n     */\r\n    url: string = \"\"\r\n    /**\r\n     * 来源url地址\r\n     */\r\n    refer: string = \"\"\r\n    /**\r\n     * 数据标识\r\n     */\r\n    id: string = \"\"\r\n    /**\r\n     * DOM元素属性前缀，默认为：jskit-\r\n     */\r\n    attrPrefix = \"jskit-\"\r\n    /**\r\n     * 数据值（键值对的形式）\r\n     */\r\n    readonly value: { [name: string]: string[] | number } = {}\r\n    /**\r\n     * 扩展自定义数据\r\n     */\r\n    extend: AnyKeyValueType | undefined = undefined\r\n    /**\r\n     * 初始化\r\n     */\r\n    init() {\r\n        //环境校验\r\n        if (!document) {\r\n            throw new Error(\"Document is not found!\")\r\n        }\r\n        //基本属性\r\n        const win = globalObject as Window\r\n        this.url = win.location.href\r\n        this.refer = document.referrer\r\n        //数据\r\n        const attrKeyName = `${this.attrPrefix}key`\r\n        const attrTypeName = `${this.attrPrefix}type`\r\n        const attrValueName = `${this.attrPrefix}val`\r\n        const eles = Array.from(document.querySelectorAll(`[${attrKeyName}]`))\r\n        if (!eles || !eles.length) {\r\n            return this\r\n        }\r\n        eles.forEach(node => {\r\n            const key = (node.getAttribute(attrKeyName) || \"\").toLowerCase().trim()\r\n            if (!key) {\r\n                return\r\n            }\r\n            const type = (node.getAttribute(attrTypeName) || \"\").toLowerCase().trim()\r\n\r\n            //初始化\r\n            if (type == KeyTypeEnum.count) {\r\n                if (!this.value[key]) {\r\n                    this.value[key] = 0\r\n                }\r\n            } else {\r\n                this.value[key] = this.value[key] || []\r\n            }\r\n\r\n            //如果存在jskit-val属性，则记录此属性值\r\n            if (node.hasAttribute(attrValueName)) {\r\n                (this.value[key] as string[]).push((node.getAttribute(attrValueName) || \"\").trim())\r\n                return\r\n            }\r\n            //记录此节点的innerText值\r\n            if (type == KeyTypeEnum.txt) {\r\n                (this.value[key] as string[]).push(((node as HTMLElement).innerText || \"\").trim())\r\n                return\r\n            }\r\n            //记录此节点的innerHTML值\r\n            if (type == KeyTypeEnum.html) {\r\n                (this.value[key] as string[]).push(((node as HTMLElement).innerHTML || \"\").trim())\r\n                return\r\n            }\r\n            //统计这些属性元素的个数\r\n            if (type == KeyTypeEnum.count) {\r\n                (this.value[key] as number) = (this.value[key] as number) + 1\r\n                return\r\n            }\r\n            //如果不存在其它属性，则直接记录一个标记\r\n            (this.value[key] as string[]).push(\"1\")\r\n        })\r\n        return this\r\n    }\r\n}","/**\r\n * 消息头\r\n */\r\nclass MessageHead {\r\n    /**\r\n     * 是否响应\r\n     */\r\n    isAck: boolean = true\r\n    /**\r\n     * 时间\r\n     */\r\n    date: number = new Date().valueOf()\r\n    /**\r\n     * 消息是否成功\r\n     */\r\n    isSuccess: boolean = true\r\n    /**\r\n     * 是否为异常\r\n     */\r\n    isException: boolean = false\r\n    /**\r\n     * 提示语\r\n     */\r\n    message: string = \"\"\r\n    /**\r\n     * 提示语的详细信息\r\n     */\r\n    messageMore: string = \"\"\r\n    /**\r\n     * 需要跳转的url地址\r\n     */\r\n    redirectURL: string = \"\"\r\n    /**\r\n     * 是否需要刷新当前页面\r\n     */\r\n    isRefresh: boolean = false\r\n    /**\r\n     * 错误码\r\n     */\r\n    errorCode: string = \"\"\r\n}\r\n\r\n/**\r\n * 消息正文\r\n */\r\nclass MessageBody<T1, T2> {\r\n    /**\r\n     * 数据\r\n     */\r\n    data: T1 = null as any\r\n    /**\r\n     * 扩展数据\r\n     */\r\n    extendData: T2 = null as any\r\n}\r\n\r\n\r\n/**\r\n * 消息实体\r\n */\r\nexport class MessageEntity<BodyDataType = any, BodyExtendDataType = any> {\r\n    /**\r\n     * 头信息\r\n     */\r\n    head: MessageHead = new MessageHead()\r\n    /**\r\n     * 正文信息\r\n     */\r\n    body: MessageBody<BodyDataType, BodyExtendDataType> = new MessageBody<BodyDataType, BodyExtendDataType>()\r\n}\r\n\r\n","/* eslint-disable import/no-default-export */\r\nimport * as idCard from \"./idCard\"\r\nimport * as keyValue from \"./keyValue\"\r\nimport * as select from \"./select\"\r\nimport * as serialize from \"./serialize\"\r\nimport * as message from \"./message\"\r\n\r\nexport default {\r\n    /**\r\n     * 证件实体\r\n     */\r\n    idCard,\r\n    /**\r\n     * key/value实体\r\n     */\r\n    keyValue,\r\n    /**\r\n     * 下拉框相关实体\r\n     */\r\n    select,\r\n    /**\r\n     * 序列化相关\r\n     */\r\n    serialize,\r\n    /**\r\n     * 消息提示实体\r\n     */\r\n    message\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as log from \"./log\"\r\nimport * as dom from \"./dom\"\r\n\r\nexport default {\r\n    log,\r\n    dom\r\n}\r\n","/**\r\n * 策略项\r\n */\r\nexport class StrategyItem<ContextType> {\r\n    constructor(name: string, context: ContextType, handler: (item: StrategyItem<ContextType>) => void) {\r\n        this.name = name\r\n        this.context = context\r\n        this.handler = handler\r\n    }\r\n    name: string = \"\"\r\n    context: ContextType\r\n    handler: (item: StrategyItem<ContextType>) => void\r\n}\r\n\r\n/**\r\n * 策略管理类，用于一次性执行多次策略方法。\r\n * 使用方法：const strategy = new Strategy()\r\n * strategy.add(item => {...}).add(item => {...}).add(item => {...}).execute()\r\n */\r\nexport class Strategy<ContextType = any> {\r\n    /**\r\n     * 策略列表\r\n     */\r\n    private _strategyList: StrategyItem<ContextType>[] = []\r\n    /**\r\n     * 上下文，用于多个策略之间的数据共享\r\n     */\r\n    context: ContextType = null as any\r\n    /**\r\n     * 添加一个策略项\r\n     */\r\n    add(handler: (item: StrategyItem<ContextType>) => void, name: string = \"\") {\r\n        this._strategyList.push(new StrategyItem(name, this.context, handler))\r\n        return this\r\n    }\r\n    /**\r\n     * 执行策略列表\r\n     */\r\n    execute() {\r\n        this._strategyList.forEach((item) => {\r\n            item.handler(item)\r\n        })\r\n    }\r\n}\r\n","import { getSymbol } from \"../common/lib\"\r\n\r\nconst classIdSymbol = getSymbol(\"class-id\")\r\n\r\n/**\r\n * 获取指定类的单个实例\r\n * @param className 类的名字\r\n */\r\nexport function getInstance<T>(ClassName: new () => T): T {\r\n    if (!classIdSymbol) {\r\n        throw new Error(\"Type of Symbol is not found!\")\r\n    }\r\n    const obj = (ClassName as any)[classIdSymbol] as T\r\n    if (typeof (obj) != 'undefined') {\r\n        return obj\r\n    }\r\n    const newObj = new ClassName()\r\n    Object.defineProperty(ClassName, classIdSymbol, {\r\n        value: newObj\r\n    })\r\n    return newObj\r\n}","/* eslint-disable import/no-default-export */\r\nimport * as strategy from \"./strategy\"\r\nimport * as singleton from \"./singleton\"\r\n\r\nexport default {\r\n    /**\r\n     * 策略模式\r\n     */\r\n    strategy,\r\n    /**\r\n     * 单例模式\r\n     */\r\n    singleton\r\n}\r\n","/* eslint-disable import/no-default-export */\r\n/**\r\n * 定时器，提供开始计时与结束计时方法，最终会计算出这两个时间的差。\r\n */\r\nexport default class StopWatch {\r\n    private _date = new Date()\r\n    private _value = 0\r\n    private _startFlag = false\r\n    private _stopFlag = false\r\n    /**\r\n     * 间隔的毫秒数\r\n     */\r\n    get value() {\r\n        return this._value\r\n    }\r\n    /**\r\n     * 开始计时\r\n     */\r\n    start() {\r\n        if (this._startFlag || this._stopFlag) {\r\n            throw new Error(\"You cannot call 'start' because this object has been started or stopt!\")\r\n        }\r\n        this._startFlag = true\r\n        this._date = new Date()\r\n        return this\r\n    }\r\n    /**\r\n     * 停止计时\r\n     */\r\n    stop() {\r\n        if (this._stopFlag) {\r\n            throw new Error(\"You cannot call 'stop' because this object has been stopt!\")\r\n        }\r\n        this._stopFlag = true\r\n        this._value = new Date().valueOf() - this._date.valueOf()\r\n        return this\r\n    }\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport stopWatch from \"./stopWatch\"\r\n\r\nexport default {\r\n    /**\r\n     * 计时器（请使用大写字母开头的）\r\n     */\r\n    stopWatch,\r\n    /**\r\n     * 计时器\r\n     */\r\n    StopWatch: stopWatch\r\n}\r\n","import { BaseClass } from \"../entity/serialize\"\r\n\r\nexport interface ValidationInitOpsType<ExtendType> {\r\n    /**\r\n     * 是否显示所有提示语\r\n     */\r\n    isShowAll?: boolean\r\n    /**\r\n     * 上一次的字段提示对象（主要用于初始化时合并对象）\r\n     */\r\n    oldItem?: FieldMessageItem<ExtendType>\r\n    /**\r\n     * 需要显示提示语的字段\r\n     */\r\n    needShowFields?: string[]\r\n    /**\r\n     * 不需要显示提示语的字段\r\n     */\r\n    unNeedShowFields?: string[]\r\n}\r\n\r\nexport interface FieldItemType {\r\n    /**\r\n     * 提示语\r\n     */\r\n    msg: string\r\n    /**\r\n     * 是否显示\r\n     */\r\n    isShow: boolean\r\n}\r\n\r\n/**\r\n * 每一项的具体提示类\r\n */\r\nexport class FieldMessageItem<ExtendType = any> {\r\n    /**\r\n     * 唯一id标识\r\n     */\r\n    id: string = \"\"\r\n    /**\r\n     * 是否验证通过\r\n     */\r\n    isPassed: boolean = true\r\n    /**\r\n     * 需要验证的具体字段信息\r\n     */\r\n    fieldItems: { [name: string]: FieldItemType } = {}\r\n    /**\r\n     * 扩展字段\r\n     */\r\n    extend: ExtendType = undefined as any\r\n    /**\r\n     * 初始化，重新设置fieldItems中的属性\r\n     */\r\n    init(ops: ValidationInitOpsType<ExtendType>) {\r\n        if (!ops) {\r\n            return this\r\n        }\r\n        Object.keys(this.fieldItems).forEach((k) => {\r\n            //如果isShowAll有值，则将所有字段的isShow设置为该值\r\n            if (ops && typeof ops.isShowAll == \"boolean\") {\r\n                this.fieldItems[k].isShow = ops.isShowAll\r\n                return\r\n            }\r\n            //如果原有的验证对象中的字段：【needShowFields包含该字段时，则isShow设置为true】，【unNeedShowFields包含该字段时，则isShow设置为false】\r\n            let oldShowValue = !!(ops.oldItem && ops.oldItem.fieldItems[k].isShow)\r\n            if ((ops.needShowFields || []).includes(k)) {\r\n                oldShowValue = true\r\n            }\r\n            if ((ops.unNeedShowFields || []).includes(k)) {\r\n                oldShowValue = false\r\n            }\r\n            this.fieldItems[k].isShow = oldShowValue\r\n        })\r\n        return this\r\n    }\r\n}\r\n\r\n/**\r\n * 字段信息提示实体类。把类似“表单验证”的场景通过一个统一的实体类来表现，方便js代码去读取与管理这些状态与信息。\r\n * 比如：如果一个输入项校验不通过，会涉及到这些数据的变化：是否验证通过、错误提示消息、是否只显示当前这一个错误消息等、是否需要清空其它错误消息等。\r\n * 示例用法：\r\n * const model = new FieldMessageModel()\r\n * model.itemList = []\r\n * const item = new FieldMessageItem()\r\n * item.isPassed = false\r\n * item.fieldItems = {\r\n * name: {\r\n *     isShow: false,\r\n *     msg: \"\"\r\n * }\r\n * 当数据化生变化时，要做的只是更新这个对象中的具体字段状态即可，业务代码中根据这些状态信息统一去显示页面。\r\n * \r\n*}\r\nmodel.itemList.push(item)\r\n * \r\n */\r\nexport class FieldMessageModel<ExtendType = any> extends BaseClass {\r\n    /**\r\n     * 是否itemList中的所有的字段提示列表均已验证通过\r\n     */\r\n    get isPassed(): boolean {\r\n        return isPassed(this)\r\n    }\r\n    /**\r\n     * 字段提示列表\r\n     */\r\n    itemList: FieldMessageItem<ExtendType>[] = []\r\n    /**\r\n     * 根据id返回指定的字段提示项\r\n     */\r\n    getItem(id: string): FieldMessageItem<ExtendType> | null {\r\n        return getItem(this, id)\r\n    }\r\n    toJSON() {\r\n        return {\r\n            isPassed: this.isPassed,\r\n            itemList: this.itemList\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 判断FieldMessageModel是否验证通过\r\n */\r\nexport function isPassed<ExtendType>(model: FieldMessageModel<ExtendType>) {\r\n    if (!model.itemList.length) {\r\n        return true\r\n    }\r\n    return !model.itemList.find((k) => !k.isPassed)\r\n}\r\n\r\n/**\r\n * 根据id返回FieldMessageModel中对应的FieldMessageItem\r\n */\r\nexport function getItem<ExtendType>(model: FieldMessageModel<ExtendType>, id: string): FieldMessageItem<ExtendType> | null {\r\n    return model.itemList.find((k) => k.id == id) || null\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport * as fieldMessage from \"./fieldMessage\"\r\nexport default {\r\n    /**\r\n     * 带提示信息的字段显示与隐藏\r\n     */\r\n    fieldMessage\r\n}\r\n","/* eslint-disable import/no-default-export */\r\nimport cache from \"./cache/index\"\r\nimport check from \"./check/index\"\r\nimport common from \"./common/index\"\r\nimport config from \"./config/index\"\r\nimport constant from \"./constant/index\"\r\nimport date from \"./date/index\"\r\nimport declaration from \"./declaration/index\"\r\nimport device from \"./device/index\"\r\nimport entity from \"./entity/index\"\r\nimport recorder from \"./recorder/index\"\r\nimport pattern from \"./pattern/index\"\r\nimport timer from \"./timer/index\"\r\nimport validation from \"./validation/index\"\r\n\r\nexport default {\r\n    cache,\r\n    check,\r\n    common,\r\n    config,\r\n    constant,\r\n    date,\r\n    declaration,\r\n    device,\r\n    entity,\r\n    recorder,\r\n    pattern,\r\n    timer,\r\n    validation\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\tvar execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: __webpack_require__ };\n\t__webpack_require__.i.forEach(function(handler) { handler(execOptions); });\n\tmodule = execOptions.module;\n\texecOptions.factory.call(module.exports, module, module.exports, execOptions.require);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n// expose the module execution interceptor\n__webpack_require__.i = [];\n\n","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(8402);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var currentModuleData = {};\nvar installedModules = __webpack_require__.c;\n\n// module and require creation\nvar currentChildModule;\nvar currentParents = [];\n\n// status\nvar registeredStatusHandlers = [];\nvar currentStatus = \"idle\";\n\n// while downloading\nvar blockingPromises;\n\n// The update info\nvar currentUpdateApplyHandlers;\nvar queuedInvalidatedModules;\n\n__webpack_require__.hmrD = currentModuleData;\n\n__webpack_require__.i.push(function (options) {\n\tvar module = options.module;\n\tvar require = createRequire(options.require, options.id);\n\tmodule.hot = createModuleHotObject(options.id, module);\n\tmodule.parents = currentParents;\n\tmodule.children = [];\n\tcurrentParents = [];\n\toptions.require = require;\n});\n\n__webpack_require__.hmrC = {};\n__webpack_require__.hmrI = {};\n\nfunction createRequire(require, moduleId) {\n\tvar me = installedModules[moduleId];\n\tif (!me) return require;\n\tvar fn = function (request) {\n\t\tif (me.hot.active) {\n\t\t\tif (installedModules[request]) {\n\t\t\t\tvar parents = installedModules[request].parents;\n\t\t\t\tif (parents.indexOf(moduleId) === -1) {\n\t\t\t\t\tparents.push(moduleId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentParents = [moduleId];\n\t\t\t\tcurrentChildModule = request;\n\t\t\t}\n\t\t\tif (me.children.indexOf(request) === -1) {\n\t\t\t\tme.children.push(request);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\n\t\t\t\t\"[HMR] unexpected require(\" +\n\t\t\t\t\trequest +\n\t\t\t\t\t\") from disposed module \" +\n\t\t\t\t\tmoduleId\n\t\t\t);\n\t\t\tcurrentParents = [];\n\t\t}\n\t\treturn require(request);\n\t};\n\tvar createPropertyDescriptor = function (name) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn require[name];\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\trequire[name] = value;\n\t\t\t}\n\t\t};\n\t};\n\tfor (var name in require) {\n\t\tif (Object.prototype.hasOwnProperty.call(require, name) && name !== \"e\") {\n\t\t\tObject.defineProperty(fn, name, createPropertyDescriptor(name));\n\t\t}\n\t}\n\tfn.e = function (chunkId) {\n\t\treturn trackBlockingPromise(require.e(chunkId));\n\t};\n\treturn fn;\n}\n\nfunction createModuleHotObject(moduleId, me) {\n\tvar hot = {\n\t\t// private stuff\n\t\t_acceptedDependencies: {},\n\t\t_declinedDependencies: {},\n\t\t_selfAccepted: false,\n\t\t_selfDeclined: false,\n\t\t_selfInvalidated: false,\n\t\t_disposeHandlers: [],\n\t\t_main: currentChildModule !== moduleId,\n\t\t_requireSelf: function () {\n\t\t\tcurrentParents = me.parents.slice();\n\t\t\tcurrentChildModule = moduleId;\n\t\t\t__webpack_require__(moduleId);\n\t\t},\n\n\t\t// Module API\n\t\tactive: true,\n\t\taccept: function (dep, callback) {\n\t\t\tif (dep === undefined) hot._selfAccepted = true;\n\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n\t\t\telse if (typeof dep === \"object\" && dep !== null)\n\t\t\t\tfor (var i = 0; i < dep.length; i++)\n\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function () {};\n\t\t\telse hot._acceptedDependencies[dep] = callback || function () {};\n\t\t},\n\t\tdecline: function (dep) {\n\t\t\tif (dep === undefined) hot._selfDeclined = true;\n\t\t\telse if (typeof dep === \"object\" && dep !== null)\n\t\t\t\tfor (var i = 0; i < dep.length; i++)\n\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n\t\t\telse hot._declinedDependencies[dep] = true;\n\t\t},\n\t\tdispose: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\taddDisposeHandler: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\tremoveDisposeHandler: function (callback) {\n\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n\t\t},\n\t\tinvalidate: function () {\n\t\t\tthis._selfInvalidated = true;\n\t\t\tswitch (currentStatus) {\n\t\t\t\tcase \"idle\":\n\t\t\t\t\tcurrentUpdateApplyHandlers = [];\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tsetStatus(\"ready\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ready\":\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepare\":\n\t\t\t\tcase \"check\":\n\t\t\t\tcase \"dispose\":\n\t\t\t\tcase \"apply\":\n\t\t\t\t\t(queuedInvalidatedModules = queuedInvalidatedModules || []).push(\n\t\t\t\t\t\tmoduleId\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// ignore requests in error states\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t// Management API\n\t\tcheck: hotCheck,\n\t\tapply: hotApply,\n\t\tstatus: function (l) {\n\t\t\tif (!l) return currentStatus;\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\taddStatusHandler: function (l) {\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\tremoveStatusHandler: function (l) {\n\t\t\tvar idx = registeredStatusHandlers.indexOf(l);\n\t\t\tif (idx >= 0) registeredStatusHandlers.splice(idx, 1);\n\t\t},\n\n\t\t//inherit from previous dispose call\n\t\tdata: currentModuleData[moduleId]\n\t};\n\tcurrentChildModule = undefined;\n\treturn hot;\n}\n\nfunction setStatus(newStatus) {\n\tcurrentStatus = newStatus;\n\tfor (var i = 0; i < registeredStatusHandlers.length; i++)\n\t\tregisteredStatusHandlers[i].call(null, newStatus);\n}\n\nfunction trackBlockingPromise(promise) {\n\tswitch (currentStatus) {\n\t\tcase \"ready\":\n\t\t\tsetStatus(\"prepare\");\n\t\t\tblockingPromises.push(promise);\n\t\t\twaitForBlockingPromises(function () {\n\t\t\t\tsetStatus(\"ready\");\n\t\t\t});\n\t\t\treturn promise;\n\t\tcase \"prepare\":\n\t\t\tblockingPromises.push(promise);\n\t\t\treturn promise;\n\t\tdefault:\n\t\t\treturn promise;\n\t}\n}\n\nfunction waitForBlockingPromises(fn) {\n\tif (blockingPromises.length === 0) return fn();\n\tvar blocker = blockingPromises;\n\tblockingPromises = [];\n\treturn Promise.all(blocker).then(function () {\n\t\treturn waitForBlockingPromises(fn);\n\t});\n}\n\nfunction hotCheck(applyOnUpdate) {\n\tif (currentStatus !== \"idle\") {\n\t\tthrow new Error(\"check() is only allowed in idle status\");\n\t}\n\tsetStatus(\"check\");\n\treturn __webpack_require__.hmrM().then(function (update) {\n\t\tif (!update) {\n\t\t\tsetStatus(applyInvalidatedModules() ? \"ready\" : \"idle\");\n\t\t\treturn null;\n\t\t}\n\n\t\tsetStatus(\"prepare\");\n\n\t\tvar updatedModules = [];\n\t\tblockingPromises = [];\n\t\tcurrentUpdateApplyHandlers = [];\n\n\t\treturn Promise.all(\n\t\t\tObject.keys(__webpack_require__.hmrC).reduce(function (\n\t\t\t\tpromises,\n\t\t\t\tkey\n\t\t\t) {\n\t\t\t\t__webpack_require__.hmrC[key](\n\t\t\t\t\tupdate.c,\n\t\t\t\t\tupdate.r,\n\t\t\t\t\tupdate.m,\n\t\t\t\t\tpromises,\n\t\t\t\t\tcurrentUpdateApplyHandlers,\n\t\t\t\t\tupdatedModules\n\t\t\t\t);\n\t\t\t\treturn promises;\n\t\t\t},\n\t\t\t[])\n\t\t).then(function () {\n\t\t\treturn waitForBlockingPromises(function () {\n\t\t\t\tif (applyOnUpdate) {\n\t\t\t\t\treturn internalApply(applyOnUpdate);\n\t\t\t\t} else {\n\t\t\t\t\tsetStatus(\"ready\");\n\n\t\t\t\t\treturn updatedModules;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction hotApply(options) {\n\tif (currentStatus !== \"ready\") {\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n\t\t});\n\t}\n\treturn internalApply(options);\n}\n\nfunction internalApply(options) {\n\toptions = options || {};\n\n\tapplyInvalidatedModules();\n\n\tvar results = currentUpdateApplyHandlers.map(function (handler) {\n\t\treturn handler(options);\n\t});\n\tcurrentUpdateApplyHandlers = undefined;\n\n\tvar errors = results\n\t\t.map(function (r) {\n\t\t\treturn r.error;\n\t\t})\n\t\t.filter(Boolean);\n\n\tif (errors.length > 0) {\n\t\tsetStatus(\"abort\");\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow errors[0];\n\t\t});\n\t}\n\n\t// Now in \"dispose\" phase\n\tsetStatus(\"dispose\");\n\n\tresults.forEach(function (result) {\n\t\tif (result.dispose) result.dispose();\n\t});\n\n\t// Now in \"apply\" phase\n\tsetStatus(\"apply\");\n\n\tvar error;\n\tvar reportError = function (err) {\n\t\tif (!error) error = err;\n\t};\n\n\tvar outdatedModules = [];\n\tresults.forEach(function (result) {\n\t\tif (result.apply) {\n\t\t\tvar modules = result.apply(reportError);\n\t\t\tif (modules) {\n\t\t\t\tfor (var i = 0; i < modules.length; i++) {\n\t\t\t\t\toutdatedModules.push(modules[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// handle errors in accept handlers and self accepted module load\n\tif (error) {\n\t\tsetStatus(\"fail\");\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow error;\n\t\t});\n\t}\n\n\tif (queuedInvalidatedModules) {\n\t\treturn internalApply(options).then(function (list) {\n\t\t\toutdatedModules.forEach(function (moduleId) {\n\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n\t\t\t});\n\t\t\treturn list;\n\t\t});\n\t}\n\n\tsetStatus(\"idle\");\n\treturn Promise.resolve(outdatedModules);\n}\n\nfunction applyInvalidatedModules() {\n\tif (queuedInvalidatedModules) {\n\t\tif (!currentUpdateApplyHandlers) currentUpdateApplyHandlers = [];\n\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\tqueuedInvalidatedModules.forEach(function (moduleId) {\n\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\tmoduleId,\n\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tqueuedInvalidatedModules = undefined;\n\t\treturn true;\n\t}\n}"],"sourceRoot":""}